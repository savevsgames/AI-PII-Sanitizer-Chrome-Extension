/*! For license information please see content.js.LICENSE.txt */
(()=>{"use strict";class e{constructor(){this.observer=null,this.aliases=new Map,this.debounceTimer=null,this.isActive=!1,this.DEBOUNCE_MS=300,this.MAX_MUTATIONS_PER_BATCH=100,this.RESPONSE_SELECTORS=[".model-response-text",".message-content",".markdown-main-panel",".response-content"],this.EXCLUDE_SELECTORS=["code","pre",".user-message","input","textarea"],console.log("[Gemini Observer] Initialized")}start(){console.log("[Gemini Observer] üöÄ START called"),console.log("[Gemini Observer] üåê URL:",window.location.href),this.isActive?console.warn("[Gemini Observer] Already running"):(this.fetchAliases(),this.observer=new MutationObserver(e=>{this.handleMutations(e)}),this.observer.observe(document.body,{childList:!0,subtree:!0,characterData:!0,characterDataOldValue:!1}),this.isActive=!0,console.log("[Gemini Observer] Started watching for responses"))}stop(){this.observer&&(this.observer.disconnect(),this.observer=null),this.debounceTimer&&(window.clearTimeout(this.debounceTimer),this.debounceTimer=null),this.isActive=!1,console.log("[Gemini Observer] Stopped")}isRunning(){return this.isActive}updateAliases(e){this.aliases.clear(),e.forEach(({real:e,alias:t})=>{this.aliases.set(t.toLowerCase(),e),this.aliases.set(t.toUpperCase(),e),this.aliases.set(this.toTitleCase(t),e)}),console.log("[Gemini Observer] Updated aliases:",this.aliases.size)}handleMutations(e){e.length>this.MAX_MUTATIONS_PER_BATCH&&(console.warn("[Gemini Observer] Large mutation batch:",e.length),e=e.slice(0,this.MAX_MUTATIONS_PER_BATCH)),this.debounceTimer&&window.clearTimeout(this.debounceTimer),this.debounceTimer=window.setTimeout(()=>{this.processMutations(e)},this.DEBOUNCE_MS)}processMutations(e){console.log("[Gemini Observer] üîÑ Processing",e.length,"mutations");const t=performance.now();let n=0;const o=[];e.forEach(e=>{if("childList"===e.type)e.addedNodes.forEach(e=>{this.isResponseNode(e)&&o.push(...this.getTextNodes(e))});else if("characterData"===e.type){const t=e.target;this.isResponseNode(t.parentElement)&&o.push(t)}}),console.log("[Gemini Observer] üìù Found",o.length,"text nodes"),console.log("[Gemini Observer] üó∫Ô∏è Aliases loaded:",this.aliases.size),o.forEach(e=>{this.replaceAliasesInText(e)&&n++});const i=performance.now()-t;n>0&&console.log(`[Gemini Observer] Replaced ${n} aliases in ${i.toFixed(2)}ms`)}isResponseNode(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=e;for(const e of this.EXCLUDE_SELECTORS)if(t.matches(e)||t.closest(e))return!1;for(const e of this.RESPONSE_SELECTORS)if(t.matches(e)||t.closest(e))return!0;return!1}getTextNodes(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:e=>e.textContent?.trim()&&this.isResponseNode(e.parentElement)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT});let o;for(;o=n.nextNode();)t.push(o);return t}replaceAliasesInText(e){if(!e.textContent)return!1;let t=e.textContent,n=!1;return this.aliases.forEach((e,o)=>{const i=new RegExp(`\\b${this.escapeRegex(o)}\\b`,"gi");i.test(t)&&(t=t.replace(i,e),n=!0)}),n&&(e.textContent=t),n}async fetchAliases(){try{const e=Math.random().toString(36).substr(2,9),t=n=>{if("ai-pii-content"===n.data?.source&&n.data?.messageId===e){window.removeEventListener("message",t);const e=n.data.response;if(e?.success&&e.data){const t=[];e.data.forEach((e,n)=>{e.enabled&&(e.real?.name&&e.alias?.name&&t.push({real:e.real.name,alias:e.alias.name}),e.real?.email&&e.alias?.email&&t.push({real:e.real.email,alias:e.alias.email}),e.real?.phone&&e.alias?.phone&&t.push({real:e.real.phone,alias:e.alias.phone}),e.real?.cellPhone&&e.alias?.cellPhone&&t.push({real:e.real.cellPhone,alias:e.alias.cellPhone}),e.real?.address&&e.alias?.address&&t.push({real:e.real.address,alias:e.alias.address}),e.real?.company&&e.alias?.company&&t.push({real:e.real.company,alias:e.alias.company}),e.real?.custom&&e.alias?.custom&&Object.keys(e.real.custom).forEach(n=>{e.real.custom[n]&&e.alias.custom[n]&&t.push({real:e.real.custom[n],alias:e.alias.custom[n]})}))}),console.log("[Gemini Observer] Fetched profiles with aliases:",t.length),this.updateAliases(t)}else console.warn("[Gemini Observer] Failed to fetch aliases:",e)}};window.addEventListener("message",t),window.postMessage({source:"ai-pii-inject",messageId:e,type:"GET_PROFILES",payload:{}},"*"),setTimeout(()=>{window.removeEventListener("message",t)},5e3)}catch(e){console.error("[Gemini Observer] Error fetching aliases:",e)}}escapeRegex(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}toTitleCase(e){return e.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())}}let t=null;function n(){const n=window.location.hostname;console.log("[Observers] üöÄ Initializing for:",n),console.log("[Observers] üåê Full URL:",window.location.href),console.log("[Observers] üîç Is Gemini?",n.includes("gemini.google.com")),t&&(t.stop(),t=null),n.includes("gemini.google.com")?(console.log("[Observers] ‚úÖ GEMINI DETECTED!"),console.log("[Observers] üöÄ Starting Gemini observer..."),t=new e,t.start()):console.log("[Observers] No observer needed for this service")}const{entries:o,setPrototypeOf:i,isFrozen:a,getPrototypeOf:r,getOwnPropertyDescriptor:s}=Object;let{freeze:l,seal:c,create:d}=Object,{apply:p,construct:u}="undefined"!=typeof Reflect&&Reflect;l||(l=function(e){return e}),c||(c=function(e){return e}),p||(p=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return e.apply(t,o)}),u||(u=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return new e(...n)});const m=k(Array.prototype.forEach),g=k(Array.prototype.lastIndexOf),f=k(Array.prototype.pop),h=k(Array.prototype.push),b=k(Array.prototype.splice),y=k(String.prototype.toLowerCase),E=k(String.prototype.toString),x=k(String.prototype.match),T=k(String.prototype.replace),w=k(String.prototype.indexOf),v=k(String.prototype.trim),A=k(Object.prototype.hasOwnProperty),S=k(RegExp.prototype.test),C=(_=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(_,t)});var _;function k(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return p(e,t,o)}}function N(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;i&&i(e,null);let o=t.length;for(;o--;){let i=t[o];if("string"==typeof i){const e=n(i);e!==i&&(a(t)||(t[o]=e),i=e)}e[i]=!0}return e}function L(e){for(let t=0;t<e.length;t++)A(e,t)||(e[t]=null);return e}function R(e){const t=d(null);for(const[n,i]of o(e))A(e,n)&&(Array.isArray(i)?t[n]=L(i):i&&"object"==typeof i&&i.constructor===Object?t[n]=R(i):t[n]=i);return t}function O(e,t){for(;null!==e;){const n=s(e,t);if(n){if(n.get)return k(n.get);if("function"==typeof n.value)return k(n.value)}e=r(e)}return function(){return null}}const I=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),M=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),D=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),P=l(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),z=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),U=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),F=l(["#text"]),H=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),G=l(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),B=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),j=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),W=c(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Y=c(/<%[\w\W]*|[\w\W]*%>/gm),q=c(/\$\{[\w\W]*/gm),X=c(/^data-[\-\w.\u00B7-\uFFFF]+$/),$=c(/^aria-[\-\w]+$/),K=c(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V=c(/^(?:\w+script|data):/i),J=c(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Z=c(/^html$/i),Q=c(/^[a-z][.\w]*(-[.\w]+)+$/i);var ee=Object.freeze({__proto__:null,ARIA_ATTR:$,ATTR_WHITESPACE:J,CUSTOM_ELEMENT:Q,DATA_ATTR:X,DOCTYPE_NAME:Z,ERB_EXPR:Y,IS_ALLOWED_URI:K,IS_SCRIPT_OR_DATA:V,MUSTACHE_EXPR:W,TMPLIT_EXPR:q});const te=function(){return"undefined"==typeof window?null:window};var ne=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te();const n=t=>e(t);if(n.version="3.3.0",n.removed=[],!t||!t.document||9!==t.document.nodeType||!t.Element)return n.isSupported=!1,n;let{document:i}=t;const a=i,r=a.currentScript,{DocumentFragment:s,HTMLTemplateElement:c,Node:p,Element:u,NodeFilter:_,NamedNodeMap:k=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:L,DOMParser:W,trustedTypes:Y}=t,q=u.prototype,X=O(q,"cloneNode"),$=O(q,"remove"),V=O(q,"nextSibling"),J=O(q,"childNodes"),Q=O(q,"parentNode");if("function"==typeof c){const e=i.createElement("template");e.content&&e.content.ownerDocument&&(i=e.content.ownerDocument)}let ne,oe="";const{implementation:ie,createNodeIterator:ae,createDocumentFragment:re,getElementsByTagName:se}=i,{importNode:le}=a;let ce={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof o&&"function"==typeof Q&&ie&&void 0!==ie.createHTMLDocument;const{MUSTACHE_EXPR:de,ERB_EXPR:pe,TMPLIT_EXPR:ue,DATA_ATTR:me,ARIA_ATTR:ge,IS_SCRIPT_OR_DATA:fe,ATTR_WHITESPACE:he,CUSTOM_ELEMENT:be}=ee;let{IS_ALLOWED_URI:ye}=ee,Ee=null;const xe=N({},[...I,...M,...D,...z,...F]);let Te=null;const we=N({},[...H,...G,...B,...j]);let ve=Object.seal(d(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ae=null,Se=null;const Ce=Object.seal(d(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let _e=!0,ke=!0,Ne=!1,Le=!0,Re=!1,Oe=!0,Ie=!1,Me=!1,De=!1,Pe=!1,ze=!1,Ue=!1,Fe=!0,He=!1,Ge=!0,Be=!1,je={},We=null;const Ye=N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let qe=null;const Xe=N({},["audio","video","img","source","image","track"]);let $e=null;const Ke=N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ve="http://www.w3.org/1998/Math/MathML",Je="http://www.w3.org/2000/svg",Ze="http://www.w3.org/1999/xhtml";let Qe=Ze,et=!1,tt=null;const nt=N({},[Ve,Je,Ze],E);let ot=N({},["mi","mo","mn","ms","mtext"]),it=N({},["annotation-xml"]);const at=N({},["title","style","font","a","script"]);let rt=null;const st=["application/xhtml+xml","text/html"];let lt=null,ct=null;const dt=i.createElement("form"),pt=function(e){return e instanceof RegExp||e instanceof Function},ut=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ct||ct!==e){if(e&&"object"==typeof e||(e={}),e=R(e),rt=-1===st.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,lt="application/xhtml+xml"===rt?E:y,Ee=A(e,"ALLOWED_TAGS")?N({},e.ALLOWED_TAGS,lt):xe,Te=A(e,"ALLOWED_ATTR")?N({},e.ALLOWED_ATTR,lt):we,tt=A(e,"ALLOWED_NAMESPACES")?N({},e.ALLOWED_NAMESPACES,E):nt,$e=A(e,"ADD_URI_SAFE_ATTR")?N(R(Ke),e.ADD_URI_SAFE_ATTR,lt):Ke,qe=A(e,"ADD_DATA_URI_TAGS")?N(R(Xe),e.ADD_DATA_URI_TAGS,lt):Xe,We=A(e,"FORBID_CONTENTS")?N({},e.FORBID_CONTENTS,lt):Ye,Ae=A(e,"FORBID_TAGS")?N({},e.FORBID_TAGS,lt):R({}),Se=A(e,"FORBID_ATTR")?N({},e.FORBID_ATTR,lt):R({}),je=!!A(e,"USE_PROFILES")&&e.USE_PROFILES,_e=!1!==e.ALLOW_ARIA_ATTR,ke=!1!==e.ALLOW_DATA_ATTR,Ne=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Le=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Re=e.SAFE_FOR_TEMPLATES||!1,Oe=!1!==e.SAFE_FOR_XML,Ie=e.WHOLE_DOCUMENT||!1,Pe=e.RETURN_DOM||!1,ze=e.RETURN_DOM_FRAGMENT||!1,Ue=e.RETURN_TRUSTED_TYPE||!1,De=e.FORCE_BODY||!1,Fe=!1!==e.SANITIZE_DOM,He=e.SANITIZE_NAMED_PROPS||!1,Ge=!1!==e.KEEP_CONTENT,Be=e.IN_PLACE||!1,ye=e.ALLOWED_URI_REGEXP||K,Qe=e.NAMESPACE||Ze,ot=e.MATHML_TEXT_INTEGRATION_POINTS||ot,it=e.HTML_INTEGRATION_POINTS||it,ve=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&pt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ve.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&pt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ve.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ve.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Re&&(ke=!1),ze&&(Pe=!0),je&&(Ee=N({},F),Te=[],!0===je.html&&(N(Ee,I),N(Te,H)),!0===je.svg&&(N(Ee,M),N(Te,G),N(Te,j)),!0===je.svgFilters&&(N(Ee,D),N(Te,G),N(Te,j)),!0===je.mathMl&&(N(Ee,z),N(Te,B),N(Te,j))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?Ce.tagCheck=e.ADD_TAGS:(Ee===xe&&(Ee=R(Ee)),N(Ee,e.ADD_TAGS,lt))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?Ce.attributeCheck=e.ADD_ATTR:(Te===we&&(Te=R(Te)),N(Te,e.ADD_ATTR,lt))),e.ADD_URI_SAFE_ATTR&&N($e,e.ADD_URI_SAFE_ATTR,lt),e.FORBID_CONTENTS&&(We===Ye&&(We=R(We)),N(We,e.FORBID_CONTENTS,lt)),Ge&&(Ee["#text"]=!0),Ie&&N(Ee,["html","head","body"]),Ee.table&&(N(Ee,["tbody"]),delete Ae.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw C('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw C('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ne=e.TRUSTED_TYPES_POLICY,oe=ne.createHTML("")}else void 0===ne&&(ne=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(Y,r)),null!==ne&&"string"==typeof oe&&(oe=ne.createHTML(""));l&&l(e),ct=e}},mt=N({},[...M,...D,...P]),gt=N({},[...z,...U]),ft=function(e){h(n.removed,{element:e});try{Q(e).removeChild(e)}catch(t){$(e)}},ht=function(e,t){try{h(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){h(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(Pe||ze)try{ft(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},bt=function(e){let t=null,n=null;if(De)e="<remove></remove>"+e;else{const t=x(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===rt&&Qe===Ze&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const o=ne?ne.createHTML(e):e;if(Qe===Ze)try{t=(new W).parseFromString(o,rt)}catch(e){}if(!t||!t.documentElement){t=ie.createDocument(Qe,"template",null);try{t.documentElement.innerHTML=et?oe:o}catch(e){}}const a=t.body||t.documentElement;return e&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),Qe===Ze?se.call(t,Ie?"html":"body")[0]:Ie?t.documentElement:a},yt=function(e){return ae.call(e.ownerDocument||e,e,_.SHOW_ELEMENT|_.SHOW_COMMENT|_.SHOW_TEXT|_.SHOW_PROCESSING_INSTRUCTION|_.SHOW_CDATA_SECTION,null)},Et=function(e){return e instanceof L&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof k)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},xt=function(e){return"function"==typeof p&&e instanceof p};function Tt(e,t,o){m(e,e=>{e.call(n,t,o,ct)})}const wt=function(e){let t=null;if(Tt(ce.beforeSanitizeElements,e,null),Et(e))return ft(e),!0;const o=lt(e.nodeName);if(Tt(ce.uponSanitizeElement,e,{tagName:o,allowedTags:Ee}),Oe&&e.hasChildNodes()&&!xt(e.firstElementChild)&&S(/<[/\w!]/g,e.innerHTML)&&S(/<[/\w!]/g,e.textContent))return ft(e),!0;if(7===e.nodeType)return ft(e),!0;if(Oe&&8===e.nodeType&&S(/<[/\w]/g,e.data))return ft(e),!0;if(!(Ce.tagCheck instanceof Function&&Ce.tagCheck(o))&&(!Ee[o]||Ae[o])){if(!Ae[o]&&At(o)){if(ve.tagNameCheck instanceof RegExp&&S(ve.tagNameCheck,o))return!1;if(ve.tagNameCheck instanceof Function&&ve.tagNameCheck(o))return!1}if(Ge&&!We[o]){const t=Q(e)||e.parentNode,n=J(e)||e.childNodes;if(n&&t)for(let o=n.length-1;o>=0;--o){const i=X(n[o],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,V(e))}}return ft(e),!0}return e instanceof u&&!function(e){let t=Q(e);t&&t.tagName||(t={namespaceURI:Qe,tagName:"template"});const n=y(e.tagName),o=y(t.tagName);return!!tt[e.namespaceURI]&&(e.namespaceURI===Je?t.namespaceURI===Ze?"svg"===n:t.namespaceURI===Ve?"svg"===n&&("annotation-xml"===o||ot[o]):Boolean(mt[n]):e.namespaceURI===Ve?t.namespaceURI===Ze?"math"===n:t.namespaceURI===Je?"math"===n&&it[o]:Boolean(gt[n]):e.namespaceURI===Ze?!(t.namespaceURI===Je&&!it[o])&&!(t.namespaceURI===Ve&&!ot[o])&&!gt[n]&&(at[n]||!mt[n]):!("application/xhtml+xml"!==rt||!tt[e.namespaceURI]))}(e)?(ft(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!S(/<\/no(script|embed|frames)/i,e.innerHTML)?(Re&&3===e.nodeType&&(t=e.textContent,m([de,pe,ue],e=>{t=T(t,e," ")}),e.textContent!==t&&(h(n.removed,{element:e.cloneNode()}),e.textContent=t)),Tt(ce.afterSanitizeElements,e,null),!1):(ft(e),!0)},vt=function(e,t,n){if(Fe&&("id"===t||"name"===t)&&(n in i||n in dt))return!1;if(ke&&!Se[t]&&S(me,t));else if(_e&&S(ge,t));else if(Ce.attributeCheck instanceof Function&&Ce.attributeCheck(t,e));else if(!Te[t]||Se[t]){if(!(At(e)&&(ve.tagNameCheck instanceof RegExp&&S(ve.tagNameCheck,e)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(e))&&(ve.attributeNameCheck instanceof RegExp&&S(ve.attributeNameCheck,t)||ve.attributeNameCheck instanceof Function&&ve.attributeNameCheck(t,e))||"is"===t&&ve.allowCustomizedBuiltInElements&&(ve.tagNameCheck instanceof RegExp&&S(ve.tagNameCheck,n)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(n))))return!1}else if($e[t]);else if(S(ye,T(n,he,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==w(n,"data:")||!qe[e])if(Ne&&!S(fe,T(n,he,"")));else if(n)return!1;return!0},At=function(e){return"annotation-xml"!==e&&x(e,be)},St=function(e){Tt(ce.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Et(e))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Te,forceKeepAttr:void 0};let i=t.length;for(;i--;){const a=t[i],{name:r,namespaceURI:s,value:l}=a,c=lt(r),d=l;let p="value"===r?d:v(d);if(o.attrName=c,o.attrValue=p,o.keepAttr=!0,o.forceKeepAttr=void 0,Tt(ce.uponSanitizeAttribute,e,o),p=o.attrValue,!He||"id"!==c&&"name"!==c||(ht(r,e),p="user-content-"+p),Oe&&S(/((--!?|])>)|<\/(style|title|textarea)/i,p)){ht(r,e);continue}if("attributename"===c&&x(p,"href")){ht(r,e);continue}if(o.forceKeepAttr)continue;if(!o.keepAttr){ht(r,e);continue}if(!Le&&S(/\/>/i,p)){ht(r,e);continue}Re&&m([de,pe,ue],e=>{p=T(p,e," ")});const u=lt(e.nodeName);if(vt(u,c,p)){if(ne&&"object"==typeof Y&&"function"==typeof Y.getAttributeType)if(s);else switch(Y.getAttributeType(u,c)){case"TrustedHTML":p=ne.createHTML(p);break;case"TrustedScriptURL":p=ne.createScriptURL(p)}if(p!==d)try{s?e.setAttributeNS(s,r,p):e.setAttribute(r,p),Et(e)?ft(e):f(n.removed)}catch(t){ht(r,e)}}else ht(r,e)}Tt(ce.afterSanitizeAttributes,e,null)},Ct=function e(t){let n=null;const o=yt(t);for(Tt(ce.beforeSanitizeShadowDOM,t,null);n=o.nextNode();)Tt(ce.uponSanitizeShadowNode,n,null),wt(n),St(n),n.content instanceof s&&e(n.content);Tt(ce.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,i=null,r=null,l=null;if(et=!e,et&&(e="\x3c!--\x3e"),"string"!=typeof e&&!xt(e)){if("function"!=typeof e.toString)throw C("toString is not a function");if("string"!=typeof(e=e.toString()))throw C("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Me||ut(t),n.removed=[],"string"==typeof e&&(Be=!1),Be){if(e.nodeName){const t=lt(e.nodeName);if(!Ee[t]||Ae[t])throw C("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof p)o=bt("\x3c!----\x3e"),i=o.ownerDocument.importNode(e,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?o=i:o.appendChild(i);else{if(!Pe&&!Re&&!Ie&&-1===e.indexOf("<"))return ne&&Ue?ne.createHTML(e):e;if(o=bt(e),!o)return Pe?null:Ue?oe:""}o&&De&&ft(o.firstChild);const c=yt(Be?e:o);for(;r=c.nextNode();)wt(r),St(r),r.content instanceof s&&Ct(r.content);if(Be)return e;if(Pe){if(ze)for(l=re.call(o.ownerDocument);o.firstChild;)l.appendChild(o.firstChild);else l=o;return(Te.shadowroot||Te.shadowrootmode)&&(l=le.call(a,l,!0)),l}let d=Ie?o.outerHTML:o.innerHTML;return Ie&&Ee["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&S(Z,o.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+d),Re&&m([de,pe,ue],e=>{d=T(d,e," ")}),ne&&Ue?ne.createHTML(d):d},n.setConfig=function(){ut(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Me=!0},n.clearConfig=function(){ct=null,Me=!1},n.isValidAttribute=function(e,t,n){ct||ut({});const o=lt(e),i=lt(t);return vt(o,i,n)},n.addHook=function(e,t){"function"==typeof t&&h(ce[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=g(ce[e],t);return-1===n?void 0:b(ce[e],n,1)[0]}return f(ce[e])},n.removeHooks=function(e){ce[e]=[]},n.removeAllHooks=function(){ce={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();if(window.__AI_PII_CONTENT_INJECTED__)console.warn("‚ö†Ô∏è AI PII Sanitizer content script already injected - skipping duplicate injection");else{window.__AI_PII_CONTENT_INJECTED__=!0;const e=document.createElement("script");e.src=chrome.runtime.getURL("inject.js"),e.onload=()=>{e.remove(),console.log("üõ°Ô∏è AI PII Sanitizer: Injector loaded")},(document.head||document.documentElement).appendChild(e),console.log("üåê [Content] Hostname:",window.location.hostname),console.log("üåê [Content] URL:",window.location.href),"loading"===document.readyState?(console.log("üìÑ [Content] Waiting for DOMContentLoaded..."),document.addEventListener("DOMContentLoaded",()=>{console.log("üìÑ [Content] DOMContentLoaded fired"),n()})):(console.log("üìÑ [Content] DOM already ready"),n())}async function oe(){try{await new Promise(e=>setTimeout(e,500));const e=await chrome.runtime.sendMessage({type:"GET_CONFIG"});if(!e?.success||!e.data?.settings?.enabled)return;const t=e.data?.settings?.protectedDomains||[],n=window.location.hostname;if(!t.some(e=>n.includes(e)||e.includes(n)))return;let o=!1,i=0;const a=3,r=300;for(;!o&&i<a;){const e=await chrome.runtime.sendMessage({type:"GET_PROFILES"});o=e?.success&&e.data?.length>0&&e.data.some(e=>e.enabled),!o&&i<a-1&&(console.log(`[Content] No active profiles yet, retrying in ${r}ms (attempt ${i+1}/${a})`),await new Promise(e=>setTimeout(e,r))),i++}if(!o)return void console.log("[Content] Skipping protection toast - no active profiles loaded after retries");const s=document.createElement("div");s.id="ai-pii-sanitizer-toast",s.style.cssText="\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      background: rgba(16, 185, 129, 0.15);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(16, 185, 129, 0.3);\n      color: #10b981;\n      padding: 16px 24px;\n      border-radius: 12px;\n      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(255, 255, 255, 0.1) inset;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      z-index: 999999;\n      display: flex;\n      align-items: center;\n      gap: 12px;\n      opacity: 0;\n      transform: translateX(100%);\n      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);\n      pointer-events: none;\n    ",s.innerHTML='\n      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>\n        <path d="M9 12l2 2 4-4"></path>\n      </svg>\n      <span>You are protected</span>\n    ',document.body.appendChild(s),setTimeout(()=>{s.style.opacity="1",s.style.transform="translateX(0)"},100),setTimeout(()=>{s.style.opacity="0",s.style.transform="translateX(100%)",setTimeout(()=>{s.remove()},400)},3e3)}catch(e){console.error("Failed to show activation toast:",e)}}function ie(e){return new Promise(t=>{const n=document.getElementById("api-key-warning-modal");n&&n.remove();const o=document.createElement("div");o.id="api-key-warning-modal",o.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(0, 0, 0, 0.7);\n      z-index: 999999;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n      animation: fadeIn 0.2s ease-out;\n    ";const i=document.createElement("div");i.style.cssText="\n      background: rgba(255, 255, 255, 0.95);\n      backdrop-filter: blur(20px);\n      -webkit-backdrop-filter: blur(20px);\n      border: 1px solid rgba(255, 255, 255, 0.3);\n      border-radius: 16px;\n      padding: 0;\n      max-width: 480px;\n      width: 90%;\n      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1) inset;\n      animation: slideUp 0.3s ease-out;\n    ",i.innerHTML=`\n      <style>\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        @keyframes slideUp {\n          from { transform: translateY(20px); opacity: 0; }\n          to { transform: translateY(0); opacity: 1; }\n        }\n      </style>\n      <div style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); padding: 24px; border-radius: 16px 16px 0 0; color: white;">\n        <div style="display: flex; align-items: center; gap: 12px;">\n          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>\n            <line x1="12" y1="9" x2="12" y2="13"></line>\n            <line x1="12" y1="17" x2="12.01" y2="17"></line>\n          </svg>\n          <h3 style="margin: 0; font-size: 20px; font-weight: 600;">API Key Detected!</h3>\n        </div>\n      </div>\n      <div style="padding: 24px; color: #1f2937; background: rgba(255, 255, 255, 0.5); backdrop-filter: blur(10px);">\n        <p style="margin: 0 0 16px 0; font-size: 15px; line-height: 1.6; color: #111827;">\n          <strong>You're about to send ${e.keysDetected} API key${e.keysDetected>1?"s":""} to an AI service:</strong>\n        </p>\n        <div style="\n          background: rgba(254, 243, 199, 0.8);\n          backdrop-filter: blur(10px);\n          border-left: 4px solid #f59e0b;\n          padding: 12px 16px;\n          margin-bottom: 20px;\n          border-radius: 8px;\n          box-shadow: 0 2px 8px rgba(245, 158, 11, 0.1);\n        ">\n          <div style="font-size: 13px; color: #92400e; font-weight: 600;">\n            ${e.keyTypes.map(e=>`‚Ä¢ ${function(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}(e.toUpperCase())} API Key`).join("<br>")}\n          </div>\n        </div>\n        <p style="margin: 0 0 12px 0; font-size: 14px; color: #374151; line-height: 1.5;">\n          Sending API keys to AI services is <strong style="color: #dc2626;">not recommended</strong> as they could be logged or misused.\n        </p>\n        <div style="\n          background: rgba(239, 68, 68, 0.1);\n          backdrop-filter: blur(10px);\n          border-left: 4px solid #ef4444;\n          padding: 12px 16px;\n          border-radius: 8px;\n          margin-top: 12px;\n        ">\n          <p style="margin: 0; font-size: 13px; color: #7f1d1d; font-weight: 600; line-height: 1.5;">\n            ‚ö†Ô∏è <strong>Important:</strong> If you choose "Send Everything Unprotected", <strong>ALL protection will be disabled</strong> for this message (including PII aliases).\n          </p>\n        </div>\n      </div>\n      <div style="padding: 0 24px 24px 24px; display: flex; flex-direction: column; gap: 10px;">\n        <button id="api-key-block" style="\n          width: 100%;\n          background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);\n          color: white;\n          border: none;\n          padding: 14px 24px;\n          border-radius: 8px;\n          font-size: 15px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s;\n          box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n        ">\n          <span style="font-size: 18px;">üõ°Ô∏è</span>\n          <span>Block Everything</span>\n        </button>\n        <button id="api-key-allow-pii-protected" style="\n          width: 100%;\n          background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);\n          color: white;\n          border: none;\n          padding: 14px 24px;\n          border-radius: 8px;\n          font-size: 15px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s;\n          box-shadow: 0 2px 8px rgba(245, 158, 11, 0.3);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n        ">\n          <span style="font-size: 18px;">üîë</span>\n          <span>Send API Key Only (PII Protected)</span>\n        </button>\n        <button id="api-key-allow-all" style="\n          width: 100%;\n          background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);\n          color: white;\n          border: none;\n          padding: 14px 24px;\n          border-radius: 8px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n        ">\n          <span style="font-size: 18px;">‚ö†Ô∏è</span>\n          <span>Send Everything Unprotected</span>\n        </button>\n      </div>\n    `,o.appendChild(i),document.body.appendChild(o);const a=i.querySelector("#api-key-block"),r=i.querySelector("#api-key-allow-pii-protected"),s=i.querySelector("#api-key-allow-all");a.addEventListener("mouseenter",()=>{a.style.transform="translateY(-2px)",a.style.boxShadow="0 4px 16px rgba(239, 68, 68, 0.4)"}),a.addEventListener("mouseleave",()=>{a.style.transform="translateY(0)",a.style.boxShadow="0 2px 8px rgba(239, 68, 68, 0.3)"}),r.addEventListener("mouseenter",()=>{r.style.transform="translateY(-2px)",r.style.boxShadow="0 4px 16px rgba(245, 158, 11, 0.4)"}),r.addEventListener("mouseleave",()=>{r.style.transform="translateY(0)",r.style.boxShadow="0 2px 8px rgba(245, 158, 11, 0.3)"}),s.addEventListener("mouseenter",()=>{s.style.transform="translateY(-2px)",s.style.boxShadow="0 4px 12px rgba(107, 114, 128, 0.4)"}),s.addEventListener("mouseleave",()=>{s.style.transform="translateY(0)",s.style.boxShadow="none"}),a.addEventListener("click",()=>{o.remove(),t("block")}),r.addEventListener("click",()=>{o.remove(),t("allow-key-only")}),s.addEventListener("click",()=>{o.remove(),t("allow-all")});const l=e=>{"Escape"===e.key&&(o.remove(),document.removeEventListener("keydown",l),t("block"))};document.addEventListener("keydown",l)})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",oe):oe(),chrome.runtime.onMessage.addListener((e,t,n)=>"PING"===e.type?(chrome.runtime.sendMessage({type:"HEALTH_CHECK"}).then(()=>{n("PONG")}).catch(()=>{n(null)}),!0):"INJECT_TEMPLATE"===e.type?(async function(e){const t=window.location.hostname;let n=null;if(t.includes("chatgpt.com")||t.includes("chat.openai.com")?(n=document.querySelector("#prompt-textarea"),console.log("[Content] üîç ChatGPT textarea found:",n),console.log("[Content] üîç Is contenteditable?",n?.contentEditable),console.log("[Content] üîç Tag name:",n?.tagName)):t.includes("claude.ai")?n=document.querySelector('div[contenteditable="true"]'):t.includes("gemini.google.com")?n=document.querySelector('.ql-editor[contenteditable="true"]'):t.includes("perplexity.ai")?n=document.querySelector('textarea[placeholder*="Ask"]'):t.includes("copilot.microsoft.com")&&(n=document.querySelector("textarea.textarea")),!n)throw new Error("Could not find chat input field on this page");if(console.log("[Content] üìù Content to inject (length:",e.length,")"),console.log("[Content] üìù First 200 chars:",JSON.stringify(e.substring(0,200))),console.log("[Content] üìù Contains \\n?",e.includes("\n")),console.log("[Content] üìù Contains \\n\\n?",e.includes("\n\n")),"true"===n.contentEditable){console.log("[Content] üé® Using contenteditable path");const o=n;if(t.includes("chatgpt.com")||t.includes("chat.openai.com")){console.log("[Content] üé® ChatGPT ProseMirror - using <p> tags");const t=e.split("\n\n").filter(e=>e.trim());o.innerHTML="",t.forEach(e=>{const t=document.createElement("p");e.split("\n").forEach((e,n)=>{n>0&&t.appendChild(document.createElement("br")),t.appendChild(document.createTextNode(e))}),o.appendChild(t)}),console.log("[Content] üé® Created",t.length,"paragraphs"),console.log("[Content] üé® Div innerHTML (first 300):",o.innerHTML.substring(0,300)),o.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})),o.dispatchEvent(new InputEvent("input",{bubbles:!0,inputType:"insertText"})),o.focus();const n=document.createRange(),i=window.getSelection();n.selectNodeContents(o),n.collapse(!1),i?.removeAllRanges(),i?.addRange(n),setTimeout(()=>{console.log("[Content] üîç After ProseMirror processing:"),console.log("[Content] üîç Div innerHTML (first 300):",o.innerHTML.substring(0,300)),console.log("[Content] üîç Div textContent (first 200):",o.textContent?.substring(0,200))},100)}else{console.log("[Content] üé® Claude/Gemini - using innerHTML with <br> tags");const t=e.split("\n\n").map(e=>e.split("\n").join("<br>")).join("<br><br>");console.log("[Content] üé® HTML content (first 200 chars):",t.substring(0,200)),o.innerHTML=function(e,t){const n={ALLOWED_TAGS:["b","i","em","strong","u","s","mark","p","br","div","span","pre","code","ul","ol","li","h1","h2","h3","h4","h5","h6","a","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["class","style","href","target","rel","title","id"],FORBID_TAGS:["script","style","iframe","object","embed","link"],FORBID_ATTR:["onerror","onload","onclick","onmouseover"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,SAFE_FOR_TEMPLATES:!0,...t};return ne.sanitize(e,n)}(t,{ALLOWED_TAGS:["br","p","b","i","em","strong","code","pre"],ALLOWED_ATTR:[]}),o.dispatchEvent(new Event("input",{bubbles:!0})),o.dispatchEvent(new Event("change",{bubbles:!0})),o.focus();const n=document.createRange(),i=window.getSelection();n.selectNodeContents(o),n.collapse(!1),i?.removeAllRanges(),i?.addRange(n)}}else{console.log("[Content] üìù Using textarea path (value property)");const t=n;t.value=e,console.log("[Content] üìù Textarea value set, length:",t.value.length),console.log("[Content] üìù Textarea value (first 200):",t.value.substring(0,200)),t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0})),t.focus(),t.setSelectionRange(e.length,e.length)}console.log("[Content] ‚úÖ Template injected successfully")}(e.payload.content).then(()=>{n({success:!0})}).catch(e=>{console.error("[Content] Failed to inject template:",e),n({success:!1,error:e.message})}),!0):"WARN_API_KEY"===e.type&&(ie(e.payload).then(e=>{n({allow:e})}).catch(()=>{n({allow:"block"})}),!0)),window.addEventListener("message",async e=>{if(e.source!==window)return;if("ai-pii-inject-health"===e.data?.source){const{messageId:t}=e.data;try{const e=await chrome.runtime.sendMessage({type:"GET_CONFIG"});if(!e?.success||!e.data?.settings?.enabled)return void window.postMessage({source:"ai-pii-content-health",messageId:t,isAlive:!1},"*");const n=e.data?.settings?.protectedDomains||[],o=window.location.hostname;if(!n.some(e=>o.includes(e)||e.includes(o)))return void window.postMessage({source:"ai-pii-content-health",messageId:t,isAlive:!1},"*");await chrome.runtime.sendMessage({type:"HEALTH_CHECK"}),window.postMessage({source:"ai-pii-content-health",messageId:t,isAlive:!0},"*")}catch(e){const n=e instanceof Error?e.message:String(e);n.includes("Extension context invalidated")||console.warn("‚ö†Ô∏è Health check failed:",n);try{await chrome.runtime.sendMessage({type:"PROTECTION_LOST"})}catch(e){}window.postMessage({source:"ai-pii-content-health",messageId:t,isAlive:!1},"*")}return}if("ai-pii-inject-not-protected"===e.data?.source){const{messageId:t}=e.data;console.log("üõë Showing NOT PROTECTED modal");const n=await new Promise(e=>{const t=document.getElementById("not-protected-modal");t&&t.remove();const n=document.createElement("div");n.id="not-protected-modal",n.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(0, 0, 0, 0.85);\n      z-index: 2147483647;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n      animation: fadeIn 0.2s ease-out;\n      pointer-events: auto;\n    ";const o=document.createElement("div");o.style.cssText="\n      background: #1a202c;\n      border-radius: 12px;\n      padding: 0;\n      max-width: 360px;\n      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);\n      border: 1px solid rgba(102, 126, 234, 0.3);\n      pointer-events: auto;\n      position: relative;\n      z-index: 1;\n      overflow: hidden;\n    ",o.innerHTML='\n      <div style="\n        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n        padding: 20px;\n        text-align: center;\n      ">\n        <div style="font-size: 36px; margin-bottom: 8px;">üõ°Ô∏è</div>\n        <h2 style="margin: 0; color: white; font-size: 18px; font-weight: 600;">\n          Protection Update Required\n        </h2>\n      </div>\n\n      <div style="padding: 20px; color: #e2e8f0;">\n        <div style="\n          background: rgba(239, 68, 68, 0.15);\n          border-left: 3px solid #ef4444;\n          padding: 12px 14px;\n          margin-bottom: 16px;\n          border-radius: 6px;\n        ">\n          <p style="margin: 0; color: #fca5a5; font-size: 13px; font-weight: 600; line-height: 1.5;">\n            ‚ö†Ô∏è <strong style="color: #ef4444;">Connection Lost:</strong> Your data cannot be protected until the page is refreshed.\n          </p>\n        </div>\n\n        <p style="margin: 0 0 16px 0; color: #cbd5e0; font-size: 14px; line-height: 1.5; text-align: center;">\n          Choose an option to continue:\n        </p>\n\n        <div style="display: flex; flex-direction: column; gap: 10px;">\n          <button id="not-protected-reload" style="\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            color: white;\n            border: none;\n            padding: 12px 20px;\n            border-radius: 8px;\n            font-size: 14px;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);\n            pointer-events: auto;\n            user-select: none;\n            -webkit-user-select: none;\n          ">\n            üîÑ Reload Page\n          </button>\n          <button id="not-protected-disable" style="\n            background: rgba(255, 255, 255, 0.05);\n            color: #a0aec0;\n            border: 1px solid rgba(255, 255, 255, 0.1);\n            padding: 12px 20px;\n            border-radius: 8px;\n            font-size: 14px;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            pointer-events: auto;\n            user-select: none;\n            -webkit-user-select: none;\n          ">\n            ‚ö†Ô∏è Disable Extension\n          </button>\n        </div>\n\n        <div style="\n          margin: 14px 0 0 0;\n          padding: 10px 12px;\n          background: rgba(102, 126, 234, 0.1);\n          border-radius: 8px;\n          border: 1px solid rgba(102, 126, 234, 0.2);\n        ">\n          <p style="\n            margin: 0;\n            color: #a5b4fc;\n            font-size: 12px;\n            font-weight: 500;\n            text-align: center;\n            line-height: 1.4;\n          ">\n            üí° Press <kbd style="\n              display: inline-block;\n              background: rgba(102, 126, 234, 0.2);\n              padding: 2px 6px;\n              border-radius: 4px;\n              font-family: \'Courier New\', monospace;\n              font-size: 11px;\n              font-weight: 700;\n              color: #c7d2fe;\n            ">Ctrl+Shift+R</kbd> for hard refresh\n          </p>\n        </div>\n      </div>\n    ',n.appendChild(o),document.body.appendChild(n),console.log("üõë NOT PROTECTED modal displayed");const i=o.querySelector("#not-protected-reload"),a=o.querySelector("#not-protected-disable");if(!i||!a)return void console.error("‚ùå Modal buttons not found!");console.log("‚úÖ Modal buttons attached:",i,a);const r=t=>{console.log("üîÑ User clicked Reload - reloading page",t),t&&t.stopPropagation(),n.remove(),location.reload(),e("reload")},s=async t=>{console.log("‚ö†Ô∏è User clicked Disable Extension",t),t&&t.stopPropagation();try{await chrome.runtime.sendMessage({type:"DISABLE_EXTENSION"}),console.log("‚úÖ Extension disabled")}catch(e){console.error("‚ùå Failed to disable extension:",e)}n.remove(),e("disable")};i.addEventListener("click",r,!0),i.onclick=r,a.addEventListener("click",s,!0),a.onclick=s,i.addEventListener("mouseenter",()=>{i.style.transform="translateY(-2px)",i.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.5)"}),i.addEventListener("mouseleave",()=>{i.style.transform="translateY(0)",i.style.boxShadow="0 4px 12px rgba(102, 126, 234, 0.4)"}),a.addEventListener("mouseenter",()=>{a.style.transform="translateY(-2px)",a.style.background="rgba(0, 0, 0, 0.08)"}),a.addEventListener("mouseleave",()=>{a.style.transform="translateY(0)",a.style.background="rgba(0, 0, 0, 0.05)"});const l=e=>{"Escape"===e.key&&(d(),r())},c=e=>{e.ctrlKey&&e.shiftKey&&("R"===e.key||"r"===e.key)&&(console.log("‚å®Ô∏è User pressed Ctrl+Shift+R - triggering hard reload"),e.preventDefault(),d(),window.location.reload())},d=()=>{document.removeEventListener("keydown",l),document.removeEventListener("keydown",c)};document.addEventListener("keydown",l),document.addEventListener("keydown",c)});return void window.postMessage({source:"ai-pii-content-not-protected",messageId:t,action:n},"*")}if("ai-pii-inject-warning"===e.data?.source){const{messageId:t,keysDetected:n,keyTypes:o}=e.data;console.log("‚ö†Ô∏è Showing API key warning modal");const i=await ie({keysDetected:n,keyTypes:o});return void window.postMessage({source:"ai-pii-content-warning",messageId:t,allow:i},"*")}if("ai-pii-inject"!==e.data?.source)return;const{messageId:t,type:n,payload:o}=e.data;console.log("üîÑ Content script relaying:",n);try{const e=await chrome.runtime.sendMessage({type:n,payload:o});window.postMessage({source:"ai-pii-content",messageId:t,response:e},"*")}catch(e){console.error("‚ùå Content script relay error:",e);const n=e instanceof Error?e.message:String(e);n.includes("Extension context invalidated")&&console.warn("‚ö†Ô∏è Extension reloaded - please refresh this page (Ctrl+Shift+R)"),window.postMessage({source:"ai-pii-content",messageId:t,response:{success:!1,error:n}},"*")}})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFXeVcsR0FDckN0YyxTQUFTNkYsaUJBQWlCLFVBQVdtYSxLQTFnQnJDLFlBTkExZ0IsT0FBT3dHLFlBQVksQ0FDakJuQixPQUFRLCtCQUNSUixZQUNBaWMsT0FBUWQsR0FDUCxJQUdMLENBR0EsR0FBMkIsMEJBQXZCN2EsRUFBTUMsTUFBTUMsT0FBb0MsQ0FDbEQsTUFBTSxVQUFFUixFQUFTLGFBQUV3WCxFQUFZLFNBQUVDLEdBQWFuWCxFQUFNQyxLQUVwRHZGLFFBQVFDLElBQUksb0NBRVosTUFBTStmLFFBQWM1RCxHQUFrQixDQUFFSSxlQUFjQyxhQVN0RCxZQU5BdGMsT0FBT3dHLFlBQVksQ0FDakJuQixPQUFRLHlCQUNSUixZQUNBZ2IsU0FDQyxJQUdMLENBR0EsR0FBMkIsa0JBQXZCMWEsRUFBTUMsTUFBTUMsT0FBNEIsT0FFNUMsTUFBTSxVQUFFUixFQUFTLEtBQUVyQyxFQUFJLFFBQUVpRSxHQUFZdEIsRUFBTUMsS0FFM0N2RixRQUFRQyxJQUFJLDhCQUErQjBDLEdBRTNDLElBRUUsTUFBTStDLFFBQWlCOFUsT0FBT0MsUUFBUVMsWUFBWSxDQUNoRHZZLE9BQ0FpRSxZQUlGekcsT0FBT3dHLFlBQVksQ0FDakJuQixPQUFRLGlCQUNSUixZQUNBVSxZQUNDLElBQ0wsQ0FBRSxNQUFPbUIsR0FDUDdHLFFBQVE2RyxNQUFNLGdDQUFpQ0EsR0FHL0MsTUFBTXFaLEVBQVdyWixhQUFpQmlYLE1BQVFqWCxFQUFNaVosUUFBVXhXLE9BQU96QyxHQUM3RHFaLEVBQVM5WSxTQUFTLGtDQUNwQnBILFFBQVFPLEtBQUssbUVBSWZKLE9BQU93RyxZQUFZLENBQ2pCbkIsT0FBUSxpQkFDUlIsWUFDQVUsU0FBVSxDQUNSQyxTQUFTLEVBQ1RrQixNQUFPcVosSUFFUixJQUNMLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS1waWktc2FuaXRpemVyLy4vc3JjL2NvbnRlbnQvb2JzZXJ2ZXJzL2dlbWluaS1vYnNlcnZlci50cyIsIndlYnBhY2s6Ly9haS1waWktc2FuaXRpemVyLy4vc3JjL2NvbnRlbnQvb2JzZXJ2ZXJzL2luZGV4LnRzIiwid2VicGFjazovL2FpLXBpaS1zYW5pdGl6ZXIvLi9ub2RlX21vZHVsZXMvZG9tcHVyaWZ5L2Rpc3QvcHVyaWZ5LmVzLm1qcyIsIndlYnBhY2s6Ly9haS1waWktc2FuaXRpemVyLy4vc3JjL2NvbnRlbnQvY29udGVudC50cyIsIndlYnBhY2s6Ly9haS1waWktc2FuaXRpemVyLy4vc3JjL2xpYi9zYW5pdGl6ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHZW1pbmkgRE9NIE9ic2VydmVyXG4gKiBXYXRjaGVzIGZvciBHZW1pbmkgcmVzcG9uc2UgdGV4dCBhbmQgcmVwbGFjZXMgYWxpYXNlcyB3aXRoIHJlYWwgbmFtZXNcbiAqL1xuXG5pbXBvcnQgdHlwZSB7IE9ic2VydmVyLCBBbGlhc01hcHBpbmcgfSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgREVCVUdfTU9ERSA9IGZhbHNlO1xuXG5leHBvcnQgY2xhc3MgR2VtaW5pT2JzZXJ2ZXIgaW1wbGVtZW50cyBPYnNlcnZlciB7XG4gIHByaXZhdGUgb2JzZXJ2ZXI6IE11dGF0aW9uT2JzZXJ2ZXIgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBhbGlhc2VzOiBNYXA8c3RyaW5nLCBzdHJpbmc+ID0gbmV3IE1hcCgpOyAvLyBhbGlhcyDihpIgcmVhbFxuICBwcml2YXRlIGRlYm91bmNlVGltZXI6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGlzQWN0aXZlID0gZmFsc2U7XG5cbiAgLy8gQ29uZmlndXJhdGlvblxuICBwcml2YXRlIHJlYWRvbmx5IERFQk9VTkNFX01TID0gMzAwO1xuICBwcml2YXRlIHJlYWRvbmx5IE1BWF9NVVRBVElPTlNfUEVSX0JBVENIID0gMTAwO1xuXG4gIC8vIEdlbWluaSByZXNwb25zZSBjb250YWluZXIgc2VsZWN0b3JzICh2ZXJpZmllZCBmcm9tIERPTSBpbnNwZWN0aW9uKVxuICBwcml2YXRlIHJlYWRvbmx5IFJFU1BPTlNFX1NFTEVDVE9SUyA9IFtcbiAgICAnLm1vZGVsLXJlc3BvbnNlLXRleHQnLCAgICAgIC8vIE1haW4gQUkgcmVzcG9uc2UgY29udGFpbmVyXG4gICAgJy5tZXNzYWdlLWNvbnRlbnQnLCAgICAgICAgICAgLy8gTWVzc2FnZSB3cmFwcGVyXG4gICAgJy5tYXJrZG93bi1tYWluLXBhbmVsJywgICAgICAgLy8gTWFya2Rvd24gY29udGVudCBhcmVhXG4gICAgJy5yZXNwb25zZS1jb250ZW50JyAgICAgICAgICAgLy8gT3V0ZXIgcmVzcG9uc2UgY29udGFpbmVyXG4gIF07XG5cbiAgLy8gU2VsZWN0b3JzIHRvIEVYQ0xVREUgKGRvbid0IHJlcGxhY2UgdGV4dCBoZXJlKVxuICBwcml2YXRlIHJlYWRvbmx5IEVYQ0xVREVfU0VMRUNUT1JTID0gW1xuICAgICdjb2RlJywgICAgICAgICAgIC8vIENvZGUgYmxvY2tzXG4gICAgJ3ByZScsICAgICAgICAgICAgLy8gUHJlZm9ybWF0dGVkIHRleHRcbiAgICAnLnVzZXItbWVzc2FnZScsICAvLyBVc2VyJ3Mgb3duIG1lc3NhZ2VzXG4gICAgJ2lucHV0JywgICAgICAgICAgLy8gSW5wdXQgZmllbGRzXG4gICAgJ3RleHRhcmVhJyAgICAgICAgLy8gVGV4dCBhcmVhc1xuICBdO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdbR2VtaW5pIE9ic2VydmVyXSBJbml0aWFsaXplZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IG9ic2VydmluZyBHZW1pbmkgRE9NIGZvciByZXNwb25zZXNcbiAgICovXG4gIHN0YXJ0KCk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKCdbR2VtaW5pIE9ic2VydmVyXSDwn5qAIFNUQVJUIGNhbGxlZCcpO1xuICAgIGNvbnNvbGUubG9nKCdbR2VtaW5pIE9ic2VydmVyXSDwn4yQIFVSTDonLCB3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgaWYgKHRoaXMuaXNBY3RpdmUpIHtcbiAgICAgIGNvbnNvbGUud2FybignW0dlbWluaSBPYnNlcnZlcl0gQWxyZWFkeSBydW5uaW5nJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmV0Y2ggYWxpYXNlcyBmcm9tIGJhY2tncm91bmRcbiAgICB0aGlzLmZldGNoQWxpYXNlcygpO1xuXG4gICAgLy8gQ3JlYXRlIE11dGF0aW9uT2JzZXJ2ZXJcbiAgICB0aGlzLm9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVNdXRhdGlvbnMobXV0YXRpb25zKTtcbiAgICB9KTtcblxuICAgIC8vIFN0YXJ0IG9ic2VydmluZyB0aGUgZG9jdW1lbnQgYm9keVxuICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7XG4gICAgICBjaGlsZExpc3Q6IHRydWUsICAgICAgLy8gV2F0Y2ggZm9yIGFkZGVkL3JlbW92ZWQgbm9kZXNcbiAgICAgIHN1YnRyZWU6IHRydWUsICAgICAgICAvLyBXYXRjaCBlbnRpcmUgc3VidHJlZVxuICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSwgIC8vIFdhdGNoIGZvciB0ZXh0IGNoYW5nZXNcbiAgICAgIGNoYXJhY3RlckRhdGFPbGRWYWx1ZTogZmFsc2VcbiAgICB9KTtcblxuICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuICAgIGNvbnNvbGUubG9nKCdbR2VtaW5pIE9ic2VydmVyXSBTdGFydGVkIHdhdGNoaW5nIGZvciByZXNwb25zZXMnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIG9ic2VydmluZ1xuICAgKi9cbiAgc3RvcCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5vYnNlcnZlcikge1xuICAgICAgdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICB0aGlzLm9ic2VydmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kZWJvdW5jZVRpbWVyKSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuZGVib3VuY2VUaW1lcik7XG4gICAgICB0aGlzLmRlYm91bmNlVGltZXIgPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICBjb25zb2xlLmxvZygnW0dlbWluaSBPYnNlcnZlcl0gU3RvcHBlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIG9ic2VydmVyIGlzIHJ1bm5pbmdcbiAgICovXG4gIGlzUnVubmluZygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pc0FjdGl2ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYWxpYXMgbWFwcGluZ3NcbiAgICovXG4gIHVwZGF0ZUFsaWFzZXMoYWxpYXNlczogQWxpYXNNYXBwaW5nW10pOiB2b2lkIHtcbiAgICB0aGlzLmFsaWFzZXMuY2xlYXIoKTtcbiAgICBhbGlhc2VzLmZvckVhY2goKHsgcmVhbCwgYWxpYXMgfSkgPT4ge1xuICAgICAgLy8gU3RvcmUgaW4gYm90aCBkaXJlY3Rpb25zIGZvciBmbGV4aWJsZSBtYXRjaGluZ1xuICAgICAgdGhpcy5hbGlhc2VzLnNldChhbGlhcy50b0xvd2VyQ2FzZSgpLCByZWFsKTtcblxuICAgICAgLy8gQWxzbyBzdG9yZSB2YXJpYXRpb25zXG4gICAgICB0aGlzLmFsaWFzZXMuc2V0KGFsaWFzLnRvVXBwZXJDYXNlKCksIHJlYWwpO1xuICAgICAgdGhpcy5hbGlhc2VzLnNldCh0aGlzLnRvVGl0bGVDYXNlKGFsaWFzKSwgcmVhbCk7XG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZygnW0dlbWluaSBPYnNlcnZlcl0gVXBkYXRlZCBhbGlhc2VzOicsIHRoaXMuYWxpYXNlcy5zaXplKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgbXV0YXRpb24gZXZlbnRzIChkZWJvdW5jZWQpXG4gICAqL1xuICBwcml2YXRlIGhhbmRsZU11dGF0aW9ucyhtdXRhdGlvbnM6IE11dGF0aW9uUmVjb3JkW10pOiB2b2lkIHtcbiAgICAvLyBMaW1pdCBiYXRjaCBzaXplIGZvciBwZXJmb3JtYW5jZVxuICAgIGlmIChtdXRhdGlvbnMubGVuZ3RoID4gdGhpcy5NQVhfTVVUQVRJT05TX1BFUl9CQVRDSCkge1xuICAgICAgY29uc29sZS53YXJuKCdbR2VtaW5pIE9ic2VydmVyXSBMYXJnZSBtdXRhdGlvbiBiYXRjaDonLCBtdXRhdGlvbnMubGVuZ3RoKTtcbiAgICAgIG11dGF0aW9ucyA9IG11dGF0aW9ucy5zbGljZSgwLCB0aGlzLk1BWF9NVVRBVElPTlNfUEVSX0JBVENIKTtcbiAgICB9XG5cbiAgICAvLyBEZWJvdW5jZSBwcm9jZXNzaW5nXG4gICAgaWYgKHRoaXMuZGVib3VuY2VUaW1lcikge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLmRlYm91bmNlVGltZXIpO1xuICAgIH1cblxuICAgIHRoaXMuZGVib3VuY2VUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMucHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbnMpO1xuICAgIH0sIHRoaXMuREVCT1VOQ0VfTVMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb2Nlc3MgbXV0YXRpb25zIGFuZCByZXBsYWNlIHRleHRcbiAgICovXG4gIHByaXZhdGUgcHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbnM6IE11dGF0aW9uUmVjb3JkW10pOiB2b2lkIHtcbiAgICBjb25zb2xlLmxvZygnW0dlbWluaSBPYnNlcnZlcl0g8J+UhCBQcm9jZXNzaW5nJywgbXV0YXRpb25zLmxlbmd0aCwgJ211dGF0aW9ucycpO1xuICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGxldCByZXBsYWNlbWVudHMgPSAwO1xuXG4gICAgLy8gRmluZCBhbGwgdGV4dCBub2RlcyBpbiBtdXRhdGVkIGVsZW1lbnRzXG4gICAgY29uc3QgdGV4dE5vZGVzOiBUZXh0W10gPSBbXTtcblxuICAgIG11dGF0aW9ucy5mb3JFYWNoKG11dGF0aW9uID0+IHtcbiAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAnY2hpbGRMaXN0Jykge1xuICAgICAgICBtdXRhdGlvbi5hZGRlZE5vZGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuaXNSZXNwb25zZU5vZGUobm9kZSkpIHtcbiAgICAgICAgICAgIHRleHROb2Rlcy5wdXNoKC4uLnRoaXMuZ2V0VGV4dE5vZGVzKG5vZGUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChtdXRhdGlvbi50eXBlID09PSAnY2hhcmFjdGVyRGF0YScpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG11dGF0aW9uLnRhcmdldCBhcyBUZXh0O1xuICAgICAgICBpZiAodGhpcy5pc1Jlc3BvbnNlTm9kZShub2RlLnBhcmVudEVsZW1lbnQpKSB7XG4gICAgICAgICAgdGV4dE5vZGVzLnB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKCdbR2VtaW5pIE9ic2VydmVyXSDwn5OdIEZvdW5kJywgdGV4dE5vZGVzLmxlbmd0aCwgJ3RleHQgbm9kZXMnKTtcbiAgICBjb25zb2xlLmxvZygnW0dlbWluaSBPYnNlcnZlcl0g8J+Xuu+4jyBBbGlhc2VzIGxvYWRlZDonLCB0aGlzLmFsaWFzZXMuc2l6ZSk7XG4gICAgLy8gUmVwbGFjZSBhbGlhc2VzIGluIHRleHQgbm9kZXNcbiAgICB0ZXh0Tm9kZXMuZm9yRWFjaCh0ZXh0Tm9kZSA9PiB7XG4gICAgICBjb25zdCByZXBsYWNlZCA9IHRoaXMucmVwbGFjZUFsaWFzZXNJblRleHQodGV4dE5vZGUpO1xuICAgICAgaWYgKHJlcGxhY2VkKSByZXBsYWNlbWVudHMrKztcbiAgICB9KTtcblxuICAgIGNvbnN0IGR1cmF0aW9uID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWU7XG5cbiAgICBpZiAocmVwbGFjZW1lbnRzID4gMCkge1xuICAgICAgY29uc29sZS5sb2coYFtHZW1pbmkgT2JzZXJ2ZXJdIFJlcGxhY2VkICR7cmVwbGFjZW1lbnRzfSBhbGlhc2VzIGluICR7ZHVyYXRpb24udG9GaXhlZCgyKX1tc2ApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBub2RlIGlzIGEgR2VtaW5pIHJlc3BvbnNlIChub3QgdXNlciBtZXNzYWdlIG9yIGV4Y2x1ZGVkIGVsZW1lbnQpXG4gICAqL1xuICBwcml2YXRlIGlzUmVzcG9uc2VOb2RlKG5vZGU6IE5vZGUgfCBudWxsKTogYm9vbGVhbiB7XG4gICAgaWYgKCFub2RlIHx8IG5vZGUubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSByZXR1cm4gZmFsc2U7XG5cbiAgICBjb25zdCBlbGVtZW50ID0gbm9kZSBhcyBFbGVtZW50O1xuXG4gICAgLy8gQ2hlY2sgaWYgaW4gZXhjbHVkZWQgZWxlbWVudFxuICAgIGZvciAoY29uc3Qgc2VsZWN0b3Igb2YgdGhpcy5FWENMVURFX1NFTEVDVE9SUykge1xuICAgICAgaWYgKGVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikgfHwgZWxlbWVudC5jbG9zZXN0KHNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgaW4gcmVzcG9uc2UgY29udGFpbmVyXG4gICAgZm9yIChjb25zdCBzZWxlY3RvciBvZiB0aGlzLlJFU1BPTlNFX1NFTEVDVE9SUykge1xuICAgICAgaWYgKGVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikgfHwgZWxlbWVudC5jbG9zZXN0KHNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCB0ZXh0IG5vZGVzIHdpdGhpbiBhbiBlbGVtZW50XG4gICAqL1xuICBwcml2YXRlIGdldFRleHROb2Rlcyhub2RlOiBOb2RlKTogVGV4dFtdIHtcbiAgICBjb25zdCB0ZXh0Tm9kZXM6IFRleHRbXSA9IFtdO1xuICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoXG4gICAgICBub2RlLFxuICAgICAgTm9kZUZpbHRlci5TSE9XX1RFWFQsXG4gICAgICB7XG4gICAgICAgIGFjY2VwdE5vZGU6IChub2RlKSA9PiB7XG4gICAgICAgICAgLy8gU2tpcCBlbXB0eSB0ZXh0IG5vZGVzXG4gICAgICAgICAgaWYgKCFub2RlLnRleHRDb250ZW50Py50cmltKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBOb2RlRmlsdGVyLkZJTFRFUl9SRUpFQ1Q7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFNraXAgZXhjbHVkZWQgZWxlbWVudHNcbiAgICAgICAgICBpZiAoIXRoaXMuaXNSZXNwb25zZU5vZGUobm9kZS5wYXJlbnRFbGVtZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIE5vZGVGaWx0ZXIuRklMVEVSX1JFSkVDVDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIE5vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG5cbiAgICBsZXQgY3VycmVudE5vZGU7XG4gICAgd2hpbGUgKChjdXJyZW50Tm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpKSkge1xuICAgICAgdGV4dE5vZGVzLnB1c2goY3VycmVudE5vZGUgYXMgVGV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRleHROb2RlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBsYWNlIGFsaWFzZXMgd2l0aCByZWFsIG5hbWVzIGluIGEgdGV4dCBub2RlXG4gICAqL1xuICBwcml2YXRlIHJlcGxhY2VBbGlhc2VzSW5UZXh0KHRleHROb2RlOiBUZXh0KTogYm9vbGVhbiB7XG4gICAgaWYgKCF0ZXh0Tm9kZS50ZXh0Q29udGVudCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgbGV0IHRleHQgPSB0ZXh0Tm9kZS50ZXh0Q29udGVudDtcbiAgICBsZXQgbW9kaWZpZWQgPSBmYWxzZTtcblxuICAgIC8vIFJlcGxhY2UgZWFjaCBhbGlhcyB3aXRoIHJlYWwgbmFtZVxuICAgIHRoaXMuYWxpYXNlcy5mb3JFYWNoKChyZWFsLCBhbGlhcykgPT4ge1xuICAgICAgLy8gVXNlIHJlZ2V4IGZvciB3aG9sZSB3b3JkIG1hdGNoaW5nXG4gICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoYFxcXFxiJHt0aGlzLmVzY2FwZVJlZ2V4KGFsaWFzKX1cXFxcYmAsICdnaScpO1xuICAgICAgaWYgKHJlZ2V4LnRlc3QodGV4dCkpIHtcbiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShyZWdleCwgcmVhbCk7XG4gICAgICAgIG1vZGlmaWVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChtb2RpZmllZCkge1xuICAgICAgdGV4dE5vZGUudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH1cblxuICAgIHJldHVybiBtb2RpZmllZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBhbGlhc2VzIGZyb20gYmFja2dyb3VuZCBzY3JpcHRcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZmV0Y2hBbGlhc2VzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtZXNzYWdlSWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7XG5cbiAgICAgIC8vIExpc3RlbiBmb3IgcmVzcG9uc2UgZnJvbSBjb250ZW50IHNjcmlwdFxuICAgICAgY29uc3QgaGFuZGxlTWVzc2FnZSA9IChldmVudDogTWVzc2FnZUV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5kYXRhPy5zb3VyY2UgPT09ICdhaS1waWktY29udGVudCcgJiZcbiAgICAgICAgICAgIGV2ZW50LmRhdGE/Lm1lc3NhZ2VJZCA9PT0gbWVzc2FnZUlkKSB7XG4gICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGVNZXNzYWdlKTtcblxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gZXZlbnQuZGF0YS5yZXNwb25zZTtcbiAgICAgICAgICBpZiAoREVCVUdfTU9ERSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tHZW1pbmkgT2JzZXJ2ZXJdIPCflI0gUmF3IEdFVF9QUk9GSUxFUyByZXNwb25zZTonLCByZXNwb25zZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0dlbWluaSBPYnNlcnZlcl0g8J+UjSBSZXNwb25zZSBzdWNjZXNzPycsIHJlc3BvbnNlPy5zdWNjZXNzKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbR2VtaW5pIE9ic2VydmVyXSDwn5SNIFJlc3BvbnNlIGRhdGE6JywgcmVzcG9uc2U/LmRhdGEpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tHZW1pbmkgT2JzZXJ2ZXJdIPCflI0gUmVzcG9uc2UgZGF0YSB0eXBlOicsIHR5cGVvZiByZXNwb25zZT8uZGF0YSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0dlbWluaSBPYnNlcnZlcl0g8J+UjSBSZXNwb25zZSBkYXRhIGlzIGFycmF5PycsIEFycmF5LmlzQXJyYXkocmVzcG9uc2U/LmRhdGEpKTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZT8uZGF0YSAmJiBBcnJheS5pc0FycmF5KHJlc3BvbnNlLmRhdGEpKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbR2VtaW5pIE9ic2VydmVyXSDwn5SNIE51bWJlciBvZiBwcm9maWxlczonLCByZXNwb25zZS5kYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJlc3BvbnNlPy5zdWNjZXNzICYmIHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IGFsbEFsaWFzZXM6IEFsaWFzTWFwcGluZ1tdID0gW107XG5cbiAgICAgICAgICAgIC8vIHJlc3BvbnNlLmRhdGEgaXMgYW4gYXJyYXkgb2YgQWxpYXNQcm9maWxlIG9iamVjdHMgKFYyIHN0cnVjdHVyZSlcbiAgICAgICAgICAgIC8vIEVhY2ggcHJvZmlsZSBoYXM6IHsgcmVhbDogSWRlbnRpdHlEYXRhLCBhbGlhczogSWRlbnRpdHlEYXRhIH1cbiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZm9yRWFjaCgocHJvZmlsZTogYW55LCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChERUJVR19NT0RFKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtHZW1pbmkgT2JzZXJ2ZXJdIPCflI0gUHJvY2Vzc2luZyBwcm9maWxlICR7aW5kZXh9OmAsIHByb2ZpbGUpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbR2VtaW5pIE9ic2VydmVyXSDwn5SNIFByb2ZpbGUgZW5hYmxlZD9gLCBwcm9maWxlLmVuYWJsZWQpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbR2VtaW5pIE9ic2VydmVyXSDwn5SNIFByb2ZpbGUucmVhbDpgLCBwcm9maWxlLnJlYWwpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbR2VtaW5pIE9ic2VydmVyXSDwn5SNIFByb2ZpbGUuYWxpYXM6YCwgcHJvZmlsZS5hbGlhcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFwcm9maWxlLmVuYWJsZWQpIHJldHVybjsgLy8gU2tpcCBkaXNhYmxlZCBwcm9maWxlc1xuXG4gICAgICAgICAgICAgIC8vIEV4dHJhY3QgbmFtZSBhbGlhc2VzXG4gICAgICAgICAgICAgIGlmIChwcm9maWxlLnJlYWw/Lm5hbWUgJiYgcHJvZmlsZS5hbGlhcz8ubmFtZSkge1xuICAgICAgICAgICAgICAgIGFsbEFsaWFzZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICByZWFsOiBwcm9maWxlLnJlYWwubmFtZSxcbiAgICAgICAgICAgICAgICAgIGFsaWFzOiBwcm9maWxlLmFsaWFzLm5hbWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIEV4dHJhY3QgZW1haWwgYWxpYXNlc1xuICAgICAgICAgICAgICBpZiAocHJvZmlsZS5yZWFsPy5lbWFpbCAmJiBwcm9maWxlLmFsaWFzPy5lbWFpbCkge1xuICAgICAgICAgICAgICAgIGFsbEFsaWFzZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICByZWFsOiBwcm9maWxlLnJlYWwuZW1haWwsXG4gICAgICAgICAgICAgICAgICBhbGlhczogcHJvZmlsZS5hbGlhcy5lbWFpbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gRXh0cmFjdCBwaG9uZSBhbGlhc2VzXG4gICAgICAgICAgICAgIGlmIChwcm9maWxlLnJlYWw/LnBob25lICYmIHByb2ZpbGUuYWxpYXM/LnBob25lKSB7XG4gICAgICAgICAgICAgICAgYWxsQWxpYXNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIHJlYWw6IHByb2ZpbGUucmVhbC5waG9uZSxcbiAgICAgICAgICAgICAgICAgIGFsaWFzOiBwcm9maWxlLmFsaWFzLnBob25lXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBFeHRyYWN0IGNlbGxQaG9uZSBhbGlhc2VzXG4gICAgICAgICAgICAgIGlmIChwcm9maWxlLnJlYWw/LmNlbGxQaG9uZSAmJiBwcm9maWxlLmFsaWFzPy5jZWxsUGhvbmUpIHtcbiAgICAgICAgICAgICAgICBhbGxBbGlhc2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgcmVhbDogcHJvZmlsZS5yZWFsLmNlbGxQaG9uZSxcbiAgICAgICAgICAgICAgICAgIGFsaWFzOiBwcm9maWxlLmFsaWFzLmNlbGxQaG9uZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gRXh0cmFjdCBhZGRyZXNzIGFsaWFzZXNcbiAgICAgICAgICAgICAgaWYgKHByb2ZpbGUucmVhbD8uYWRkcmVzcyAmJiBwcm9maWxlLmFsaWFzPy5hZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgYWxsQWxpYXNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIHJlYWw6IHByb2ZpbGUucmVhbC5hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgYWxpYXM6IHByb2ZpbGUuYWxpYXMuYWRkcmVzc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gRXh0cmFjdCBjb21wYW55IGFsaWFzZXNcbiAgICAgICAgICAgICAgaWYgKHByb2ZpbGUucmVhbD8uY29tcGFueSAmJiBwcm9maWxlLmFsaWFzPy5jb21wYW55KSB7XG4gICAgICAgICAgICAgICAgYWxsQWxpYXNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIHJlYWw6IHByb2ZpbGUucmVhbC5jb21wYW55LFxuICAgICAgICAgICAgICAgICAgYWxpYXM6IHByb2ZpbGUuYWxpYXMuY29tcGFueVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gRXh0cmFjdCBjdXN0b20gZmllbGQgYWxpYXNlc1xuICAgICAgICAgICAgICBpZiAocHJvZmlsZS5yZWFsPy5jdXN0b20gJiYgcHJvZmlsZS5hbGlhcz8uY3VzdG9tKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocHJvZmlsZS5yZWFsLmN1c3RvbSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKHByb2ZpbGUucmVhbC5jdXN0b21ba2V5XSAmJiBwcm9maWxlLmFsaWFzLmN1c3RvbVtrZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbEFsaWFzZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgcmVhbDogcHJvZmlsZS5yZWFsLmN1c3RvbVtrZXldLFxuICAgICAgICAgICAgICAgICAgICAgIGFsaWFzOiBwcm9maWxlLmFsaWFzLmN1c3RvbVtrZXldXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tHZW1pbmkgT2JzZXJ2ZXJdIEZldGNoZWQgcHJvZmlsZXMgd2l0aCBhbGlhc2VzOicsIGFsbEFsaWFzZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQWxpYXNlcyhhbGxBbGlhc2VzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbR2VtaW5pIE9ic2VydmVyXSBGYWlsZWQgdG8gZmV0Y2ggYWxpYXNlczonLCByZXNwb25zZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZU1lc3NhZ2UpO1xuXG4gICAgICAvLyBTZW5kIHJlcXVlc3Qgd2l0aCBwcm9wZXIgZm9ybWF0IChtYXRjaGluZyBpbmplY3QuanMgcGF0dGVybilcbiAgICAgIHdpbmRvdy5wb3N0TWVzc2FnZSh7XG4gICAgICAgIHNvdXJjZTogJ2FpLXBpaS1pbmplY3QnLFxuICAgICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2VJZCxcbiAgICAgICAgdHlwZTogJ0dFVF9QUk9GSUxFUycsXG4gICAgICAgIHBheWxvYWQ6IHt9XG4gICAgICB9LCAnKicpO1xuXG4gICAgICAvLyBUaW1lb3V0IGFmdGVyIDUgc2Vjb25kc1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlTWVzc2FnZSk7XG4gICAgICB9LCA1MDAwKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW0dlbWluaSBPYnNlcnZlcl0gRXJyb3IgZmV0Y2hpbmcgYWxpYXNlczonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVzY2FwZSBzcGVjaWFsIHJlZ2V4IGNoYXJhY3RlcnNcbiAgICovXG4gIHByaXZhdGUgZXNjYXBlUmVnZXgoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csICdcXFxcJCYnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IHN0cmluZyB0byBUaXRsZSBDYXNlXG4gICAqL1xuICBwcml2YXRlIHRvVGl0bGVDYXNlKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xcd1xcUyovZywgKHR4dCkgPT4ge1xuICAgICAgcmV0dXJuIHR4dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHR4dC5zdWJzdHIoMSkudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBPYnNlcnZlciBSZWdpc3RyeVxuICogQ29vcmRpbmF0ZXMgc2VydmljZS1zcGVjaWZpYyBET00gb2JzZXJ2ZXJzXG4gKi9cblxuaW1wb3J0IHsgR2VtaW5pT2JzZXJ2ZXIgfSBmcm9tICcuL2dlbWluaS1vYnNlcnZlcic7XG5pbXBvcnQgdHlwZSB7IE9ic2VydmVyIH0gZnJvbSAnLi90eXBlcyc7XG5cbmxldCBhY3RpdmVPYnNlcnZlcjogT2JzZXJ2ZXIgfCBudWxsID0gbnVsbDtcblxuLyoqXG4gKiBJbml0aWFsaXplIGFwcHJvcHJpYXRlIG9ic2VydmVyIGJhc2VkIG9uIGN1cnJlbnQgcGFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdE9ic2VydmVycygpOiB2b2lkIHtcbiAgY29uc3QgaG9zdG5hbWUgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG5cbiAgY29uc29sZS5sb2coJ1tPYnNlcnZlcnNdIPCfmoAgSW5pdGlhbGl6aW5nIGZvcjonLCBob3N0bmFtZSk7XG4gIGNvbnNvbGUubG9nKCdbT2JzZXJ2ZXJzXSDwn4yQIEZ1bGwgVVJMOicsIHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgY29uc29sZS5sb2coJ1tPYnNlcnZlcnNdIPCflI0gSXMgR2VtaW5pPycsIGhvc3RuYW1lLmluY2x1ZGVzKCdnZW1pbmkuZ29vZ2xlLmNvbScpKTtcblxuICAvLyBDbGVhbiB1cCBhbnkgZXhpc3Rpbmcgb2JzZXJ2ZXJcbiAgaWYgKGFjdGl2ZU9ic2VydmVyKSB7XG4gICAgYWN0aXZlT2JzZXJ2ZXIuc3RvcCgpO1xuICAgIGFjdGl2ZU9ic2VydmVyID0gbnVsbDtcbiAgfVxuXG4gIC8vIFN0YXJ0IHNlcnZpY2Utc3BlY2lmaWMgb2JzZXJ2ZXJcbiAgaWYgKGhvc3RuYW1lLmluY2x1ZGVzKCdnZW1pbmkuZ29vZ2xlLmNvbScpKSB7XG4gICAgY29uc29sZS5sb2coJ1tPYnNlcnZlcnNdIOKchSBHRU1JTkkgREVURUNURUQhJyk7XG4gICAgY29uc29sZS5sb2coJ1tPYnNlcnZlcnNdIPCfmoAgU3RhcnRpbmcgR2VtaW5pIG9ic2VydmVyLi4uJyk7XG4gICAgYWN0aXZlT2JzZXJ2ZXIgPSBuZXcgR2VtaW5pT2JzZXJ2ZXIoKTtcbiAgICBhY3RpdmVPYnNlcnZlci5zdGFydCgpO1xuICB9XG4gIC8vIEZ1dHVyZTogQWRkIENsYXVkZSwgUGVycGxleGl0eSBvYnNlcnZlcnMgaWYgbmVlZGVkXG4gIC8vIGVsc2UgaWYgKGhvc3RuYW1lLmluY2x1ZGVzKCdjbGF1ZGUuYWknKSkge1xuICAvLyAgIGFjdGl2ZU9ic2VydmVyID0gbmV3IENsYXVkZU9ic2VydmVyKCk7XG4gIC8vICAgYWN0aXZlT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgLy8gfVxuICBlbHNlIHtcbiAgICBjb25zb2xlLmxvZygnW09ic2VydmVyc10gTm8gb2JzZXJ2ZXIgbmVlZGVkIGZvciB0aGlzIHNlcnZpY2UnKTtcbiAgfVxufVxuXG4vKipcbiAqIFN0b3AgYWxsIG9ic2VydmVycyAoY2xlYW51cClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3BPYnNlcnZlcnMoKTogdm9pZCB7XG4gIGlmIChhY3RpdmVPYnNlcnZlcikge1xuICAgIGNvbnNvbGUubG9nKCdbT2JzZXJ2ZXJzXSBTdG9wcGluZyBhY3RpdmUgb2JzZXJ2ZXInKTtcbiAgICBhY3RpdmVPYnNlcnZlci5zdG9wKCk7XG4gICAgYWN0aXZlT2JzZXJ2ZXIgPSBudWxsO1xuICB9XG59XG5cbi8qKlxuICogVXBkYXRlIGFsaWFzZXMgaW4gYWN0aXZlIG9ic2VydmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVPYnNlcnZlckFsaWFzZXMoYWxpYXNlczogYW55W10pOiB2b2lkIHtcbiAgaWYgKGFjdGl2ZU9ic2VydmVyKSB7XG4gICAgY29uc3QgbWFwcGluZ3MgPSBhbGlhc2VzLm1hcChhID0+ICh7XG4gICAgICByZWFsOiBhLnJlYWwsXG4gICAgICBhbGlhczogYS5hbGlhc1xuICAgIH0pKTtcbiAgICBhY3RpdmVPYnNlcnZlci51cGRhdGVBbGlhc2VzKG1hcHBpbmdzKTtcbiAgfVxufVxuIiwiLyohIEBsaWNlbnNlIERPTVB1cmlmeSAzLjMuMCB8IChjKSBDdXJlNTMgYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IFJlbGVhc2VkIHVuZGVyIHRoZSBBcGFjaGUgbGljZW5zZSAyLjAgYW5kIE1vemlsbGEgUHVibGljIExpY2Vuc2UgMi4wIHwgZ2l0aHViLmNvbS9jdXJlNTMvRE9NUHVyaWZ5L2Jsb2IvMy4zLjAvTElDRU5TRSAqL1xuXG5jb25zdCB7XG4gIGVudHJpZXMsXG4gIHNldFByb3RvdHlwZU9mLFxuICBpc0Zyb3plbixcbiAgZ2V0UHJvdG90eXBlT2YsXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvclxufSA9IE9iamVjdDtcbmxldCB7XG4gIGZyZWV6ZSxcbiAgc2VhbCxcbiAgY3JlYXRlXG59ID0gT2JqZWN0OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGltcG9ydC9uby1tdXRhYmxlLWV4cG9ydHNcbmxldCB7XG4gIGFwcGx5LFxuICBjb25zdHJ1Y3Rcbn0gPSB0eXBlb2YgUmVmbGVjdCAhPT0gJ3VuZGVmaW5lZCcgJiYgUmVmbGVjdDtcbmlmICghZnJlZXplKSB7XG4gIGZyZWV6ZSA9IGZ1bmN0aW9uIGZyZWV6ZSh4KSB7XG4gICAgcmV0dXJuIHg7XG4gIH07XG59XG5pZiAoIXNlYWwpIHtcbiAgc2VhbCA9IGZ1bmN0aW9uIHNlYWwoeCkge1xuICAgIHJldHVybiB4O1xuICB9O1xufVxuaWYgKCFhcHBseSkge1xuICBhcHBseSA9IGZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksIF9rZXkgPSAyOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAyXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH07XG59XG5pZiAoIWNvbnN0cnVjdCkge1xuICBjb25zdHJ1Y3QgPSBmdW5jdGlvbiBjb25zdHJ1Y3QoRnVuYykge1xuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEZ1bmMoLi4uYXJncyk7XG4gIH07XG59XG5jb25zdCBhcnJheUZvckVhY2ggPSB1bmFwcGx5KEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTtcbmNvbnN0IGFycmF5TGFzdEluZGV4T2YgPSB1bmFwcGx5KEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZik7XG5jb25zdCBhcnJheVBvcCA9IHVuYXBwbHkoQXJyYXkucHJvdG90eXBlLnBvcCk7XG5jb25zdCBhcnJheVB1c2ggPSB1bmFwcGx5KEFycmF5LnByb3RvdHlwZS5wdXNoKTtcbmNvbnN0IGFycmF5U3BsaWNlID0gdW5hcHBseShBcnJheS5wcm90b3R5cGUuc3BsaWNlKTtcbmNvbnN0IHN0cmluZ1RvTG93ZXJDYXNlID0gdW5hcHBseShTdHJpbmcucHJvdG90eXBlLnRvTG93ZXJDYXNlKTtcbmNvbnN0IHN0cmluZ1RvU3RyaW5nID0gdW5hcHBseShTdHJpbmcucHJvdG90eXBlLnRvU3RyaW5nKTtcbmNvbnN0IHN0cmluZ01hdGNoID0gdW5hcHBseShTdHJpbmcucHJvdG90eXBlLm1hdGNoKTtcbmNvbnN0IHN0cmluZ1JlcGxhY2UgPSB1bmFwcGx5KFN0cmluZy5wcm90b3R5cGUucmVwbGFjZSk7XG5jb25zdCBzdHJpbmdJbmRleE9mID0gdW5hcHBseShTdHJpbmcucHJvdG90eXBlLmluZGV4T2YpO1xuY29uc3Qgc3RyaW5nVHJpbSA9IHVuYXBwbHkoU3RyaW5nLnByb3RvdHlwZS50cmltKTtcbmNvbnN0IG9iamVjdEhhc093blByb3BlcnR5ID0gdW5hcHBseShPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KTtcbmNvbnN0IHJlZ0V4cFRlc3QgPSB1bmFwcGx5KFJlZ0V4cC5wcm90b3R5cGUudGVzdCk7XG5jb25zdCB0eXBlRXJyb3JDcmVhdGUgPSB1bmNvbnN0cnVjdChUeXBlRXJyb3IpO1xuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZ1bmN0aW9uIHRoYXQgY2FsbHMgdGhlIGdpdmVuIGZ1bmN0aW9uIHdpdGggYSBzcGVjaWZpZWQgdGhpc0FyZyBhbmQgYXJndW1lbnRzLlxuICpcbiAqIEBwYXJhbSBmdW5jIC0gVGhlIGZ1bmN0aW9uIHRvIGJlIHdyYXBwZWQgYW5kIGNhbGxlZC5cbiAqIEByZXR1cm5zIEEgbmV3IGZ1bmN0aW9uIHRoYXQgY2FsbHMgdGhlIGdpdmVuIGZ1bmN0aW9uIHdpdGggYSBzcGVjaWZpZWQgdGhpc0FyZyBhbmQgYXJndW1lbnRzLlxuICovXG5mdW5jdGlvbiB1bmFwcGx5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0aGlzQXJnKSB7XG4gICAgaWYgKHRoaXNBcmcgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgIHRoaXNBcmcubGFzdEluZGV4ID0gMDtcbiAgICB9XG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4zID4gMSA/IF9sZW4zIC0gMSA6IDApLCBfa2V5MyA9IDE7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgIGFyZ3NbX2tleTMgLSAxXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgfVxuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKTtcbiAgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmdW5jdGlvbiB0aGF0IGNvbnN0cnVjdHMgYW4gaW5zdGFuY2Ugb2YgdGhlIGdpdmVuIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHdpdGggdGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAqXG4gKiBAcGFyYW0gZnVuYyAtIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB0byBiZSB3cmFwcGVkIGFuZCBjYWxsZWQuXG4gKiBAcmV0dXJucyBBIG5ldyBmdW5jdGlvbiB0aGF0IGNvbnN0cnVjdHMgYW4gaW5zdGFuY2Ugb2YgdGhlIGdpdmVuIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHdpdGggdGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAqL1xuZnVuY3Rpb24gdW5jb25zdHJ1Y3QoRnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgYXJnc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgIH1cbiAgICByZXR1cm4gY29uc3RydWN0KEZ1bmMsIGFyZ3MpO1xuICB9O1xufVxuLyoqXG4gKiBBZGQgcHJvcGVydGllcyB0byBhIGxvb2t1cCB0YWJsZVxuICpcbiAqIEBwYXJhbSBzZXQgLSBUaGUgc2V0IHRvIHdoaWNoIGVsZW1lbnRzIHdpbGwgYmUgYWRkZWQuXG4gKiBAcGFyYW0gYXJyYXkgLSBUaGUgYXJyYXkgY29udGFpbmluZyBlbGVtZW50cyB0byBiZSBhZGRlZCB0byB0aGUgc2V0LlxuICogQHBhcmFtIHRyYW5zZm9ybUNhc2VGdW5jIC0gQW4gb3B0aW9uYWwgZnVuY3Rpb24gdG8gdHJhbnNmb3JtIHRoZSBjYXNlIG9mIGVhY2ggZWxlbWVudCBiZWZvcmUgYWRkaW5nIHRvIHRoZSBzZXQuXG4gKiBAcmV0dXJucyBUaGUgbW9kaWZpZWQgc2V0IHdpdGggYWRkZWQgZWxlbWVudHMuXG4gKi9cbmZ1bmN0aW9uIGFkZFRvU2V0KHNldCwgYXJyYXkpIHtcbiAgbGV0IHRyYW5zZm9ybUNhc2VGdW5jID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBzdHJpbmdUb0xvd2VyQ2FzZTtcbiAgaWYgKHNldFByb3RvdHlwZU9mKSB7XG4gICAgLy8gTWFrZSAnaW4nIGFuZCB0cnV0aHkgY2hlY2tzIGxpa2UgQm9vbGVhbihzZXQuY29uc3RydWN0b3IpXG4gICAgLy8gaW5kZXBlbmRlbnQgb2YgYW55IHByb3BlcnRpZXMgZGVmaW5lZCBvbiBPYmplY3QucHJvdG90eXBlLlxuICAgIC8vIFByZXZlbnQgcHJvdG90eXBlIHNldHRlcnMgZnJvbSBpbnRlcmNlcHRpbmcgc2V0IGFzIGEgdGhpcyB2YWx1ZS5cbiAgICBzZXRQcm90b3R5cGVPZihzZXQsIG51bGwpO1xuICB9XG4gIGxldCBsID0gYXJyYXkubGVuZ3RoO1xuICB3aGlsZSAobC0tKSB7XG4gICAgbGV0IGVsZW1lbnQgPSBhcnJheVtsXTtcbiAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25zdCBsY0VsZW1lbnQgPSB0cmFuc2Zvcm1DYXNlRnVuYyhlbGVtZW50KTtcbiAgICAgIGlmIChsY0VsZW1lbnQgIT09IGVsZW1lbnQpIHtcbiAgICAgICAgLy8gQ29uZmlnIHByZXNldHMgKGUuZy4gdGFncy5qcywgYXR0cnMuanMpIGFyZSBpbW11dGFibGUuXG4gICAgICAgIGlmICghaXNGcm96ZW4oYXJyYXkpKSB7XG4gICAgICAgICAgYXJyYXlbbF0gPSBsY0VsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudCA9IGxjRWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0W2VsZW1lbnRdID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gc2V0O1xufVxuLyoqXG4gKiBDbGVhbiB1cCBhbiBhcnJheSB0byBoYXJkZW4gYWdhaW5zdCBDU1BQXG4gKlxuICogQHBhcmFtIGFycmF5IC0gVGhlIGFycmF5IHRvIGJlIGNsZWFuZWQuXG4gKiBAcmV0dXJucyBUaGUgY2xlYW5lZCB2ZXJzaW9uIG9mIHRoZSBhcnJheVxuICovXG5mdW5jdGlvbiBjbGVhbkFycmF5KGFycmF5KSB7XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhcnJheS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBjb25zdCBpc1Byb3BlcnR5RXhpc3QgPSBvYmplY3RIYXNPd25Qcm9wZXJ0eShhcnJheSwgaW5kZXgpO1xuICAgIGlmICghaXNQcm9wZXJ0eUV4aXN0KSB7XG4gICAgICBhcnJheVtpbmRleF0gPSBudWxsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG4vKipcbiAqIFNoYWxsb3cgY2xvbmUgYW4gb2JqZWN0XG4gKlxuICogQHBhcmFtIG9iamVjdCAtIFRoZSBvYmplY3QgdG8gYmUgY2xvbmVkLlxuICogQHJldHVybnMgQSBuZXcgb2JqZWN0IHRoYXQgY29waWVzIHRoZSBvcmlnaW5hbC5cbiAqL1xuZnVuY3Rpb24gY2xvbmUob2JqZWN0KSB7XG4gIGNvbnN0IG5ld09iamVjdCA9IGNyZWF0ZShudWxsKTtcbiAgZm9yIChjb25zdCBbcHJvcGVydHksIHZhbHVlXSBvZiBlbnRyaWVzKG9iamVjdCkpIHtcbiAgICBjb25zdCBpc1Byb3BlcnR5RXhpc3QgPSBvYmplY3RIYXNPd25Qcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5KTtcbiAgICBpZiAoaXNQcm9wZXJ0eUV4aXN0KSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgbmV3T2JqZWN0W3Byb3BlcnR5XSA9IGNsZWFuQXJyYXkodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcbiAgICAgICAgbmV3T2JqZWN0W3Byb3BlcnR5XSA9IGNsb25lKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld09iamVjdFtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ld09iamVjdDtcbn1cbi8qKlxuICogVGhpcyBtZXRob2QgYXV0b21hdGljYWxseSBjaGVja3MgaWYgdGhlIHByb3AgaXMgZnVuY3Rpb24gb3IgZ2V0dGVyIGFuZCBiZWhhdmVzIGFjY29yZGluZ2x5LlxuICpcbiAqIEBwYXJhbSBvYmplY3QgLSBUaGUgb2JqZWN0IHRvIGxvb2sgdXAgdGhlIGdldHRlciBmdW5jdGlvbiBpbiBpdHMgcHJvdG90eXBlIGNoYWluLlxuICogQHBhcmFtIHByb3AgLSBUaGUgcHJvcGVydHkgbmFtZSBmb3Igd2hpY2ggdG8gZmluZCB0aGUgZ2V0dGVyIGZ1bmN0aW9uLlxuICogQHJldHVybnMgVGhlIGdldHRlciBmdW5jdGlvbiBmb3VuZCBpbiB0aGUgcHJvdG90eXBlIGNoYWluIG9yIGEgZmFsbGJhY2sgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGxvb2t1cEdldHRlcihvYmplY3QsIHByb3ApIHtcbiAgd2hpbGUgKG9iamVjdCAhPT0gbnVsbCkge1xuICAgIGNvbnN0IGRlc2MgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wKTtcbiAgICBpZiAoZGVzYykge1xuICAgICAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgICAgIHJldHVybiB1bmFwcGx5KGRlc2MuZ2V0KTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZGVzYy52YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdW5hcHBseShkZXNjLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgb2JqZWN0ID0gZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtcbiAgfVxuICBmdW5jdGlvbiBmYWxsYmFja1ZhbHVlKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBmYWxsYmFja1ZhbHVlO1xufVxuXG5jb25zdCBodG1sJDEgPSBmcmVlemUoWydhJywgJ2FiYnInLCAnYWNyb255bScsICdhZGRyZXNzJywgJ2FyZWEnLCAnYXJ0aWNsZScsICdhc2lkZScsICdhdWRpbycsICdiJywgJ2JkaScsICdiZG8nLCAnYmlnJywgJ2JsaW5rJywgJ2Jsb2NrcXVvdGUnLCAnYm9keScsICdicicsICdidXR0b24nLCAnY2FudmFzJywgJ2NhcHRpb24nLCAnY2VudGVyJywgJ2NpdGUnLCAnY29kZScsICdjb2wnLCAnY29sZ3JvdXAnLCAnY29udGVudCcsICdkYXRhJywgJ2RhdGFsaXN0JywgJ2RkJywgJ2RlY29yYXRvcicsICdkZWwnLCAnZGV0YWlscycsICdkZm4nLCAnZGlhbG9nJywgJ2RpcicsICdkaXYnLCAnZGwnLCAnZHQnLCAnZWxlbWVudCcsICdlbScsICdmaWVsZHNldCcsICdmaWdjYXB0aW9uJywgJ2ZpZ3VyZScsICdmb250JywgJ2Zvb3RlcicsICdmb3JtJywgJ2gxJywgJ2gyJywgJ2gzJywgJ2g0JywgJ2g1JywgJ2g2JywgJ2hlYWQnLCAnaGVhZGVyJywgJ2hncm91cCcsICdocicsICdodG1sJywgJ2knLCAnaW1nJywgJ2lucHV0JywgJ2lucycsICdrYmQnLCAnbGFiZWwnLCAnbGVnZW5kJywgJ2xpJywgJ21haW4nLCAnbWFwJywgJ21hcmsnLCAnbWFycXVlZScsICdtZW51JywgJ21lbnVpdGVtJywgJ21ldGVyJywgJ25hdicsICdub2JyJywgJ29sJywgJ29wdGdyb3VwJywgJ29wdGlvbicsICdvdXRwdXQnLCAncCcsICdwaWN0dXJlJywgJ3ByZScsICdwcm9ncmVzcycsICdxJywgJ3JwJywgJ3J0JywgJ3J1YnknLCAncycsICdzYW1wJywgJ3NlYXJjaCcsICdzZWN0aW9uJywgJ3NlbGVjdCcsICdzaGFkb3cnLCAnc2xvdCcsICdzbWFsbCcsICdzb3VyY2UnLCAnc3BhY2VyJywgJ3NwYW4nLCAnc3RyaWtlJywgJ3N0cm9uZycsICdzdHlsZScsICdzdWInLCAnc3VtbWFyeScsICdzdXAnLCAndGFibGUnLCAndGJvZHknLCAndGQnLCAndGVtcGxhdGUnLCAndGV4dGFyZWEnLCAndGZvb3QnLCAndGgnLCAndGhlYWQnLCAndGltZScsICd0cicsICd0cmFjaycsICd0dCcsICd1JywgJ3VsJywgJ3ZhcicsICd2aWRlbycsICd3YnInXSk7XG5jb25zdCBzdmckMSA9IGZyZWV6ZShbJ3N2ZycsICdhJywgJ2FsdGdseXBoJywgJ2FsdGdseXBoZGVmJywgJ2FsdGdseXBoaXRlbScsICdhbmltYXRlY29sb3InLCAnYW5pbWF0ZW1vdGlvbicsICdhbmltYXRldHJhbnNmb3JtJywgJ2NpcmNsZScsICdjbGlwcGF0aCcsICdkZWZzJywgJ2Rlc2MnLCAnZWxsaXBzZScsICdlbnRlcmtleWhpbnQnLCAnZXhwb3J0cGFydHMnLCAnZmlsdGVyJywgJ2ZvbnQnLCAnZycsICdnbHlwaCcsICdnbHlwaHJlZicsICdoa2VybicsICdpbWFnZScsICdpbnB1dG1vZGUnLCAnbGluZScsICdsaW5lYXJncmFkaWVudCcsICdtYXJrZXInLCAnbWFzaycsICdtZXRhZGF0YScsICdtcGF0aCcsICdwYXJ0JywgJ3BhdGgnLCAncGF0dGVybicsICdwb2x5Z29uJywgJ3BvbHlsaW5lJywgJ3JhZGlhbGdyYWRpZW50JywgJ3JlY3QnLCAnc3RvcCcsICdzdHlsZScsICdzd2l0Y2gnLCAnc3ltYm9sJywgJ3RleHQnLCAndGV4dHBhdGgnLCAndGl0bGUnLCAndHJlZicsICd0c3BhbicsICd2aWV3JywgJ3ZrZXJuJ10pO1xuY29uc3Qgc3ZnRmlsdGVycyA9IGZyZWV6ZShbJ2ZlQmxlbmQnLCAnZmVDb2xvck1hdHJpeCcsICdmZUNvbXBvbmVudFRyYW5zZmVyJywgJ2ZlQ29tcG9zaXRlJywgJ2ZlQ29udm9sdmVNYXRyaXgnLCAnZmVEaWZmdXNlTGlnaHRpbmcnLCAnZmVEaXNwbGFjZW1lbnRNYXAnLCAnZmVEaXN0YW50TGlnaHQnLCAnZmVEcm9wU2hhZG93JywgJ2ZlRmxvb2QnLCAnZmVGdW5jQScsICdmZUZ1bmNCJywgJ2ZlRnVuY0cnLCAnZmVGdW5jUicsICdmZUdhdXNzaWFuQmx1cicsICdmZUltYWdlJywgJ2ZlTWVyZ2UnLCAnZmVNZXJnZU5vZGUnLCAnZmVNb3JwaG9sb2d5JywgJ2ZlT2Zmc2V0JywgJ2ZlUG9pbnRMaWdodCcsICdmZVNwZWN1bGFyTGlnaHRpbmcnLCAnZmVTcG90TGlnaHQnLCAnZmVUaWxlJywgJ2ZlVHVyYnVsZW5jZSddKTtcbi8vIExpc3Qgb2YgU1ZHIGVsZW1lbnRzIHRoYXQgYXJlIGRpc2FsbG93ZWQgYnkgZGVmYXVsdC5cbi8vIFdlIHN0aWxsIG5lZWQgdG8ga25vdyB0aGVtIHNvIHRoYXQgd2UgY2FuIGRvIG5hbWVzcGFjZVxuLy8gY2hlY2tzIHByb3Blcmx5IGluIGNhc2Ugb25lIHdhbnRzIHRvIGFkZCB0aGVtIHRvXG4vLyBhbGxvdy1saXN0LlxuY29uc3Qgc3ZnRGlzYWxsb3dlZCA9IGZyZWV6ZShbJ2FuaW1hdGUnLCAnY29sb3ItcHJvZmlsZScsICdjdXJzb3InLCAnZGlzY2FyZCcsICdmb250LWZhY2UnLCAnZm9udC1mYWNlLWZvcm1hdCcsICdmb250LWZhY2UtbmFtZScsICdmb250LWZhY2Utc3JjJywgJ2ZvbnQtZmFjZS11cmknLCAnZm9yZWlnbm9iamVjdCcsICdoYXRjaCcsICdoYXRjaHBhdGgnLCAnbWVzaCcsICdtZXNoZ3JhZGllbnQnLCAnbWVzaHBhdGNoJywgJ21lc2hyb3cnLCAnbWlzc2luZy1nbHlwaCcsICdzY3JpcHQnLCAnc2V0JywgJ3NvbGlkY29sb3InLCAndW5rbm93bicsICd1c2UnXSk7XG5jb25zdCBtYXRoTWwkMSA9IGZyZWV6ZShbJ21hdGgnLCAnbWVuY2xvc2UnLCAnbWVycm9yJywgJ21mZW5jZWQnLCAnbWZyYWMnLCAnbWdseXBoJywgJ21pJywgJ21sYWJlbGVkdHInLCAnbW11bHRpc2NyaXB0cycsICdtbicsICdtbycsICdtb3ZlcicsICdtcGFkZGVkJywgJ21waGFudG9tJywgJ21yb290JywgJ21yb3cnLCAnbXMnLCAnbXNwYWNlJywgJ21zcXJ0JywgJ21zdHlsZScsICdtc3ViJywgJ21zdXAnLCAnbXN1YnN1cCcsICdtdGFibGUnLCAnbXRkJywgJ210ZXh0JywgJ210cicsICdtdW5kZXInLCAnbXVuZGVyb3ZlcicsICdtcHJlc2NyaXB0cyddKTtcbi8vIFNpbWlsYXJseSB0byBTVkcsIHdlIHdhbnQgdG8ga25vdyBhbGwgTWF0aE1MIGVsZW1lbnRzLFxuLy8gZXZlbiB0aG9zZSB0aGF0IHdlIGRpc2FsbG93IGJ5IGRlZmF1bHQuXG5jb25zdCBtYXRoTWxEaXNhbGxvd2VkID0gZnJlZXplKFsnbWFjdGlvbicsICdtYWxpZ25ncm91cCcsICdtYWxpZ25tYXJrJywgJ21sb25nZGl2JywgJ21zY2FycmllcycsICdtc2NhcnJ5JywgJ21zZ3JvdXAnLCAnbXN0YWNrJywgJ21zbGluZScsICdtc3JvdycsICdzZW1hbnRpY3MnLCAnYW5ub3RhdGlvbicsICdhbm5vdGF0aW9uLXhtbCcsICdtcHJlc2NyaXB0cycsICdub25lJ10pO1xuY29uc3QgdGV4dCA9IGZyZWV6ZShbJyN0ZXh0J10pO1xuXG5jb25zdCBodG1sID0gZnJlZXplKFsnYWNjZXB0JywgJ2FjdGlvbicsICdhbGlnbicsICdhbHQnLCAnYXV0b2NhcGl0YWxpemUnLCAnYXV0b2NvbXBsZXRlJywgJ2F1dG9waWN0dXJlaW5waWN0dXJlJywgJ2F1dG9wbGF5JywgJ2JhY2tncm91bmQnLCAnYmdjb2xvcicsICdib3JkZXInLCAnY2FwdHVyZScsICdjZWxscGFkZGluZycsICdjZWxsc3BhY2luZycsICdjaGVja2VkJywgJ2NpdGUnLCAnY2xhc3MnLCAnY2xlYXInLCAnY29sb3InLCAnY29scycsICdjb2xzcGFuJywgJ2NvbnRyb2xzJywgJ2NvbnRyb2xzbGlzdCcsICdjb29yZHMnLCAnY3Jvc3NvcmlnaW4nLCAnZGF0ZXRpbWUnLCAnZGVjb2RpbmcnLCAnZGVmYXVsdCcsICdkaXInLCAnZGlzYWJsZWQnLCAnZGlzYWJsZXBpY3R1cmVpbnBpY3R1cmUnLCAnZGlzYWJsZXJlbW90ZXBsYXliYWNrJywgJ2Rvd25sb2FkJywgJ2RyYWdnYWJsZScsICdlbmN0eXBlJywgJ2VudGVya2V5aGludCcsICdleHBvcnRwYXJ0cycsICdmYWNlJywgJ2ZvcicsICdoZWFkZXJzJywgJ2hlaWdodCcsICdoaWRkZW4nLCAnaGlnaCcsICdocmVmJywgJ2hyZWZsYW5nJywgJ2lkJywgJ2luZXJ0JywgJ2lucHV0bW9kZScsICdpbnRlZ3JpdHknLCAnaXNtYXAnLCAna2luZCcsICdsYWJlbCcsICdsYW5nJywgJ2xpc3QnLCAnbG9hZGluZycsICdsb29wJywgJ2xvdycsICdtYXgnLCAnbWF4bGVuZ3RoJywgJ21lZGlhJywgJ21ldGhvZCcsICdtaW4nLCAnbWlubGVuZ3RoJywgJ211bHRpcGxlJywgJ211dGVkJywgJ25hbWUnLCAnbm9uY2UnLCAnbm9zaGFkZScsICdub3ZhbGlkYXRlJywgJ25vd3JhcCcsICdvcGVuJywgJ29wdGltdW0nLCAncGFydCcsICdwYXR0ZXJuJywgJ3BsYWNlaG9sZGVyJywgJ3BsYXlzaW5saW5lJywgJ3BvcG92ZXInLCAncG9wb3ZlcnRhcmdldCcsICdwb3BvdmVydGFyZ2V0YWN0aW9uJywgJ3Bvc3RlcicsICdwcmVsb2FkJywgJ3B1YmRhdGUnLCAncmFkaW9ncm91cCcsICdyZWFkb25seScsICdyZWwnLCAncmVxdWlyZWQnLCAncmV2JywgJ3JldmVyc2VkJywgJ3JvbGUnLCAncm93cycsICdyb3dzcGFuJywgJ3NwZWxsY2hlY2snLCAnc2NvcGUnLCAnc2VsZWN0ZWQnLCAnc2hhcGUnLCAnc2l6ZScsICdzaXplcycsICdzbG90JywgJ3NwYW4nLCAnc3JjbGFuZycsICdzdGFydCcsICdzcmMnLCAnc3Jjc2V0JywgJ3N0ZXAnLCAnc3R5bGUnLCAnc3VtbWFyeScsICd0YWJpbmRleCcsICd0aXRsZScsICd0cmFuc2xhdGUnLCAndHlwZScsICd1c2VtYXAnLCAndmFsaWduJywgJ3ZhbHVlJywgJ3dpZHRoJywgJ3dyYXAnLCAneG1sbnMnLCAnc2xvdCddKTtcbmNvbnN0IHN2ZyA9IGZyZWV6ZShbJ2FjY2VudC1oZWlnaHQnLCAnYWNjdW11bGF0ZScsICdhZGRpdGl2ZScsICdhbGlnbm1lbnQtYmFzZWxpbmUnLCAnYW1wbGl0dWRlJywgJ2FzY2VudCcsICdhdHRyaWJ1dGVuYW1lJywgJ2F0dHJpYnV0ZXR5cGUnLCAnYXppbXV0aCcsICdiYXNlZnJlcXVlbmN5JywgJ2Jhc2VsaW5lLXNoaWZ0JywgJ2JlZ2luJywgJ2JpYXMnLCAnYnknLCAnY2xhc3MnLCAnY2xpcCcsICdjbGlwcGF0aHVuaXRzJywgJ2NsaXAtcGF0aCcsICdjbGlwLXJ1bGUnLCAnY29sb3InLCAnY29sb3ItaW50ZXJwb2xhdGlvbicsICdjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMnLCAnY29sb3ItcHJvZmlsZScsICdjb2xvci1yZW5kZXJpbmcnLCAnY3gnLCAnY3knLCAnZCcsICdkeCcsICdkeScsICdkaWZmdXNlY29uc3RhbnQnLCAnZGlyZWN0aW9uJywgJ2Rpc3BsYXknLCAnZGl2aXNvcicsICdkdXInLCAnZWRnZW1vZGUnLCAnZWxldmF0aW9uJywgJ2VuZCcsICdleHBvbmVudCcsICdmaWxsJywgJ2ZpbGwtb3BhY2l0eScsICdmaWxsLXJ1bGUnLCAnZmlsdGVyJywgJ2ZpbHRlcnVuaXRzJywgJ2Zsb29kLWNvbG9yJywgJ2Zsb29kLW9wYWNpdHknLCAnZm9udC1mYW1pbHknLCAnZm9udC1zaXplJywgJ2ZvbnQtc2l6ZS1hZGp1c3QnLCAnZm9udC1zdHJldGNoJywgJ2ZvbnQtc3R5bGUnLCAnZm9udC12YXJpYW50JywgJ2ZvbnQtd2VpZ2h0JywgJ2Z4JywgJ2Z5JywgJ2cxJywgJ2cyJywgJ2dseXBoLW5hbWUnLCAnZ2x5cGhyZWYnLCAnZ3JhZGllbnR1bml0cycsICdncmFkaWVudHRyYW5zZm9ybScsICdoZWlnaHQnLCAnaHJlZicsICdpZCcsICdpbWFnZS1yZW5kZXJpbmcnLCAnaW4nLCAnaW4yJywgJ2ludGVyY2VwdCcsICdrJywgJ2sxJywgJ2syJywgJ2szJywgJ2s0JywgJ2tlcm5pbmcnLCAna2V5cG9pbnRzJywgJ2tleXNwbGluZXMnLCAna2V5dGltZXMnLCAnbGFuZycsICdsZW5ndGhhZGp1c3QnLCAnbGV0dGVyLXNwYWNpbmcnLCAna2VybmVsbWF0cml4JywgJ2tlcm5lbHVuaXRsZW5ndGgnLCAnbGlnaHRpbmctY29sb3InLCAnbG9jYWwnLCAnbWFya2VyLWVuZCcsICdtYXJrZXItbWlkJywgJ21hcmtlci1zdGFydCcsICdtYXJrZXJoZWlnaHQnLCAnbWFya2VydW5pdHMnLCAnbWFya2Vyd2lkdGgnLCAnbWFza2NvbnRlbnR1bml0cycsICdtYXNrdW5pdHMnLCAnbWF4JywgJ21hc2snLCAnbWFzay10eXBlJywgJ21lZGlhJywgJ21ldGhvZCcsICdtb2RlJywgJ21pbicsICduYW1lJywgJ251bW9jdGF2ZXMnLCAnb2Zmc2V0JywgJ29wZXJhdG9yJywgJ29wYWNpdHknLCAnb3JkZXInLCAnb3JpZW50JywgJ29yaWVudGF0aW9uJywgJ29yaWdpbicsICdvdmVyZmxvdycsICdwYWludC1vcmRlcicsICdwYXRoJywgJ3BhdGhsZW5ndGgnLCAncGF0dGVybmNvbnRlbnR1bml0cycsICdwYXR0ZXJudHJhbnNmb3JtJywgJ3BhdHRlcm51bml0cycsICdwb2ludHMnLCAncHJlc2VydmVhbHBoYScsICdwcmVzZXJ2ZWFzcGVjdHJhdGlvJywgJ3ByaW1pdGl2ZXVuaXRzJywgJ3InLCAncngnLCAncnknLCAncmFkaXVzJywgJ3JlZngnLCAncmVmeScsICdyZXBlYXRjb3VudCcsICdyZXBlYXRkdXInLCAncmVzdGFydCcsICdyZXN1bHQnLCAncm90YXRlJywgJ3NjYWxlJywgJ3NlZWQnLCAnc2hhcGUtcmVuZGVyaW5nJywgJ3Nsb3BlJywgJ3NwZWN1bGFyY29uc3RhbnQnLCAnc3BlY3VsYXJleHBvbmVudCcsICdzcHJlYWRtZXRob2QnLCAnc3RhcnRvZmZzZXQnLCAnc3RkZGV2aWF0aW9uJywgJ3N0aXRjaHRpbGVzJywgJ3N0b3AtY29sb3InLCAnc3RvcC1vcGFjaXR5JywgJ3N0cm9rZS1kYXNoYXJyYXknLCAnc3Ryb2tlLWRhc2hvZmZzZXQnLCAnc3Ryb2tlLWxpbmVjYXAnLCAnc3Ryb2tlLWxpbmVqb2luJywgJ3N0cm9rZS1taXRlcmxpbWl0JywgJ3N0cm9rZS1vcGFjaXR5JywgJ3N0cm9rZScsICdzdHJva2Utd2lkdGgnLCAnc3R5bGUnLCAnc3VyZmFjZXNjYWxlJywgJ3N5c3RlbWxhbmd1YWdlJywgJ3RhYmluZGV4JywgJ3RhYmxldmFsdWVzJywgJ3RhcmdldHgnLCAndGFyZ2V0eScsICd0cmFuc2Zvcm0nLCAndHJhbnNmb3JtLW9yaWdpbicsICd0ZXh0LWFuY2hvcicsICd0ZXh0LWRlY29yYXRpb24nLCAndGV4dC1yZW5kZXJpbmcnLCAndGV4dGxlbmd0aCcsICd0eXBlJywgJ3UxJywgJ3UyJywgJ3VuaWNvZGUnLCAndmFsdWVzJywgJ3ZpZXdib3gnLCAndmlzaWJpbGl0eScsICd2ZXJzaW9uJywgJ3ZlcnQtYWR2LXknLCAndmVydC1vcmlnaW4teCcsICd2ZXJ0LW9yaWdpbi15JywgJ3dpZHRoJywgJ3dvcmQtc3BhY2luZycsICd3cmFwJywgJ3dyaXRpbmctbW9kZScsICd4Y2hhbm5lbHNlbGVjdG9yJywgJ3ljaGFubmVsc2VsZWN0b3InLCAneCcsICd4MScsICd4MicsICd4bWxucycsICd5JywgJ3kxJywgJ3kyJywgJ3onLCAnem9vbWFuZHBhbiddKTtcbmNvbnN0IG1hdGhNbCA9IGZyZWV6ZShbJ2FjY2VudCcsICdhY2NlbnR1bmRlcicsICdhbGlnbicsICdiZXZlbGxlZCcsICdjbG9zZScsICdjb2x1bW5zYWxpZ24nLCAnY29sdW1ubGluZXMnLCAnY29sdW1uc3BhbicsICdkZW5vbWFsaWduJywgJ2RlcHRoJywgJ2RpcicsICdkaXNwbGF5JywgJ2Rpc3BsYXlzdHlsZScsICdlbmNvZGluZycsICdmZW5jZScsICdmcmFtZScsICdoZWlnaHQnLCAnaHJlZicsICdpZCcsICdsYXJnZW9wJywgJ2xlbmd0aCcsICdsaW5ldGhpY2tuZXNzJywgJ2xzcGFjZScsICdscXVvdGUnLCAnbWF0aGJhY2tncm91bmQnLCAnbWF0aGNvbG9yJywgJ21hdGhzaXplJywgJ21hdGh2YXJpYW50JywgJ21heHNpemUnLCAnbWluc2l6ZScsICdtb3ZhYmxlbGltaXRzJywgJ25vdGF0aW9uJywgJ251bWFsaWduJywgJ29wZW4nLCAncm93YWxpZ24nLCAncm93bGluZXMnLCAncm93c3BhY2luZycsICdyb3dzcGFuJywgJ3JzcGFjZScsICdycXVvdGUnLCAnc2NyaXB0bGV2ZWwnLCAnc2NyaXB0bWluc2l6ZScsICdzY3JpcHRzaXplbXVsdGlwbGllcicsICdzZWxlY3Rpb24nLCAnc2VwYXJhdG9yJywgJ3NlcGFyYXRvcnMnLCAnc3RyZXRjaHknLCAnc3Vic2NyaXB0c2hpZnQnLCAnc3Vwc2NyaXB0c2hpZnQnLCAnc3ltbWV0cmljJywgJ3ZvZmZzZXQnLCAnd2lkdGgnLCAneG1sbnMnXSk7XG5jb25zdCB4bWwgPSBmcmVlemUoWyd4bGluazpocmVmJywgJ3htbDppZCcsICd4bGluazp0aXRsZScsICd4bWw6c3BhY2UnLCAneG1sbnM6eGxpbmsnXSk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB1bmljb3JuL2JldHRlci1yZWdleFxuY29uc3QgTVVTVEFDSEVfRVhQUiA9IHNlYWwoL1xce1xce1tcXHdcXFddKnxbXFx3XFxXXSpcXH1cXH0vZ20pOyAvLyBTcGVjaWZ5IHRlbXBsYXRlIGRldGVjdGlvbiByZWdleCBmb3IgU0FGRV9GT1JfVEVNUExBVEVTIG1vZGVcbmNvbnN0IEVSQl9FWFBSID0gc2VhbCgvPCVbXFx3XFxXXSp8W1xcd1xcV10qJT4vZ20pO1xuY29uc3QgVE1QTElUX0VYUFIgPSBzZWFsKC9cXCRcXHtbXFx3XFxXXSovZ20pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHVuaWNvcm4vYmV0dGVyLXJlZ2V4XG5jb25zdCBEQVRBX0FUVFIgPSBzZWFsKC9eZGF0YS1bXFwtXFx3LlxcdTAwQjctXFx1RkZGRl0rJC8pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG5jb25zdCBBUklBX0FUVFIgPSBzZWFsKC9eYXJpYS1bXFwtXFx3XSskLyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbmNvbnN0IElTX0FMTE9XRURfVVJJID0gc2VhbCgvXig/Oig/Oig/OmZ8aHQpdHBzP3xtYWlsdG98dGVsfGNhbGx0b3xzbXN8Y2lkfHhtcHB8bWF0cml4KTp8W15hLXpdfFthLXorLlxcLV0rKD86W15hLXorLlxcLTpdfCQpKS9pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbik7XG5jb25zdCBJU19TQ1JJUFRfT1JfREFUQSA9IHNlYWwoL14oPzpcXHcrc2NyaXB0fGRhdGEpOi9pKTtcbmNvbnN0IEFUVFJfV0hJVEVTUEFDRSA9IHNlYWwoL1tcXHUwMDAwLVxcdTAwMjBcXHUwMEEwXFx1MTY4MFxcdTE4MEVcXHUyMDAwLVxcdTIwMjlcXHUyMDVGXFx1MzAwMF0vZyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbik7XG5jb25zdCBET0NUWVBFX05BTUUgPSBzZWFsKC9eaHRtbCQvaSk7XG5jb25zdCBDVVNUT01fRUxFTUVOVCA9IHNlYWwoL15bYS16XVsuXFx3XSooLVsuXFx3XSspKyQvaSk7XG5cbnZhciBFWFBSRVNTSU9OUyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICBBUklBX0FUVFI6IEFSSUFfQVRUUixcbiAgQVRUUl9XSElURVNQQUNFOiBBVFRSX1dISVRFU1BBQ0UsXG4gIENVU1RPTV9FTEVNRU5UOiBDVVNUT01fRUxFTUVOVCxcbiAgREFUQV9BVFRSOiBEQVRBX0FUVFIsXG4gIERPQ1RZUEVfTkFNRTogRE9DVFlQRV9OQU1FLFxuICBFUkJfRVhQUjogRVJCX0VYUFIsXG4gIElTX0FMTE9XRURfVVJJOiBJU19BTExPV0VEX1VSSSxcbiAgSVNfU0NSSVBUX09SX0RBVEE6IElTX1NDUklQVF9PUl9EQVRBLFxuICBNVVNUQUNIRV9FWFBSOiBNVVNUQUNIRV9FWFBSLFxuICBUTVBMSVRfRVhQUjogVE1QTElUX0VYUFJcbn0pO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvaW5kZW50ICovXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTm9kZS9ub2RlVHlwZVxuY29uc3QgTk9ERV9UWVBFID0ge1xuICBlbGVtZW50OiAxLFxuICBhdHRyaWJ1dGU6IDIsXG4gIHRleHQ6IDMsXG4gIGNkYXRhU2VjdGlvbjogNCxcbiAgZW50aXR5UmVmZXJlbmNlOiA1LFxuICAvLyBEZXByZWNhdGVkXG4gIGVudGl0eU5vZGU6IDYsXG4gIC8vIERlcHJlY2F0ZWRcbiAgcHJvZ3Jlc3NpbmdJbnN0cnVjdGlvbjogNyxcbiAgY29tbWVudDogOCxcbiAgZG9jdW1lbnQ6IDksXG4gIGRvY3VtZW50VHlwZTogMTAsXG4gIGRvY3VtZW50RnJhZ21lbnQ6IDExLFxuICBub3RhdGlvbjogMTIgLy8gRGVwcmVjYXRlZFxufTtcbmNvbnN0IGdldEdsb2JhbCA9IGZ1bmN0aW9uIGdldEdsb2JhbCgpIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHdpbmRvdztcbn07XG4vKipcbiAqIENyZWF0ZXMgYSBuby1vcCBwb2xpY3kgZm9yIGludGVybmFsIHVzZSBvbmx5LlxuICogRG9uJ3QgZXhwb3J0IHRoaXMgZnVuY3Rpb24gb3V0c2lkZSB0aGlzIG1vZHVsZSFcbiAqIEBwYXJhbSB0cnVzdGVkVHlwZXMgVGhlIHBvbGljeSBmYWN0b3J5LlxuICogQHBhcmFtIHB1cmlmeUhvc3RFbGVtZW50IFRoZSBTY3JpcHQgZWxlbWVudCB1c2VkIHRvIGxvYWQgRE9NUHVyaWZ5ICh0byBkZXRlcm1pbmUgcG9saWN5IG5hbWUgc3VmZml4KS5cbiAqIEByZXR1cm4gVGhlIHBvbGljeSBjcmVhdGVkIChvciBudWxsLCBpZiBUcnVzdGVkIFR5cGVzXG4gKiBhcmUgbm90IHN1cHBvcnRlZCBvciBjcmVhdGluZyB0aGUgcG9saWN5IGZhaWxlZCkuXG4gKi9cbmNvbnN0IF9jcmVhdGVUcnVzdGVkVHlwZXNQb2xpY3kgPSBmdW5jdGlvbiBfY3JlYXRlVHJ1c3RlZFR5cGVzUG9saWN5KHRydXN0ZWRUeXBlcywgcHVyaWZ5SG9zdEVsZW1lbnQpIHtcbiAgaWYgKHR5cGVvZiB0cnVzdGVkVHlwZXMgIT09ICdvYmplY3QnIHx8IHR5cGVvZiB0cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLy8gQWxsb3cgdGhlIGNhbGxlcnMgdG8gY29udHJvbCB0aGUgdW5pcXVlIHBvbGljeSBuYW1lXG4gIC8vIGJ5IGFkZGluZyBhIGRhdGEtdHQtcG9saWN5LXN1ZmZpeCB0byB0aGUgc2NyaXB0IGVsZW1lbnQgd2l0aCB0aGUgRE9NUHVyaWZ5LlxuICAvLyBQb2xpY3kgY3JlYXRpb24gd2l0aCBkdXBsaWNhdGUgbmFtZXMgdGhyb3dzIGluIFRydXN0ZWQgVHlwZXMuXG4gIGxldCBzdWZmaXggPSBudWxsO1xuICBjb25zdCBBVFRSX05BTUUgPSAnZGF0YS10dC1wb2xpY3ktc3VmZml4JztcbiAgaWYgKHB1cmlmeUhvc3RFbGVtZW50ICYmIHB1cmlmeUhvc3RFbGVtZW50Lmhhc0F0dHJpYnV0ZShBVFRSX05BTUUpKSB7XG4gICAgc3VmZml4ID0gcHVyaWZ5SG9zdEVsZW1lbnQuZ2V0QXR0cmlidXRlKEFUVFJfTkFNRSk7XG4gIH1cbiAgY29uc3QgcG9saWN5TmFtZSA9ICdkb21wdXJpZnknICsgKHN1ZmZpeCA/ICcjJyArIHN1ZmZpeCA6ICcnKTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdHJ1c3RlZFR5cGVzLmNyZWF0ZVBvbGljeShwb2xpY3lOYW1lLCB7XG4gICAgICBjcmVhdGVIVE1MKGh0bWwpIHtcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgICB9LFxuICAgICAgY3JlYXRlU2NyaXB0VVJMKHNjcmlwdFVybCkge1xuICAgICAgICByZXR1cm4gc2NyaXB0VXJsO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChfKSB7XG4gICAgLy8gUG9saWN5IGNyZWF0aW9uIGZhaWxlZCAobW9zdCBsaWtlbHkgYW5vdGhlciBET01QdXJpZnkgc2NyaXB0IGhhc1xuICAgIC8vIGFscmVhZHkgcnVuKS4gU2tpcCBjcmVhdGluZyB0aGUgcG9saWN5LCBhcyB0aGlzIHdpbGwgb25seSBjYXVzZSBlcnJvcnNcbiAgICAvLyBpZiBUVCBhcmUgZW5mb3JjZWQuXG4gICAgY29uc29sZS53YXJuKCdUcnVzdGVkVHlwZXMgcG9saWN5ICcgKyBwb2xpY3lOYW1lICsgJyBjb3VsZCBub3QgYmUgY3JlYXRlZC4nKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcbmNvbnN0IF9jcmVhdGVIb29rc01hcCA9IGZ1bmN0aW9uIF9jcmVhdGVIb29rc01hcCgpIHtcbiAgcmV0dXJuIHtcbiAgICBhZnRlclNhbml0aXplQXR0cmlidXRlczogW10sXG4gICAgYWZ0ZXJTYW5pdGl6ZUVsZW1lbnRzOiBbXSxcbiAgICBhZnRlclNhbml0aXplU2hhZG93RE9NOiBbXSxcbiAgICBiZWZvcmVTYW5pdGl6ZUF0dHJpYnV0ZXM6IFtdLFxuICAgIGJlZm9yZVNhbml0aXplRWxlbWVudHM6IFtdLFxuICAgIGJlZm9yZVNhbml0aXplU2hhZG93RE9NOiBbXSxcbiAgICB1cG9uU2FuaXRpemVBdHRyaWJ1dGU6IFtdLFxuICAgIHVwb25TYW5pdGl6ZUVsZW1lbnQ6IFtdLFxuICAgIHVwb25TYW5pdGl6ZVNoYWRvd05vZGU6IFtdXG4gIH07XG59O1xuZnVuY3Rpb24gY3JlYXRlRE9NUHVyaWZ5KCkge1xuICBsZXQgd2luZG93ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBnZXRHbG9iYWwoKTtcbiAgY29uc3QgRE9NUHVyaWZ5ID0gcm9vdCA9PiBjcmVhdGVET01QdXJpZnkocm9vdCk7XG4gIERPTVB1cmlmeS52ZXJzaW9uID0gJzMuMy4wJztcbiAgRE9NUHVyaWZ5LnJlbW92ZWQgPSBbXTtcbiAgaWYgKCF3aW5kb3cgfHwgIXdpbmRvdy5kb2N1bWVudCB8fCB3aW5kb3cuZG9jdW1lbnQubm9kZVR5cGUgIT09IE5PREVfVFlQRS5kb2N1bWVudCB8fCAhd2luZG93LkVsZW1lbnQpIHtcbiAgICAvLyBOb3QgcnVubmluZyBpbiBhIGJyb3dzZXIsIHByb3ZpZGUgYSBmYWN0b3J5IGZ1bmN0aW9uXG4gICAgLy8gc28gdGhhdCB5b3UgY2FuIHBhc3MgeW91ciBvd24gV2luZG93XG4gICAgRE9NUHVyaWZ5LmlzU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgcmV0dXJuIERPTVB1cmlmeTtcbiAgfVxuICBsZXQge1xuICAgIGRvY3VtZW50XG4gIH0gPSB3aW5kb3c7XG4gIGNvbnN0IG9yaWdpbmFsRG9jdW1lbnQgPSBkb2N1bWVudDtcbiAgY29uc3QgY3VycmVudFNjcmlwdCA9IG9yaWdpbmFsRG9jdW1lbnQuY3VycmVudFNjcmlwdDtcbiAgY29uc3Qge1xuICAgIERvY3VtZW50RnJhZ21lbnQsXG4gICAgSFRNTFRlbXBsYXRlRWxlbWVudCxcbiAgICBOb2RlLFxuICAgIEVsZW1lbnQsXG4gICAgTm9kZUZpbHRlcixcbiAgICBOYW1lZE5vZGVNYXAgPSB3aW5kb3cuTmFtZWROb2RlTWFwIHx8IHdpbmRvdy5Nb3pOYW1lZEF0dHJNYXAsXG4gICAgSFRNTEZvcm1FbGVtZW50LFxuICAgIERPTVBhcnNlcixcbiAgICB0cnVzdGVkVHlwZXNcbiAgfSA9IHdpbmRvdztcbiAgY29uc3QgRWxlbWVudFByb3RvdHlwZSA9IEVsZW1lbnQucHJvdG90eXBlO1xuICBjb25zdCBjbG9uZU5vZGUgPSBsb29rdXBHZXR0ZXIoRWxlbWVudFByb3RvdHlwZSwgJ2Nsb25lTm9kZScpO1xuICBjb25zdCByZW1vdmUgPSBsb29rdXBHZXR0ZXIoRWxlbWVudFByb3RvdHlwZSwgJ3JlbW92ZScpO1xuICBjb25zdCBnZXROZXh0U2libGluZyA9IGxvb2t1cEdldHRlcihFbGVtZW50UHJvdG90eXBlLCAnbmV4dFNpYmxpbmcnKTtcbiAgY29uc3QgZ2V0Q2hpbGROb2RlcyA9IGxvb2t1cEdldHRlcihFbGVtZW50UHJvdG90eXBlLCAnY2hpbGROb2RlcycpO1xuICBjb25zdCBnZXRQYXJlbnROb2RlID0gbG9va3VwR2V0dGVyKEVsZW1lbnRQcm90b3R5cGUsICdwYXJlbnROb2RlJyk7XG4gIC8vIEFzIHBlciBpc3N1ZSAjNDcsIHRoZSB3ZWItY29tcG9uZW50cyByZWdpc3RyeSBpcyBpbmhlcml0ZWQgYnkgYVxuICAvLyBuZXcgZG9jdW1lbnQgY3JlYXRlZCB2aWEgY3JlYXRlSFRNTERvY3VtZW50LiBBcyBwZXIgdGhlIHNwZWNcbiAgLy8gKGh0dHA6Ly93M2MuZ2l0aHViLmlvL3dlYmNvbXBvbmVudHMvc3BlYy9jdXN0b20vI2NyZWF0aW5nLWFuZC1wYXNzaW5nLXJlZ2lzdHJpZXMpXG4gIC8vIGEgbmV3IGVtcHR5IHJlZ2lzdHJ5IGlzIHVzZWQgd2hlbiBjcmVhdGluZyBhIHRlbXBsYXRlIGNvbnRlbnRzIG93bmVyXG4gIC8vIGRvY3VtZW50LCBzbyB3ZSB1c2UgdGhhdCBhcyBvdXIgcGFyZW50IGRvY3VtZW50IHRvIGVuc3VyZSBub3RoaW5nXG4gIC8vIGlzIGluaGVyaXRlZC5cbiAgaWYgKHR5cGVvZiBIVE1MVGVtcGxhdGVFbGVtZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgIGlmICh0ZW1wbGF0ZS5jb250ZW50ICYmIHRlbXBsYXRlLmNvbnRlbnQub3duZXJEb2N1bWVudCkge1xuICAgICAgZG9jdW1lbnQgPSB0ZW1wbGF0ZS5jb250ZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgfVxuICB9XG4gIGxldCB0cnVzdGVkVHlwZXNQb2xpY3k7XG4gIGxldCBlbXB0eUhUTUwgPSAnJztcbiAgY29uc3Qge1xuICAgIGltcGxlbWVudGF0aW9uLFxuICAgIGNyZWF0ZU5vZGVJdGVyYXRvcixcbiAgICBjcmVhdGVEb2N1bWVudEZyYWdtZW50LFxuICAgIGdldEVsZW1lbnRzQnlUYWdOYW1lXG4gIH0gPSBkb2N1bWVudDtcbiAgY29uc3Qge1xuICAgIGltcG9ydE5vZGVcbiAgfSA9IG9yaWdpbmFsRG9jdW1lbnQ7XG4gIGxldCBob29rcyA9IF9jcmVhdGVIb29rc01hcCgpO1xuICAvKipcbiAgICogRXhwb3NlIHdoZXRoZXIgdGhpcyBicm93c2VyIHN1cHBvcnRzIHJ1bm5pbmcgdGhlIGZ1bGwgRE9NUHVyaWZ5LlxuICAgKi9cbiAgRE9NUHVyaWZ5LmlzU3VwcG9ydGVkID0gdHlwZW9mIGVudHJpZXMgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGdldFBhcmVudE5vZGUgPT09ICdmdW5jdGlvbicgJiYgaW1wbGVtZW50YXRpb24gJiYgaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50ICE9PSB1bmRlZmluZWQ7XG4gIGNvbnN0IHtcbiAgICBNVVNUQUNIRV9FWFBSLFxuICAgIEVSQl9FWFBSLFxuICAgIFRNUExJVF9FWFBSLFxuICAgIERBVEFfQVRUUixcbiAgICBBUklBX0FUVFIsXG4gICAgSVNfU0NSSVBUX09SX0RBVEEsXG4gICAgQVRUUl9XSElURVNQQUNFLFxuICAgIENVU1RPTV9FTEVNRU5UXG4gIH0gPSBFWFBSRVNTSU9OUztcbiAgbGV0IHtcbiAgICBJU19BTExPV0VEX1VSSTogSVNfQUxMT1dFRF9VUkkkMVxuICB9ID0gRVhQUkVTU0lPTlM7XG4gIC8qKlxuICAgKiBXZSBjb25zaWRlciB0aGUgZWxlbWVudHMgYW5kIGF0dHJpYnV0ZXMgYmVsb3cgdG8gYmUgc2FmZS4gSWRlYWxseVxuICAgKiBkb24ndCBhZGQgYW55IG5ldyBvbmVzIGJ1dCBmZWVsIGZyZWUgdG8gcmVtb3ZlIHVud2FudGVkIG9uZXMuXG4gICAqL1xuICAvKiBhbGxvd2VkIGVsZW1lbnQgbmFtZXMgKi9cbiAgbGV0IEFMTE9XRURfVEFHUyA9IG51bGw7XG4gIGNvbnN0IERFRkFVTFRfQUxMT1dFRF9UQUdTID0gYWRkVG9TZXQoe30sIFsuLi5odG1sJDEsIC4uLnN2ZyQxLCAuLi5zdmdGaWx0ZXJzLCAuLi5tYXRoTWwkMSwgLi4udGV4dF0pO1xuICAvKiBBbGxvd2VkIGF0dHJpYnV0ZSBuYW1lcyAqL1xuICBsZXQgQUxMT1dFRF9BVFRSID0gbnVsbDtcbiAgY29uc3QgREVGQVVMVF9BTExPV0VEX0FUVFIgPSBhZGRUb1NldCh7fSwgWy4uLmh0bWwsIC4uLnN2ZywgLi4ubWF0aE1sLCAuLi54bWxdKTtcbiAgLypcbiAgICogQ29uZmlndXJlIGhvdyBET01QdXJpZnkgc2hvdWxkIGhhbmRsZSBjdXN0b20gZWxlbWVudHMgYW5kIHRoZWlyIGF0dHJpYnV0ZXMgYXMgd2VsbCBhcyBjdXN0b21pemVkIGJ1aWx0LWluIGVsZW1lbnRzLlxuICAgKiBAcHJvcGVydHkge1JlZ0V4cHxGdW5jdGlvbnxudWxsfSB0YWdOYW1lQ2hlY2sgb25lIG9mIFtudWxsLCByZWdleFBhdHRlcm4sIHByZWRpY2F0ZV0uIERlZmF1bHQ6IGBudWxsYCAoZGlzYWxsb3cgYW55IGN1c3RvbSBlbGVtZW50cylcbiAgICogQHByb3BlcnR5IHtSZWdFeHB8RnVuY3Rpb258bnVsbH0gYXR0cmlidXRlTmFtZUNoZWNrIG9uZSBvZiBbbnVsbCwgcmVnZXhQYXR0ZXJuLCBwcmVkaWNhdGVdLiBEZWZhdWx0OiBgbnVsbGAgKGRpc2FsbG93IGFueSBhdHRyaWJ1dGVzIG5vdCBvbiB0aGUgYWxsb3cgbGlzdClcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBhbGxvd0N1c3RvbWl6ZWRCdWlsdEluRWxlbWVudHMgYWxsb3cgY3VzdG9tIGVsZW1lbnRzIGRlcml2ZWQgZnJvbSBidWlsdC1pbnMgaWYgdGhleSBwYXNzIENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLnRhZ05hbWVDaGVjay4gRGVmYXVsdDogYGZhbHNlYC5cbiAgICovXG4gIGxldCBDVVNUT01fRUxFTUVOVF9IQU5ETElORyA9IE9iamVjdC5zZWFsKGNyZWF0ZShudWxsLCB7XG4gICAgdGFnTmFtZUNoZWNrOiB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG51bGxcbiAgICB9LFxuICAgIGF0dHJpYnV0ZU5hbWVDaGVjazoge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBudWxsXG4gICAgfSxcbiAgICBhbGxvd0N1c3RvbWl6ZWRCdWlsdEluRWxlbWVudHM6IHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogZmFsc2VcbiAgICB9XG4gIH0pKTtcbiAgLyogRXhwbGljaXRseSBmb3JiaWRkZW4gdGFncyAob3ZlcnJpZGVzIEFMTE9XRURfVEFHUy9BRERfVEFHUykgKi9cbiAgbGV0IEZPUkJJRF9UQUdTID0gbnVsbDtcbiAgLyogRXhwbGljaXRseSBmb3JiaWRkZW4gYXR0cmlidXRlcyAob3ZlcnJpZGVzIEFMTE9XRURfQVRUUi9BRERfQVRUUikgKi9cbiAgbGV0IEZPUkJJRF9BVFRSID0gbnVsbDtcbiAgLyogQ29uZmlnIG9iamVjdCB0byBzdG9yZSBBRERfVEFHUy9BRERfQVRUUiBmdW5jdGlvbnMgKHdoZW4gdXNlZCBhcyBmdW5jdGlvbnMpICovXG4gIGNvbnN0IEVYVFJBX0VMRU1FTlRfSEFORExJTkcgPSBPYmplY3Quc2VhbChjcmVhdGUobnVsbCwge1xuICAgIHRhZ0NoZWNrOiB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG51bGxcbiAgICB9LFxuICAgIGF0dHJpYnV0ZUNoZWNrOiB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG51bGxcbiAgICB9XG4gIH0pKTtcbiAgLyogRGVjaWRlIGlmIEFSSUEgYXR0cmlidXRlcyBhcmUgb2theSAqL1xuICBsZXQgQUxMT1dfQVJJQV9BVFRSID0gdHJ1ZTtcbiAgLyogRGVjaWRlIGlmIGN1c3RvbSBkYXRhIGF0dHJpYnV0ZXMgYXJlIG9rYXkgKi9cbiAgbGV0IEFMTE9XX0RBVEFfQVRUUiA9IHRydWU7XG4gIC8qIERlY2lkZSBpZiB1bmtub3duIHByb3RvY29scyBhcmUgb2theSAqL1xuICBsZXQgQUxMT1dfVU5LTk9XTl9QUk9UT0NPTFMgPSBmYWxzZTtcbiAgLyogRGVjaWRlIGlmIHNlbGYtY2xvc2luZyB0YWdzIGluIGF0dHJpYnV0ZXMgYXJlIGFsbG93ZWQuXG4gICAqIFVzdWFsbHkgcmVtb3ZlZCBkdWUgdG8gYSBtWFNTIGlzc3VlIGluIGpRdWVyeSAzLjAgKi9cbiAgbGV0IEFMTE9XX1NFTEZfQ0xPU0VfSU5fQVRUUiA9IHRydWU7XG4gIC8qIE91dHB1dCBzaG91bGQgYmUgc2FmZSBmb3IgY29tbW9uIHRlbXBsYXRlIGVuZ2luZXMuXG4gICAqIFRoaXMgbWVhbnMsIERPTVB1cmlmeSByZW1vdmVzIGRhdGEgYXR0cmlidXRlcywgbXVzdGFjaGVzIGFuZCBFUkJcbiAgICovXG4gIGxldCBTQUZFX0ZPUl9URU1QTEFURVMgPSBmYWxzZTtcbiAgLyogT3V0cHV0IHNob3VsZCBiZSBzYWZlIGV2ZW4gZm9yIFhNTCB1c2VkIHdpdGhpbiBIVE1MIGFuZCBhbGlrZS5cbiAgICogVGhpcyBtZWFucywgRE9NUHVyaWZ5IHJlbW92ZXMgY29tbWVudHMgd2hlbiBjb250YWluaW5nIHJpc2t5IGNvbnRlbnQuXG4gICAqL1xuICBsZXQgU0FGRV9GT1JfWE1MID0gdHJ1ZTtcbiAgLyogRGVjaWRlIGlmIGRvY3VtZW50IHdpdGggPGh0bWw+Li4uIHNob3VsZCBiZSByZXR1cm5lZCAqL1xuICBsZXQgV0hPTEVfRE9DVU1FTlQgPSBmYWxzZTtcbiAgLyogVHJhY2sgd2hldGhlciBjb25maWcgaXMgYWxyZWFkeSBzZXQgb24gdGhpcyBpbnN0YW5jZSBvZiBET01QdXJpZnkuICovXG4gIGxldCBTRVRfQ09ORklHID0gZmFsc2U7XG4gIC8qIERlY2lkZSBpZiBhbGwgZWxlbWVudHMgKGUuZy4gc3R5bGUsIHNjcmlwdCkgbXVzdCBiZSBjaGlsZHJlbiBvZlxuICAgKiBkb2N1bWVudC5ib2R5LiBCeSBkZWZhdWx0LCBicm93c2VycyBtaWdodCBtb3ZlIHRoZW0gdG8gZG9jdW1lbnQuaGVhZCAqL1xuICBsZXQgRk9SQ0VfQk9EWSA9IGZhbHNlO1xuICAvKiBEZWNpZGUgaWYgYSBET00gYEhUTUxCb2R5RWxlbWVudGAgc2hvdWxkIGJlIHJldHVybmVkLCBpbnN0ZWFkIG9mIGEgaHRtbFxuICAgKiBzdHJpbmcgKG9yIGEgVHJ1c3RlZEhUTUwgb2JqZWN0IGlmIFRydXN0ZWQgVHlwZXMgYXJlIHN1cHBvcnRlZCkuXG4gICAqIElmIGBXSE9MRV9ET0NVTUVOVGAgaXMgZW5hYmxlZCBhIGBIVE1MSHRtbEVsZW1lbnRgIHdpbGwgYmUgcmV0dXJuZWQgaW5zdGVhZFxuICAgKi9cbiAgbGV0IFJFVFVSTl9ET00gPSBmYWxzZTtcbiAgLyogRGVjaWRlIGlmIGEgRE9NIGBEb2N1bWVudEZyYWdtZW50YCBzaG91bGQgYmUgcmV0dXJuZWQsIGluc3RlYWQgb2YgYSBodG1sXG4gICAqIHN0cmluZyAgKG9yIGEgVHJ1c3RlZEhUTUwgb2JqZWN0IGlmIFRydXN0ZWQgVHlwZXMgYXJlIHN1cHBvcnRlZCkgKi9cbiAgbGV0IFJFVFVSTl9ET01fRlJBR01FTlQgPSBmYWxzZTtcbiAgLyogVHJ5IHRvIHJldHVybiBhIFRydXN0ZWQgVHlwZSBvYmplY3QgaW5zdGVhZCBvZiBhIHN0cmluZywgcmV0dXJuIGEgc3RyaW5nIGluXG4gICAqIGNhc2UgVHJ1c3RlZCBUeXBlcyBhcmUgbm90IHN1cHBvcnRlZCAgKi9cbiAgbGV0IFJFVFVSTl9UUlVTVEVEX1RZUEUgPSBmYWxzZTtcbiAgLyogT3V0cHV0IHNob3VsZCBiZSBmcmVlIGZyb20gRE9NIGNsb2JiZXJpbmcgYXR0YWNrcz9cbiAgICogVGhpcyBzYW5pdGl6ZXMgbWFya3VwcyBuYW1lZCB3aXRoIGNvbGxpZGluZywgY2xvYmJlcmFibGUgYnVpbHQtaW4gRE9NIEFQSXMuXG4gICAqL1xuICBsZXQgU0FOSVRJWkVfRE9NID0gdHJ1ZTtcbiAgLyogQWNoaWV2ZSBmdWxsIERPTSBDbG9iYmVyaW5nIHByb3RlY3Rpb24gYnkgaXNvbGF0aW5nIHRoZSBuYW1lc3BhY2Ugb2YgbmFtZWRcbiAgICogcHJvcGVydGllcyBhbmQgSlMgdmFyaWFibGVzLCBtaXRpZ2F0aW5nIGF0dGFja3MgdGhhdCBhYnVzZSB0aGUgSFRNTC9ET00gc3BlYyBydWxlcy5cbiAgICpcbiAgICogSFRNTC9ET00gc3BlYyBydWxlcyB0aGF0IGVuYWJsZSBET00gQ2xvYmJlcmluZzpcbiAgICogICAtIE5hbWVkIEFjY2VzcyBvbiBXaW5kb3cgKMKnNy4zLjMpXG4gICAqICAgLSBET00gVHJlZSBBY2Nlc3NvcnMgKMKnMy4xLjUpXG4gICAqICAgLSBGb3JtIEVsZW1lbnQgUGFyZW50LUNoaWxkIFJlbGF0aW9ucyAowqc0LjEwLjMpXG4gICAqICAgLSBJZnJhbWUgc3JjZG9jIC8gTmVzdGVkIFdpbmRvd1Byb3hpZXMgKMKnNC44LjUpXG4gICAqICAgLSBIVE1MQ29sbGVjdGlvbiAowqc0LjIuMTAuMilcbiAgICpcbiAgICogTmFtZXNwYWNlIGlzb2xhdGlvbiBpcyBpbXBsZW1lbnRlZCBieSBwcmVmaXhpbmcgYGlkYCBhbmQgYG5hbWVgIGF0dHJpYnV0ZXNcbiAgICogd2l0aCBhIGNvbnN0YW50IHN0cmluZywgaS5lLiwgYHVzZXItY29udGVudC1gXG4gICAqL1xuICBsZXQgU0FOSVRJWkVfTkFNRURfUFJPUFMgPSBmYWxzZTtcbiAgY29uc3QgU0FOSVRJWkVfTkFNRURfUFJPUFNfUFJFRklYID0gJ3VzZXItY29udGVudC0nO1xuICAvKiBLZWVwIGVsZW1lbnQgY29udGVudCB3aGVuIHJlbW92aW5nIGVsZW1lbnQ/ICovXG4gIGxldCBLRUVQX0NPTlRFTlQgPSB0cnVlO1xuICAvKiBJZiBhIGBOb2RlYCBpcyBwYXNzZWQgdG8gc2FuaXRpemUoKSwgdGhlbiBwZXJmb3JtcyBzYW5pdGl6YXRpb24gaW4tcGxhY2UgaW5zdGVhZFxuICAgKiBvZiBpbXBvcnRpbmcgaXQgaW50byBhIG5ldyBEb2N1bWVudCBhbmQgcmV0dXJuaW5nIGEgc2FuaXRpemVkIGNvcHkgKi9cbiAgbGV0IElOX1BMQUNFID0gZmFsc2U7XG4gIC8qIEFsbG93IHVzYWdlIG9mIHByb2ZpbGVzIGxpa2UgaHRtbCwgc3ZnIGFuZCBtYXRoTWwgKi9cbiAgbGV0IFVTRV9QUk9GSUxFUyA9IHt9O1xuICAvKiBUYWdzIHRvIGlnbm9yZSBjb250ZW50IG9mIHdoZW4gS0VFUF9DT05URU5UIGlzIHRydWUgKi9cbiAgbGV0IEZPUkJJRF9DT05URU5UUyA9IG51bGw7XG4gIGNvbnN0IERFRkFVTFRfRk9SQklEX0NPTlRFTlRTID0gYWRkVG9TZXQoe30sIFsnYW5ub3RhdGlvbi14bWwnLCAnYXVkaW8nLCAnY29sZ3JvdXAnLCAnZGVzYycsICdmb3JlaWdub2JqZWN0JywgJ2hlYWQnLCAnaWZyYW1lJywgJ21hdGgnLCAnbWknLCAnbW4nLCAnbW8nLCAnbXMnLCAnbXRleHQnLCAnbm9lbWJlZCcsICdub2ZyYW1lcycsICdub3NjcmlwdCcsICdwbGFpbnRleHQnLCAnc2NyaXB0JywgJ3N0eWxlJywgJ3N2ZycsICd0ZW1wbGF0ZScsICd0aGVhZCcsICd0aXRsZScsICd2aWRlbycsICd4bXAnXSk7XG4gIC8qIFRhZ3MgdGhhdCBhcmUgc2FmZSBmb3IgZGF0YTogVVJJcyAqL1xuICBsZXQgREFUQV9VUklfVEFHUyA9IG51bGw7XG4gIGNvbnN0IERFRkFVTFRfREFUQV9VUklfVEFHUyA9IGFkZFRvU2V0KHt9LCBbJ2F1ZGlvJywgJ3ZpZGVvJywgJ2ltZycsICdzb3VyY2UnLCAnaW1hZ2UnLCAndHJhY2snXSk7XG4gIC8qIEF0dHJpYnV0ZXMgc2FmZSBmb3IgdmFsdWVzIGxpa2UgXCJqYXZhc2NyaXB0OlwiICovXG4gIGxldCBVUklfU0FGRV9BVFRSSUJVVEVTID0gbnVsbDtcbiAgY29uc3QgREVGQVVMVF9VUklfU0FGRV9BVFRSSUJVVEVTID0gYWRkVG9TZXQoe30sIFsnYWx0JywgJ2NsYXNzJywgJ2ZvcicsICdpZCcsICdsYWJlbCcsICduYW1lJywgJ3BhdHRlcm4nLCAncGxhY2Vob2xkZXInLCAncm9sZScsICdzdW1tYXJ5JywgJ3RpdGxlJywgJ3ZhbHVlJywgJ3N0eWxlJywgJ3htbG5zJ10pO1xuICBjb25zdCBNQVRITUxfTkFNRVNQQUNFID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwnO1xuICBjb25zdCBTVkdfTkFNRVNQQUNFID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcbiAgY29uc3QgSFRNTF9OQU1FU1BBQ0UgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XG4gIC8qIERvY3VtZW50IG5hbWVzcGFjZSAqL1xuICBsZXQgTkFNRVNQQUNFID0gSFRNTF9OQU1FU1BBQ0U7XG4gIGxldCBJU19FTVBUWV9JTlBVVCA9IGZhbHNlO1xuICAvKiBBbGxvd2VkIFhIVE1MK1hNTCBuYW1lc3BhY2VzICovXG4gIGxldCBBTExPV0VEX05BTUVTUEFDRVMgPSBudWxsO1xuICBjb25zdCBERUZBVUxUX0FMTE9XRURfTkFNRVNQQUNFUyA9IGFkZFRvU2V0KHt9LCBbTUFUSE1MX05BTUVTUEFDRSwgU1ZHX05BTUVTUEFDRSwgSFRNTF9OQU1FU1BBQ0VdLCBzdHJpbmdUb1N0cmluZyk7XG4gIGxldCBNQVRITUxfVEVYVF9JTlRFR1JBVElPTl9QT0lOVFMgPSBhZGRUb1NldCh7fSwgWydtaScsICdtbycsICdtbicsICdtcycsICdtdGV4dCddKTtcbiAgbGV0IEhUTUxfSU5URUdSQVRJT05fUE9JTlRTID0gYWRkVG9TZXQoe30sIFsnYW5ub3RhdGlvbi14bWwnXSk7XG4gIC8vIENlcnRhaW4gZWxlbWVudHMgYXJlIGFsbG93ZWQgaW4gYm90aCBTVkcgYW5kIEhUTUxcbiAgLy8gbmFtZXNwYWNlLiBXZSBuZWVkIHRvIHNwZWNpZnkgdGhlbSBleHBsaWNpdGx5XG4gIC8vIHNvIHRoYXQgdGhleSBkb24ndCBnZXQgZXJyb25lb3VzbHkgZGVsZXRlZCBmcm9tXG4gIC8vIEhUTUwgbmFtZXNwYWNlLlxuICBjb25zdCBDT01NT05fU1ZHX0FORF9IVE1MX0VMRU1FTlRTID0gYWRkVG9TZXQoe30sIFsndGl0bGUnLCAnc3R5bGUnLCAnZm9udCcsICdhJywgJ3NjcmlwdCddKTtcbiAgLyogUGFyc2luZyBvZiBzdHJpY3QgWEhUTUwgZG9jdW1lbnRzICovXG4gIGxldCBQQVJTRVJfTUVESUFfVFlQRSA9IG51bGw7XG4gIGNvbnN0IFNVUFBPUlRFRF9QQVJTRVJfTUVESUFfVFlQRVMgPSBbJ2FwcGxpY2F0aW9uL3hodG1sK3htbCcsICd0ZXh0L2h0bWwnXTtcbiAgY29uc3QgREVGQVVMVF9QQVJTRVJfTUVESUFfVFlQRSA9ICd0ZXh0L2h0bWwnO1xuICBsZXQgdHJhbnNmb3JtQ2FzZUZ1bmMgPSBudWxsO1xuICAvKiBLZWVwIGEgcmVmZXJlbmNlIHRvIGNvbmZpZyB0byBwYXNzIHRvIGhvb2tzICovXG4gIGxldCBDT05GSUcgPSBudWxsO1xuICAvKiBJZGVhbGx5LCBkbyBub3QgdG91Y2ggYW55dGhpbmcgYmVsb3cgdGhpcyBsaW5lICovXG4gIC8qIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18gKi9cbiAgY29uc3QgZm9ybUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gIGNvbnN0IGlzUmVnZXhPckZ1bmN0aW9uID0gZnVuY3Rpb24gaXNSZWdleE9yRnVuY3Rpb24odGVzdFZhbHVlKSB7XG4gICAgcmV0dXJuIHRlc3RWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCB8fCB0ZXN0VmFsdWUgaW5zdGFuY2VvZiBGdW5jdGlvbjtcbiAgfTtcbiAgLyoqXG4gICAqIF9wYXJzZUNvbmZpZ1xuICAgKlxuICAgKiBAcGFyYW0gY2ZnIG9wdGlvbmFsIGNvbmZpZyBsaXRlcmFsXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuICBjb25zdCBfcGFyc2VDb25maWcgPSBmdW5jdGlvbiBfcGFyc2VDb25maWcoKSB7XG4gICAgbGV0IGNmZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgaWYgKENPTkZJRyAmJiBDT05GSUcgPT09IGNmZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKiBTaGllbGQgY29uZmlndXJhdGlvbiBvYmplY3QgZnJvbSB0YW1wZXJpbmcgKi9cbiAgICBpZiAoIWNmZyB8fCB0eXBlb2YgY2ZnICE9PSAnb2JqZWN0Jykge1xuICAgICAgY2ZnID0ge307XG4gICAgfVxuICAgIC8qIFNoaWVsZCBjb25maWd1cmF0aW9uIG9iamVjdCBmcm9tIHByb3RvdHlwZSBwb2xsdXRpb24gKi9cbiAgICBjZmcgPSBjbG9uZShjZmcpO1xuICAgIFBBUlNFUl9NRURJQV9UWVBFID1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9wcmVmZXItaW5jbHVkZXNcbiAgICBTVVBQT1JURURfUEFSU0VSX01FRElBX1RZUEVTLmluZGV4T2YoY2ZnLlBBUlNFUl9NRURJQV9UWVBFKSA9PT0gLTEgPyBERUZBVUxUX1BBUlNFUl9NRURJQV9UWVBFIDogY2ZnLlBBUlNFUl9NRURJQV9UWVBFO1xuICAgIC8vIEhUTUwgdGFncyBhbmQgYXR0cmlidXRlcyBhcmUgbm90IGNhc2Utc2Vuc2l0aXZlLCBjb252ZXJ0aW5nIHRvIGxvd2VyY2FzZS4gS2VlcGluZyBYSFRNTCBhcyBpcy5cbiAgICB0cmFuc2Zvcm1DYXNlRnVuYyA9IFBBUlNFUl9NRURJQV9UWVBFID09PSAnYXBwbGljYXRpb24veGh0bWwreG1sJyA/IHN0cmluZ1RvU3RyaW5nIDogc3RyaW5nVG9Mb3dlckNhc2U7XG4gICAgLyogU2V0IGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyAqL1xuICAgIEFMTE9XRURfVEFHUyA9IG9iamVjdEhhc093blByb3BlcnR5KGNmZywgJ0FMTE9XRURfVEFHUycpID8gYWRkVG9TZXQoe30sIGNmZy5BTExPV0VEX1RBR1MsIHRyYW5zZm9ybUNhc2VGdW5jKSA6IERFRkFVTFRfQUxMT1dFRF9UQUdTO1xuICAgIEFMTE9XRURfQVRUUiA9IG9iamVjdEhhc093blByb3BlcnR5KGNmZywgJ0FMTE9XRURfQVRUUicpID8gYWRkVG9TZXQoe30sIGNmZy5BTExPV0VEX0FUVFIsIHRyYW5zZm9ybUNhc2VGdW5jKSA6IERFRkFVTFRfQUxMT1dFRF9BVFRSO1xuICAgIEFMTE9XRURfTkFNRVNQQUNFUyA9IG9iamVjdEhhc093blByb3BlcnR5KGNmZywgJ0FMTE9XRURfTkFNRVNQQUNFUycpID8gYWRkVG9TZXQoe30sIGNmZy5BTExPV0VEX05BTUVTUEFDRVMsIHN0cmluZ1RvU3RyaW5nKSA6IERFRkFVTFRfQUxMT1dFRF9OQU1FU1BBQ0VTO1xuICAgIFVSSV9TQUZFX0FUVFJJQlVURVMgPSBvYmplY3RIYXNPd25Qcm9wZXJ0eShjZmcsICdBRERfVVJJX1NBRkVfQVRUUicpID8gYWRkVG9TZXQoY2xvbmUoREVGQVVMVF9VUklfU0FGRV9BVFRSSUJVVEVTKSwgY2ZnLkFERF9VUklfU0FGRV9BVFRSLCB0cmFuc2Zvcm1DYXNlRnVuYykgOiBERUZBVUxUX1VSSV9TQUZFX0FUVFJJQlVURVM7XG4gICAgREFUQV9VUklfVEFHUyA9IG9iamVjdEhhc093blByb3BlcnR5KGNmZywgJ0FERF9EQVRBX1VSSV9UQUdTJykgPyBhZGRUb1NldChjbG9uZShERUZBVUxUX0RBVEFfVVJJX1RBR1MpLCBjZmcuQUREX0RBVEFfVVJJX1RBR1MsIHRyYW5zZm9ybUNhc2VGdW5jKSA6IERFRkFVTFRfREFUQV9VUklfVEFHUztcbiAgICBGT1JCSURfQ09OVEVOVFMgPSBvYmplY3RIYXNPd25Qcm9wZXJ0eShjZmcsICdGT1JCSURfQ09OVEVOVFMnKSA/IGFkZFRvU2V0KHt9LCBjZmcuRk9SQklEX0NPTlRFTlRTLCB0cmFuc2Zvcm1DYXNlRnVuYykgOiBERUZBVUxUX0ZPUkJJRF9DT05URU5UUztcbiAgICBGT1JCSURfVEFHUyA9IG9iamVjdEhhc093blByb3BlcnR5KGNmZywgJ0ZPUkJJRF9UQUdTJykgPyBhZGRUb1NldCh7fSwgY2ZnLkZPUkJJRF9UQUdTLCB0cmFuc2Zvcm1DYXNlRnVuYykgOiBjbG9uZSh7fSk7XG4gICAgRk9SQklEX0FUVFIgPSBvYmplY3RIYXNPd25Qcm9wZXJ0eShjZmcsICdGT1JCSURfQVRUUicpID8gYWRkVG9TZXQoe30sIGNmZy5GT1JCSURfQVRUUiwgdHJhbnNmb3JtQ2FzZUZ1bmMpIDogY2xvbmUoe30pO1xuICAgIFVTRV9QUk9GSUxFUyA9IG9iamVjdEhhc093blByb3BlcnR5KGNmZywgJ1VTRV9QUk9GSUxFUycpID8gY2ZnLlVTRV9QUk9GSUxFUyA6IGZhbHNlO1xuICAgIEFMTE9XX0FSSUFfQVRUUiA9IGNmZy5BTExPV19BUklBX0FUVFIgIT09IGZhbHNlOyAvLyBEZWZhdWx0IHRydWVcbiAgICBBTExPV19EQVRBX0FUVFIgPSBjZmcuQUxMT1dfREFUQV9BVFRSICE9PSBmYWxzZTsgLy8gRGVmYXVsdCB0cnVlXG4gICAgQUxMT1dfVU5LTk9XTl9QUk9UT0NPTFMgPSBjZmcuQUxMT1dfVU5LTk9XTl9QUk9UT0NPTFMgfHwgZmFsc2U7IC8vIERlZmF1bHQgZmFsc2VcbiAgICBBTExPV19TRUxGX0NMT1NFX0lOX0FUVFIgPSBjZmcuQUxMT1dfU0VMRl9DTE9TRV9JTl9BVFRSICE9PSBmYWxzZTsgLy8gRGVmYXVsdCB0cnVlXG4gICAgU0FGRV9GT1JfVEVNUExBVEVTID0gY2ZnLlNBRkVfRk9SX1RFTVBMQVRFUyB8fCBmYWxzZTsgLy8gRGVmYXVsdCBmYWxzZVxuICAgIFNBRkVfRk9SX1hNTCA9IGNmZy5TQUZFX0ZPUl9YTUwgIT09IGZhbHNlOyAvLyBEZWZhdWx0IHRydWVcbiAgICBXSE9MRV9ET0NVTUVOVCA9IGNmZy5XSE9MRV9ET0NVTUVOVCB8fCBmYWxzZTsgLy8gRGVmYXVsdCBmYWxzZVxuICAgIFJFVFVSTl9ET00gPSBjZmcuUkVUVVJOX0RPTSB8fCBmYWxzZTsgLy8gRGVmYXVsdCBmYWxzZVxuICAgIFJFVFVSTl9ET01fRlJBR01FTlQgPSBjZmcuUkVUVVJOX0RPTV9GUkFHTUVOVCB8fCBmYWxzZTsgLy8gRGVmYXVsdCBmYWxzZVxuICAgIFJFVFVSTl9UUlVTVEVEX1RZUEUgPSBjZmcuUkVUVVJOX1RSVVNURURfVFlQRSB8fCBmYWxzZTsgLy8gRGVmYXVsdCBmYWxzZVxuICAgIEZPUkNFX0JPRFkgPSBjZmcuRk9SQ0VfQk9EWSB8fCBmYWxzZTsgLy8gRGVmYXVsdCBmYWxzZVxuICAgIFNBTklUSVpFX0RPTSA9IGNmZy5TQU5JVElaRV9ET00gIT09IGZhbHNlOyAvLyBEZWZhdWx0IHRydWVcbiAgICBTQU5JVElaRV9OQU1FRF9QUk9QUyA9IGNmZy5TQU5JVElaRV9OQU1FRF9QUk9QUyB8fCBmYWxzZTsgLy8gRGVmYXVsdCBmYWxzZVxuICAgIEtFRVBfQ09OVEVOVCA9IGNmZy5LRUVQX0NPTlRFTlQgIT09IGZhbHNlOyAvLyBEZWZhdWx0IHRydWVcbiAgICBJTl9QTEFDRSA9IGNmZy5JTl9QTEFDRSB8fCBmYWxzZTsgLy8gRGVmYXVsdCBmYWxzZVxuICAgIElTX0FMTE9XRURfVVJJJDEgPSBjZmcuQUxMT1dFRF9VUklfUkVHRVhQIHx8IElTX0FMTE9XRURfVVJJO1xuICAgIE5BTUVTUEFDRSA9IGNmZy5OQU1FU1BBQ0UgfHwgSFRNTF9OQU1FU1BBQ0U7XG4gICAgTUFUSE1MX1RFWFRfSU5URUdSQVRJT05fUE9JTlRTID0gY2ZnLk1BVEhNTF9URVhUX0lOVEVHUkFUSU9OX1BPSU5UUyB8fCBNQVRITUxfVEVYVF9JTlRFR1JBVElPTl9QT0lOVFM7XG4gICAgSFRNTF9JTlRFR1JBVElPTl9QT0lOVFMgPSBjZmcuSFRNTF9JTlRFR1JBVElPTl9QT0lOVFMgfHwgSFRNTF9JTlRFR1JBVElPTl9QT0lOVFM7XG4gICAgQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcgPSBjZmcuQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcgfHwge307XG4gICAgaWYgKGNmZy5DVVNUT01fRUxFTUVOVF9IQU5ETElORyAmJiBpc1JlZ2V4T3JGdW5jdGlvbihjZmcuQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrKSkge1xuICAgICAgQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrID0gY2ZnLkNVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLnRhZ05hbWVDaGVjaztcbiAgICB9XG4gICAgaWYgKGNmZy5DVVNUT01fRUxFTUVOVF9IQU5ETElORyAmJiBpc1JlZ2V4T3JGdW5jdGlvbihjZmcuQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcuYXR0cmlidXRlTmFtZUNoZWNrKSkge1xuICAgICAgQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcuYXR0cmlidXRlTmFtZUNoZWNrID0gY2ZnLkNVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLmF0dHJpYnV0ZU5hbWVDaGVjaztcbiAgICB9XG4gICAgaWYgKGNmZy5DVVNUT01fRUxFTUVOVF9IQU5ETElORyAmJiB0eXBlb2YgY2ZnLkNVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLmFsbG93Q3VzdG9taXplZEJ1aWx0SW5FbGVtZW50cyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICBDVVNUT01fRUxFTUVOVF9IQU5ETElORy5hbGxvd0N1c3RvbWl6ZWRCdWlsdEluRWxlbWVudHMgPSBjZmcuQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcuYWxsb3dDdXN0b21pemVkQnVpbHRJbkVsZW1lbnRzO1xuICAgIH1cbiAgICBpZiAoU0FGRV9GT1JfVEVNUExBVEVTKSB7XG4gICAgICBBTExPV19EQVRBX0FUVFIgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKFJFVFVSTl9ET01fRlJBR01FTlQpIHtcbiAgICAgIFJFVFVSTl9ET00gPSB0cnVlO1xuICAgIH1cbiAgICAvKiBQYXJzZSBwcm9maWxlIGluZm8gKi9cbiAgICBpZiAoVVNFX1BST0ZJTEVTKSB7XG4gICAgICBBTExPV0VEX1RBR1MgPSBhZGRUb1NldCh7fSwgdGV4dCk7XG4gICAgICBBTExPV0VEX0FUVFIgPSBbXTtcbiAgICAgIGlmIChVU0VfUFJPRklMRVMuaHRtbCA9PT0gdHJ1ZSkge1xuICAgICAgICBhZGRUb1NldChBTExPV0VEX1RBR1MsIGh0bWwkMSk7XG4gICAgICAgIGFkZFRvU2V0KEFMTE9XRURfQVRUUiwgaHRtbCk7XG4gICAgICB9XG4gICAgICBpZiAoVVNFX1BST0ZJTEVTLnN2ZyA9PT0gdHJ1ZSkge1xuICAgICAgICBhZGRUb1NldChBTExPV0VEX1RBR1MsIHN2ZyQxKTtcbiAgICAgICAgYWRkVG9TZXQoQUxMT1dFRF9BVFRSLCBzdmcpO1xuICAgICAgICBhZGRUb1NldChBTExPV0VEX0FUVFIsIHhtbCk7XG4gICAgICB9XG4gICAgICBpZiAoVVNFX1BST0ZJTEVTLnN2Z0ZpbHRlcnMgPT09IHRydWUpIHtcbiAgICAgICAgYWRkVG9TZXQoQUxMT1dFRF9UQUdTLCBzdmdGaWx0ZXJzKTtcbiAgICAgICAgYWRkVG9TZXQoQUxMT1dFRF9BVFRSLCBzdmcpO1xuICAgICAgICBhZGRUb1NldChBTExPV0VEX0FUVFIsIHhtbCk7XG4gICAgICB9XG4gICAgICBpZiAoVVNFX1BST0ZJTEVTLm1hdGhNbCA9PT0gdHJ1ZSkge1xuICAgICAgICBhZGRUb1NldChBTExPV0VEX1RBR1MsIG1hdGhNbCQxKTtcbiAgICAgICAgYWRkVG9TZXQoQUxMT1dFRF9BVFRSLCBtYXRoTWwpO1xuICAgICAgICBhZGRUb1NldChBTExPV0VEX0FUVFIsIHhtbCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qIE1lcmdlIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyAqL1xuICAgIGlmIChjZmcuQUREX1RBR1MpIHtcbiAgICAgIGlmICh0eXBlb2YgY2ZnLkFERF9UQUdTID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIEVYVFJBX0VMRU1FTlRfSEFORExJTkcudGFnQ2hlY2sgPSBjZmcuQUREX1RBR1M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoQUxMT1dFRF9UQUdTID09PSBERUZBVUxUX0FMTE9XRURfVEFHUykge1xuICAgICAgICAgIEFMTE9XRURfVEFHUyA9IGNsb25lKEFMTE9XRURfVEFHUyk7XG4gICAgICAgIH1cbiAgICAgICAgYWRkVG9TZXQoQUxMT1dFRF9UQUdTLCBjZmcuQUREX1RBR1MsIHRyYW5zZm9ybUNhc2VGdW5jKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNmZy5BRERfQVRUUikge1xuICAgICAgaWYgKHR5cGVvZiBjZmcuQUREX0FUVFIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgRVhUUkFfRUxFTUVOVF9IQU5ETElORy5hdHRyaWJ1dGVDaGVjayA9IGNmZy5BRERfQVRUUjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChBTExPV0VEX0FUVFIgPT09IERFRkFVTFRfQUxMT1dFRF9BVFRSKSB7XG4gICAgICAgICAgQUxMT1dFRF9BVFRSID0gY2xvbmUoQUxMT1dFRF9BVFRSKTtcbiAgICAgICAgfVxuICAgICAgICBhZGRUb1NldChBTExPV0VEX0FUVFIsIGNmZy5BRERfQVRUUiwgdHJhbnNmb3JtQ2FzZUZ1bmMpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2ZnLkFERF9VUklfU0FGRV9BVFRSKSB7XG4gICAgICBhZGRUb1NldChVUklfU0FGRV9BVFRSSUJVVEVTLCBjZmcuQUREX1VSSV9TQUZFX0FUVFIsIHRyYW5zZm9ybUNhc2VGdW5jKTtcbiAgICB9XG4gICAgaWYgKGNmZy5GT1JCSURfQ09OVEVOVFMpIHtcbiAgICAgIGlmIChGT1JCSURfQ09OVEVOVFMgPT09IERFRkFVTFRfRk9SQklEX0NPTlRFTlRTKSB7XG4gICAgICAgIEZPUkJJRF9DT05URU5UUyA9IGNsb25lKEZPUkJJRF9DT05URU5UUyk7XG4gICAgICB9XG4gICAgICBhZGRUb1NldChGT1JCSURfQ09OVEVOVFMsIGNmZy5GT1JCSURfQ09OVEVOVFMsIHRyYW5zZm9ybUNhc2VGdW5jKTtcbiAgICB9XG4gICAgLyogQWRkICN0ZXh0IGluIGNhc2UgS0VFUF9DT05URU5UIGlzIHNldCB0byB0cnVlICovXG4gICAgaWYgKEtFRVBfQ09OVEVOVCkge1xuICAgICAgQUxMT1dFRF9UQUdTWycjdGV4dCddID0gdHJ1ZTtcbiAgICB9XG4gICAgLyogQWRkIGh0bWwsIGhlYWQgYW5kIGJvZHkgdG8gQUxMT1dFRF9UQUdTIGluIGNhc2UgV0hPTEVfRE9DVU1FTlQgaXMgdHJ1ZSAqL1xuICAgIGlmIChXSE9MRV9ET0NVTUVOVCkge1xuICAgICAgYWRkVG9TZXQoQUxMT1dFRF9UQUdTLCBbJ2h0bWwnLCAnaGVhZCcsICdib2R5J10pO1xuICAgIH1cbiAgICAvKiBBZGQgdGJvZHkgdG8gQUxMT1dFRF9UQUdTIGluIGNhc2UgdGFibGVzIGFyZSBwZXJtaXR0ZWQsIHNlZSAjMjg2LCAjMzY1ICovXG4gICAgaWYgKEFMTE9XRURfVEFHUy50YWJsZSkge1xuICAgICAgYWRkVG9TZXQoQUxMT1dFRF9UQUdTLCBbJ3Rib2R5J10pO1xuICAgICAgZGVsZXRlIEZPUkJJRF9UQUdTLnRib2R5O1xuICAgIH1cbiAgICBpZiAoY2ZnLlRSVVNURURfVFlQRVNfUE9MSUNZKSB7XG4gICAgICBpZiAodHlwZW9mIGNmZy5UUlVTVEVEX1RZUEVTX1BPTElDWS5jcmVhdGVIVE1MICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IHR5cGVFcnJvckNyZWF0ZSgnVFJVU1RFRF9UWVBFU19QT0xJQ1kgY29uZmlndXJhdGlvbiBvcHRpb24gbXVzdCBwcm92aWRlIGEgXCJjcmVhdGVIVE1MXCIgaG9vay4nKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgY2ZnLlRSVVNURURfVFlQRVNfUE9MSUNZLmNyZWF0ZVNjcmlwdFVSTCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyB0eXBlRXJyb3JDcmVhdGUoJ1RSVVNURURfVFlQRVNfUE9MSUNZIGNvbmZpZ3VyYXRpb24gb3B0aW9uIG11c3QgcHJvdmlkZSBhIFwiY3JlYXRlU2NyaXB0VVJMXCIgaG9vay4nKTtcbiAgICAgIH1cbiAgICAgIC8vIE92ZXJ3cml0ZSBleGlzdGluZyBUcnVzdGVkVHlwZXMgcG9saWN5LlxuICAgICAgdHJ1c3RlZFR5cGVzUG9saWN5ID0gY2ZnLlRSVVNURURfVFlQRVNfUE9MSUNZO1xuICAgICAgLy8gU2lnbiBsb2NhbCB2YXJpYWJsZXMgcmVxdWlyZWQgYnkgYHNhbml0aXplYC5cbiAgICAgIGVtcHR5SFRNTCA9IHRydXN0ZWRUeXBlc1BvbGljeS5jcmVhdGVIVE1MKCcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVW5pbml0aWFsaXplZCBwb2xpY3ksIGF0dGVtcHQgdG8gaW5pdGlhbGl6ZSB0aGUgaW50ZXJuYWwgZG9tcHVyaWZ5IHBvbGljeS5cbiAgICAgIGlmICh0cnVzdGVkVHlwZXNQb2xpY3kgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0cnVzdGVkVHlwZXNQb2xpY3kgPSBfY3JlYXRlVHJ1c3RlZFR5cGVzUG9saWN5KHRydXN0ZWRUeXBlcywgY3VycmVudFNjcmlwdCk7XG4gICAgICB9XG4gICAgICAvLyBJZiBjcmVhdGluZyB0aGUgaW50ZXJuYWwgcG9saWN5IHN1Y2NlZWRlZCBzaWduIGludGVybmFsIHZhcmlhYmxlcy5cbiAgICAgIGlmICh0cnVzdGVkVHlwZXNQb2xpY3kgIT09IG51bGwgJiYgdHlwZW9mIGVtcHR5SFRNTCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZW1wdHlIVE1MID0gdHJ1c3RlZFR5cGVzUG9saWN5LmNyZWF0ZUhUTUwoJycpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBQcmV2ZW50IGZ1cnRoZXIgbWFuaXB1bGF0aW9uIG9mIGNvbmZpZ3VyYXRpb24uXG4gICAgLy8gTm90IGF2YWlsYWJsZSBpbiBJRTgsIFNhZmFyaSA1LCBldGMuXG4gICAgaWYgKGZyZWV6ZSkge1xuICAgICAgZnJlZXplKGNmZyk7XG4gICAgfVxuICAgIENPTkZJRyA9IGNmZztcbiAgfTtcbiAgLyogS2VlcCB0cmFjayBvZiBhbGwgcG9zc2libGUgU1ZHIGFuZCBNYXRoTUwgdGFnc1xuICAgKiBzbyB0aGF0IHdlIGNhbiBwZXJmb3JtIHRoZSBuYW1lc3BhY2UgY2hlY2tzXG4gICAqIGNvcnJlY3RseS4gKi9cbiAgY29uc3QgQUxMX1NWR19UQUdTID0gYWRkVG9TZXQoe30sIFsuLi5zdmckMSwgLi4uc3ZnRmlsdGVycywgLi4uc3ZnRGlzYWxsb3dlZF0pO1xuICBjb25zdCBBTExfTUFUSE1MX1RBR1MgPSBhZGRUb1NldCh7fSwgWy4uLm1hdGhNbCQxLCAuLi5tYXRoTWxEaXNhbGxvd2VkXSk7XG4gIC8qKlxuICAgKiBAcGFyYW0gZWxlbWVudCBhIERPTSBlbGVtZW50IHdob3NlIG5hbWVzcGFjZSBpcyBiZWluZyBjaGVja2VkXG4gICAqIEByZXR1cm5zIFJldHVybiBmYWxzZSBpZiB0aGUgZWxlbWVudCBoYXMgYVxuICAgKiAgbmFtZXNwYWNlIHRoYXQgYSBzcGVjLWNvbXBsaWFudCBwYXJzZXIgd291bGQgbmV2ZXJcbiAgICogIHJldHVybi4gUmV0dXJuIHRydWUgb3RoZXJ3aXNlLlxuICAgKi9cbiAgY29uc3QgX2NoZWNrVmFsaWROYW1lc3BhY2UgPSBmdW5jdGlvbiBfY2hlY2tWYWxpZE5hbWVzcGFjZShlbGVtZW50KSB7XG4gICAgbGV0IHBhcmVudCA9IGdldFBhcmVudE5vZGUoZWxlbWVudCk7XG4gICAgLy8gSW4gSlNET00sIGlmIHdlJ3JlIGluc2lkZSBzaGFkb3cgRE9NLCB0aGVuIHBhcmVudE5vZGVcbiAgICAvLyBjYW4gYmUgbnVsbC4gV2UganVzdCBzaW11bGF0ZSBwYXJlbnQgaW4gdGhpcyBjYXNlLlxuICAgIGlmICghcGFyZW50IHx8ICFwYXJlbnQudGFnTmFtZSkge1xuICAgICAgcGFyZW50ID0ge1xuICAgICAgICBuYW1lc3BhY2VVUkk6IE5BTUVTUEFDRSxcbiAgICAgICAgdGFnTmFtZTogJ3RlbXBsYXRlJ1xuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgdGFnTmFtZSA9IHN0cmluZ1RvTG93ZXJDYXNlKGVsZW1lbnQudGFnTmFtZSk7XG4gICAgY29uc3QgcGFyZW50VGFnTmFtZSA9IHN0cmluZ1RvTG93ZXJDYXNlKHBhcmVudC50YWdOYW1lKTtcbiAgICBpZiAoIUFMTE9XRURfTkFNRVNQQUNFU1tlbGVtZW50Lm5hbWVzcGFjZVVSSV0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnQubmFtZXNwYWNlVVJJID09PSBTVkdfTkFNRVNQQUNFKSB7XG4gICAgICAvLyBUaGUgb25seSB3YXkgdG8gc3dpdGNoIGZyb20gSFRNTCBuYW1lc3BhY2UgdG8gU1ZHXG4gICAgICAvLyBpcyB2aWEgPHN2Zz4uIElmIGl0IGhhcHBlbnMgdmlhIGFueSBvdGhlciB0YWcsIHRoZW5cbiAgICAgIC8vIGl0IHNob3VsZCBiZSBraWxsZWQuXG4gICAgICBpZiAocGFyZW50Lm5hbWVzcGFjZVVSSSA9PT0gSFRNTF9OQU1FU1BBQ0UpIHtcbiAgICAgICAgcmV0dXJuIHRhZ05hbWUgPT09ICdzdmcnO1xuICAgICAgfVxuICAgICAgLy8gVGhlIG9ubHkgd2F5IHRvIHN3aXRjaCBmcm9tIE1hdGhNTCB0byBTVkcgaXMgdmlhYFxuICAgICAgLy8gc3ZnIGlmIHBhcmVudCBpcyBlaXRoZXIgPGFubm90YXRpb24teG1sPiBvciBNYXRoTUxcbiAgICAgIC8vIHRleHQgaW50ZWdyYXRpb24gcG9pbnRzLlxuICAgICAgaWYgKHBhcmVudC5uYW1lc3BhY2VVUkkgPT09IE1BVEhNTF9OQU1FU1BBQ0UpIHtcbiAgICAgICAgcmV0dXJuIHRhZ05hbWUgPT09ICdzdmcnICYmIChwYXJlbnRUYWdOYW1lID09PSAnYW5ub3RhdGlvbi14bWwnIHx8IE1BVEhNTF9URVhUX0lOVEVHUkFUSU9OX1BPSU5UU1twYXJlbnRUYWdOYW1lXSk7XG4gICAgICB9XG4gICAgICAvLyBXZSBvbmx5IGFsbG93IGVsZW1lbnRzIHRoYXQgYXJlIGRlZmluZWQgaW4gU1ZHXG4gICAgICAvLyBzcGVjLiBBbGwgb3RoZXJzIGFyZSBkaXNhbGxvd2VkIGluIFNWRyBuYW1lc3BhY2UuXG4gICAgICByZXR1cm4gQm9vbGVhbihBTExfU1ZHX1RBR1NbdGFnTmFtZV0pO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudC5uYW1lc3BhY2VVUkkgPT09IE1BVEhNTF9OQU1FU1BBQ0UpIHtcbiAgICAgIC8vIFRoZSBvbmx5IHdheSB0byBzd2l0Y2ggZnJvbSBIVE1MIG5hbWVzcGFjZSB0byBNYXRoTUxcbiAgICAgIC8vIGlzIHZpYSA8bWF0aD4uIElmIGl0IGhhcHBlbnMgdmlhIGFueSBvdGhlciB0YWcsIHRoZW5cbiAgICAgIC8vIGl0IHNob3VsZCBiZSBraWxsZWQuXG4gICAgICBpZiAocGFyZW50Lm5hbWVzcGFjZVVSSSA9PT0gSFRNTF9OQU1FU1BBQ0UpIHtcbiAgICAgICAgcmV0dXJuIHRhZ05hbWUgPT09ICdtYXRoJztcbiAgICAgIH1cbiAgICAgIC8vIFRoZSBvbmx5IHdheSB0byBzd2l0Y2ggZnJvbSBTVkcgdG8gTWF0aE1MIGlzIHZpYVxuICAgICAgLy8gPG1hdGg+IGFuZCBIVE1MIGludGVncmF0aW9uIHBvaW50c1xuICAgICAgaWYgKHBhcmVudC5uYW1lc3BhY2VVUkkgPT09IFNWR19OQU1FU1BBQ0UpIHtcbiAgICAgICAgcmV0dXJuIHRhZ05hbWUgPT09ICdtYXRoJyAmJiBIVE1MX0lOVEVHUkFUSU9OX1BPSU5UU1twYXJlbnRUYWdOYW1lXTtcbiAgICAgIH1cbiAgICAgIC8vIFdlIG9ubHkgYWxsb3cgZWxlbWVudHMgdGhhdCBhcmUgZGVmaW5lZCBpbiBNYXRoTUxcbiAgICAgIC8vIHNwZWMuIEFsbCBvdGhlcnMgYXJlIGRpc2FsbG93ZWQgaW4gTWF0aE1MIG5hbWVzcGFjZS5cbiAgICAgIHJldHVybiBCb29sZWFuKEFMTF9NQVRITUxfVEFHU1t0YWdOYW1lXSk7XG4gICAgfVxuICAgIGlmIChlbGVtZW50Lm5hbWVzcGFjZVVSSSA9PT0gSFRNTF9OQU1FU1BBQ0UpIHtcbiAgICAgIC8vIFRoZSBvbmx5IHdheSB0byBzd2l0Y2ggZnJvbSBTVkcgdG8gSFRNTCBpcyB2aWFcbiAgICAgIC8vIEhUTUwgaW50ZWdyYXRpb24gcG9pbnRzLCBhbmQgZnJvbSBNYXRoTUwgdG8gSFRNTFxuICAgICAgLy8gaXMgdmlhIE1hdGhNTCB0ZXh0IGludGVncmF0aW9uIHBvaW50c1xuICAgICAgaWYgKHBhcmVudC5uYW1lc3BhY2VVUkkgPT09IFNWR19OQU1FU1BBQ0UgJiYgIUhUTUxfSU5URUdSQVRJT05fUE9JTlRTW3BhcmVudFRhZ05hbWVdKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJlbnQubmFtZXNwYWNlVVJJID09PSBNQVRITUxfTkFNRVNQQUNFICYmICFNQVRITUxfVEVYVF9JTlRFR1JBVElPTl9QT0lOVFNbcGFyZW50VGFnTmFtZV0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gV2UgZGlzYWxsb3cgdGFncyB0aGF0IGFyZSBzcGVjaWZpYyBmb3IgTWF0aE1MXG4gICAgICAvLyBvciBTVkcgYW5kIHNob3VsZCBuZXZlciBhcHBlYXIgaW4gSFRNTCBuYW1lc3BhY2VcbiAgICAgIHJldHVybiAhQUxMX01BVEhNTF9UQUdTW3RhZ05hbWVdICYmIChDT01NT05fU1ZHX0FORF9IVE1MX0VMRU1FTlRTW3RhZ05hbWVdIHx8ICFBTExfU1ZHX1RBR1NbdGFnTmFtZV0pO1xuICAgIH1cbiAgICAvLyBGb3IgWEhUTUwgYW5kIFhNTCBkb2N1bWVudHMgdGhhdCBzdXBwb3J0IGN1c3RvbSBuYW1lc3BhY2VzXG4gICAgaWYgKFBBUlNFUl9NRURJQV9UWVBFID09PSAnYXBwbGljYXRpb24veGh0bWwreG1sJyAmJiBBTExPV0VEX05BTUVTUEFDRVNbZWxlbWVudC5uYW1lc3BhY2VVUkldKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gVGhlIGNvZGUgc2hvdWxkIG5ldmVyIHJlYWNoIHRoaXMgcGxhY2UgKHRoaXMgbWVhbnNcbiAgICAvLyB0aGF0IHRoZSBlbGVtZW50IHNvbWVob3cgZ290IG5hbWVzcGFjZSB0aGF0IGlzIG5vdFxuICAgIC8vIEhUTUwsIFNWRywgTWF0aE1MIG9yIGFsbG93ZWQgdmlhIEFMTE9XRURfTkFNRVNQQUNFUykuXG4gICAgLy8gUmV0dXJuIGZhbHNlIGp1c3QgaW4gY2FzZS5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIC8qKlxuICAgKiBfZm9yY2VSZW1vdmVcbiAgICpcbiAgICogQHBhcmFtIG5vZGUgYSBET00gbm9kZVxuICAgKi9cbiAgY29uc3QgX2ZvcmNlUmVtb3ZlID0gZnVuY3Rpb24gX2ZvcmNlUmVtb3ZlKG5vZGUpIHtcbiAgICBhcnJheVB1c2goRE9NUHVyaWZ5LnJlbW92ZWQsIHtcbiAgICAgIGVsZW1lbnQ6IG5vZGVcbiAgICB9KTtcbiAgICB0cnkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vcHJlZmVyLWRvbS1ub2RlLXJlbW92ZVxuICAgICAgZ2V0UGFyZW50Tm9kZShub2RlKS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICB9IGNhdGNoIChfKSB7XG4gICAgICByZW1vdmUobm9kZSk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogX3JlbW92ZUF0dHJpYnV0ZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBhbiBBdHRyaWJ1dGUgbmFtZVxuICAgKiBAcGFyYW0gZWxlbWVudCBhIERPTSBub2RlXG4gICAqL1xuICBjb25zdCBfcmVtb3ZlQXR0cmlidXRlID0gZnVuY3Rpb24gX3JlbW92ZUF0dHJpYnV0ZShuYW1lLCBlbGVtZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgIGFycmF5UHVzaChET01QdXJpZnkucmVtb3ZlZCwge1xuICAgICAgICBhdHRyaWJ1dGU6IGVsZW1lbnQuZ2V0QXR0cmlidXRlTm9kZShuYW1lKSxcbiAgICAgICAgZnJvbTogZWxlbWVudFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoXykge1xuICAgICAgYXJyYXlQdXNoKERPTVB1cmlmeS5yZW1vdmVkLCB7XG4gICAgICAgIGF0dHJpYnV0ZTogbnVsbCxcbiAgICAgICAgZnJvbTogZWxlbWVudFxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgIC8vIFdlIHZvaWQgYXR0cmlidXRlIHZhbHVlcyBmb3IgdW5yZW1vdmFibGUgXCJpc1wiIGF0dHJpYnV0ZXNcbiAgICBpZiAobmFtZSA9PT0gJ2lzJykge1xuICAgICAgaWYgKFJFVFVSTl9ET00gfHwgUkVUVVJOX0RPTV9GUkFHTUVOVCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIF9mb3JjZVJlbW92ZShlbGVtZW50KTtcbiAgICAgICAgfSBjYXRjaCAoXykge31cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgJycpO1xuICAgICAgICB9IGNhdGNoIChfKSB7fVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIF9pbml0RG9jdW1lbnRcbiAgICpcbiAgICogQHBhcmFtIGRpcnR5IC0gYSBzdHJpbmcgb2YgZGlydHkgbWFya3VwXG4gICAqIEByZXR1cm4gYSBET00sIGZpbGxlZCB3aXRoIHRoZSBkaXJ0eSBtYXJrdXBcbiAgICovXG4gIGNvbnN0IF9pbml0RG9jdW1lbnQgPSBmdW5jdGlvbiBfaW5pdERvY3VtZW50KGRpcnR5KSB7XG4gICAgLyogQ3JlYXRlIGEgSFRNTCBkb2N1bWVudCAqL1xuICAgIGxldCBkb2MgPSBudWxsO1xuICAgIGxldCBsZWFkaW5nV2hpdGVzcGFjZSA9IG51bGw7XG4gICAgaWYgKEZPUkNFX0JPRFkpIHtcbiAgICAgIGRpcnR5ID0gJzxyZW1vdmU+PC9yZW1vdmU+JyArIGRpcnR5O1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBJZiBGT1JDRV9CT0RZIGlzbid0IHVzZWQsIGxlYWRpbmcgd2hpdGVzcGFjZSBuZWVkcyB0byBiZSBwcmVzZXJ2ZWQgbWFudWFsbHkgKi9cbiAgICAgIGNvbnN0IG1hdGNoZXMgPSBzdHJpbmdNYXRjaChkaXJ0eSwgL15bXFxyXFxuXFx0IF0rLyk7XG4gICAgICBsZWFkaW5nV2hpdGVzcGFjZSA9IG1hdGNoZXMgJiYgbWF0Y2hlc1swXTtcbiAgICB9XG4gICAgaWYgKFBBUlNFUl9NRURJQV9UWVBFID09PSAnYXBwbGljYXRpb24veGh0bWwreG1sJyAmJiBOQU1FU1BBQ0UgPT09IEhUTUxfTkFNRVNQQUNFKSB7XG4gICAgICAvLyBSb290IG9mIFhIVE1MIGRvYyBtdXN0IGNvbnRhaW4geG1sbnMgZGVjbGFyYXRpb24gKHNlZSBodHRwczovL3d3dy53My5vcmcvVFIveGh0bWwxL25vcm1hdGl2ZS5odG1sI3N0cmljdClcbiAgICAgIGRpcnR5ID0gJzxodG1sIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiPjxoZWFkPjwvaGVhZD48Ym9keT4nICsgZGlydHkgKyAnPC9ib2R5PjwvaHRtbD4nO1xuICAgIH1cbiAgICBjb25zdCBkaXJ0eVBheWxvYWQgPSB0cnVzdGVkVHlwZXNQb2xpY3kgPyB0cnVzdGVkVHlwZXNQb2xpY3kuY3JlYXRlSFRNTChkaXJ0eSkgOiBkaXJ0eTtcbiAgICAvKlxuICAgICAqIFVzZSB0aGUgRE9NUGFyc2VyIEFQSSBieSBkZWZhdWx0LCBmYWxsYmFjayBsYXRlciBpZiBuZWVkcyBiZVxuICAgICAqIERPTVBhcnNlciBub3Qgd29yayBmb3Igc3ZnIHdoZW4gaGFzIG11bHRpcGxlIHJvb3QgZWxlbWVudC5cbiAgICAgKi9cbiAgICBpZiAoTkFNRVNQQUNFID09PSBIVE1MX05BTUVTUEFDRSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZG9jID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhkaXJ0eVBheWxvYWQsIFBBUlNFUl9NRURJQV9UWVBFKTtcbiAgICAgIH0gY2F0Y2ggKF8pIHt9XG4gICAgfVxuICAgIC8qIFVzZSBjcmVhdGVIVE1MRG9jdW1lbnQgaW4gY2FzZSBET01QYXJzZXIgaXMgbm90IGF2YWlsYWJsZSAqL1xuICAgIGlmICghZG9jIHx8ICFkb2MuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICBkb2MgPSBpbXBsZW1lbnRhdGlvbi5jcmVhdGVEb2N1bWVudChOQU1FU1BBQ0UsICd0ZW1wbGF0ZScsIG51bGwpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZG9jLmRvY3VtZW50RWxlbWVudC5pbm5lckhUTUwgPSBJU19FTVBUWV9JTlBVVCA/IGVtcHR5SFRNTCA6IGRpcnR5UGF5bG9hZDtcbiAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgLy8gU3ludGF4IGVycm9yIGlmIGRpcnR5UGF5bG9hZCBpcyBpbnZhbGlkIHhtbFxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBib2R5ID0gZG9jLmJvZHkgfHwgZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICBpZiAoZGlydHkgJiYgbGVhZGluZ1doaXRlc3BhY2UpIHtcbiAgICAgIGJvZHkuaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGxlYWRpbmdXaGl0ZXNwYWNlKSwgYm9keS5jaGlsZE5vZGVzWzBdIHx8IG51bGwpO1xuICAgIH1cbiAgICAvKiBXb3JrIG9uIHdob2xlIGRvY3VtZW50IG9yIGp1c3QgaXRzIGJvZHkgKi9cbiAgICBpZiAoTkFNRVNQQUNFID09PSBIVE1MX05BTUVTUEFDRSkge1xuICAgICAgcmV0dXJuIGdldEVsZW1lbnRzQnlUYWdOYW1lLmNhbGwoZG9jLCBXSE9MRV9ET0NVTUVOVCA/ICdodG1sJyA6ICdib2R5JylbMF07XG4gICAgfVxuICAgIHJldHVybiBXSE9MRV9ET0NVTUVOVCA/IGRvYy5kb2N1bWVudEVsZW1lbnQgOiBib2R5O1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlcyBhIE5vZGVJdGVyYXRvciBvYmplY3QgdGhhdCB5b3UgY2FuIHVzZSB0byB0cmF2ZXJzZSBmaWx0ZXJlZCBsaXN0cyBvZiBub2RlcyBvciBlbGVtZW50cyBpbiBhIGRvY3VtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gcm9vdCBUaGUgcm9vdCBlbGVtZW50IG9yIG5vZGUgdG8gc3RhcnQgdHJhdmVyc2luZyBvbi5cbiAgICogQHJldHVybiBUaGUgY3JlYXRlZCBOb2RlSXRlcmF0b3JcbiAgICovXG4gIGNvbnN0IF9jcmVhdGVOb2RlSXRlcmF0b3IgPSBmdW5jdGlvbiBfY3JlYXRlTm9kZUl0ZXJhdG9yKHJvb3QpIHtcbiAgICByZXR1cm4gY3JlYXRlTm9kZUl0ZXJhdG9yLmNhbGwocm9vdC5vd25lckRvY3VtZW50IHx8IHJvb3QsIHJvb3QsXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcbiAgICBOb2RlRmlsdGVyLlNIT1dfRUxFTUVOVCB8IE5vZGVGaWx0ZXIuU0hPV19DT01NRU5UIHwgTm9kZUZpbHRlci5TSE9XX1RFWFQgfCBOb2RlRmlsdGVyLlNIT1dfUFJPQ0VTU0lOR19JTlNUUlVDVElPTiB8IE5vZGVGaWx0ZXIuU0hPV19DREFUQV9TRUNUSU9OLCBudWxsKTtcbiAgfTtcbiAgLyoqXG4gICAqIF9pc0Nsb2JiZXJlZFxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCBlbGVtZW50IHRvIGNoZWNrIGZvciBjbG9iYmVyaW5nIGF0dGFja3NcbiAgICogQHJldHVybiB0cnVlIGlmIGNsb2JiZXJlZCwgZmFsc2UgaWYgc2FmZVxuICAgKi9cbiAgY29uc3QgX2lzQ2xvYmJlcmVkID0gZnVuY3Rpb24gX2lzQ2xvYmJlcmVkKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxGb3JtRWxlbWVudCAmJiAodHlwZW9mIGVsZW1lbnQubm9kZU5hbWUgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiBlbGVtZW50LnRleHRDb250ZW50ICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgZWxlbWVudC5yZW1vdmVDaGlsZCAhPT0gJ2Z1bmN0aW9uJyB8fCAhKGVsZW1lbnQuYXR0cmlidXRlcyBpbnN0YW5jZW9mIE5hbWVkTm9kZU1hcCkgfHwgdHlwZW9mIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBlbGVtZW50LnNldEF0dHJpYnV0ZSAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgZWxlbWVudC5uYW1lc3BhY2VVUkkgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiBlbGVtZW50Lmluc2VydEJlZm9yZSAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgZWxlbWVudC5oYXNDaGlsZE5vZGVzICE9PSAnZnVuY3Rpb24nKTtcbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBvYmplY3QgaXMgYSBET00gbm9kZS5cbiAgICpcbiAgICogQHBhcmFtIHZhbHVlIG9iamVjdCB0byBjaGVjayB3aGV0aGVyIGl0J3MgYSBET00gbm9kZVxuICAgKiBAcmV0dXJuIHRydWUgaXMgb2JqZWN0IGlzIGEgRE9NIG5vZGVcbiAgICovXG4gIGNvbnN0IF9pc05vZGUgPSBmdW5jdGlvbiBfaXNOb2RlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBOb2RlID09PSAnZnVuY3Rpb24nICYmIHZhbHVlIGluc3RhbmNlb2YgTm9kZTtcbiAgfTtcbiAgZnVuY3Rpb24gX2V4ZWN1dGVIb29rcyhob29rcywgY3VycmVudE5vZGUsIGRhdGEpIHtcbiAgICBhcnJheUZvckVhY2goaG9va3MsIGhvb2sgPT4ge1xuICAgICAgaG9vay5jYWxsKERPTVB1cmlmeSwgY3VycmVudE5vZGUsIGRhdGEsIENPTkZJRyk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIF9zYW5pdGl6ZUVsZW1lbnRzXG4gICAqXG4gICAqIEBwcm90ZWN0IG5vZGVOYW1lXG4gICAqIEBwcm90ZWN0IHRleHRDb250ZW50XG4gICAqIEBwcm90ZWN0IHJlbW92ZUNoaWxkXG4gICAqIEBwYXJhbSBjdXJyZW50Tm9kZSB0byBjaGVjayBmb3IgcGVybWlzc2lvbiB0byBleGlzdFxuICAgKiBAcmV0dXJuIHRydWUgaWYgbm9kZSB3YXMga2lsbGVkLCBmYWxzZSBpZiBsZWZ0IGFsaXZlXG4gICAqL1xuICBjb25zdCBfc2FuaXRpemVFbGVtZW50cyA9IGZ1bmN0aW9uIF9zYW5pdGl6ZUVsZW1lbnRzKGN1cnJlbnROb2RlKSB7XG4gICAgbGV0IGNvbnRlbnQgPSBudWxsO1xuICAgIC8qIEV4ZWN1dGUgYSBob29rIGlmIHByZXNlbnQgKi9cbiAgICBfZXhlY3V0ZUhvb2tzKGhvb2tzLmJlZm9yZVNhbml0aXplRWxlbWVudHMsIGN1cnJlbnROb2RlLCBudWxsKTtcbiAgICAvKiBDaGVjayBpZiBlbGVtZW50IGlzIGNsb2JiZXJlZCBvciBjYW4gY2xvYmJlciAqL1xuICAgIGlmIChfaXNDbG9iYmVyZWQoY3VycmVudE5vZGUpKSB7XG4gICAgICBfZm9yY2VSZW1vdmUoY3VycmVudE5vZGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qIE5vdyBsZXQncyBjaGVjayB0aGUgZWxlbWVudCdzIHR5cGUgYW5kIG5hbWUgKi9cbiAgICBjb25zdCB0YWdOYW1lID0gdHJhbnNmb3JtQ2FzZUZ1bmMoY3VycmVudE5vZGUubm9kZU5hbWUpO1xuICAgIC8qIEV4ZWN1dGUgYSBob29rIGlmIHByZXNlbnQgKi9cbiAgICBfZXhlY3V0ZUhvb2tzKGhvb2tzLnVwb25TYW5pdGl6ZUVsZW1lbnQsIGN1cnJlbnROb2RlLCB7XG4gICAgICB0YWdOYW1lLFxuICAgICAgYWxsb3dlZFRhZ3M6IEFMTE9XRURfVEFHU1xuICAgIH0pO1xuICAgIC8qIERldGVjdCBtWFNTIGF0dGVtcHRzIGFidXNpbmcgbmFtZXNwYWNlIGNvbmZ1c2lvbiAqL1xuICAgIGlmIChTQUZFX0ZPUl9YTUwgJiYgY3VycmVudE5vZGUuaGFzQ2hpbGROb2RlcygpICYmICFfaXNOb2RlKGN1cnJlbnROb2RlLmZpcnN0RWxlbWVudENoaWxkKSAmJiByZWdFeHBUZXN0KC88Wy9cXHchXS9nLCBjdXJyZW50Tm9kZS5pbm5lckhUTUwpICYmIHJlZ0V4cFRlc3QoLzxbL1xcdyFdL2csIGN1cnJlbnROb2RlLnRleHRDb250ZW50KSkge1xuICAgICAgX2ZvcmNlUmVtb3ZlKGN1cnJlbnROb2RlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKiBSZW1vdmUgYW55IG9jY3VycmVuY2Ugb2YgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbnMgKi9cbiAgICBpZiAoY3VycmVudE5vZGUubm9kZVR5cGUgPT09IE5PREVfVFlQRS5wcm9ncmVzc2luZ0luc3RydWN0aW9uKSB7XG4gICAgICBfZm9yY2VSZW1vdmUoY3VycmVudE5vZGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qIFJlbW92ZSBhbnkga2luZCBvZiBwb3NzaWJseSBoYXJtZnVsIGNvbW1lbnRzICovXG4gICAgaWYgKFNBRkVfRk9SX1hNTCAmJiBjdXJyZW50Tm9kZS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFLmNvbW1lbnQgJiYgcmVnRXhwVGVzdCgvPFsvXFx3XS9nLCBjdXJyZW50Tm9kZS5kYXRhKSkge1xuICAgICAgX2ZvcmNlUmVtb3ZlKGN1cnJlbnROb2RlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKiBSZW1vdmUgZWxlbWVudCBpZiBhbnl0aGluZyBmb3JiaWRzIGl0cyBwcmVzZW5jZSAqL1xuICAgIGlmICghKEVYVFJBX0VMRU1FTlRfSEFORExJTkcudGFnQ2hlY2sgaW5zdGFuY2VvZiBGdW5jdGlvbiAmJiBFWFRSQV9FTEVNRU5UX0hBTkRMSU5HLnRhZ0NoZWNrKHRhZ05hbWUpKSAmJiAoIUFMTE9XRURfVEFHU1t0YWdOYW1lXSB8fCBGT1JCSURfVEFHU1t0YWdOYW1lXSkpIHtcbiAgICAgIC8qIENoZWNrIGlmIHdlIGhhdmUgYSBjdXN0b20gZWxlbWVudCB0byBoYW5kbGUgKi9cbiAgICAgIGlmICghRk9SQklEX1RBR1NbdGFnTmFtZV0gJiYgX2lzQmFzaWNDdXN0b21FbGVtZW50KHRhZ05hbWUpKSB7XG4gICAgICAgIGlmIChDVVNUT01fRUxFTUVOVF9IQU5ETElORy50YWdOYW1lQ2hlY2sgaW5zdGFuY2VvZiBSZWdFeHAgJiYgcmVnRXhwVGVzdChDVVNUT01fRUxFTUVOVF9IQU5ETElORy50YWdOYW1lQ2hlY2ssIHRhZ05hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDVVNUT01fRUxFTUVOVF9IQU5ETElORy50YWdOYW1lQ2hlY2sgaW5zdGFuY2VvZiBGdW5jdGlvbiAmJiBDVVNUT01fRUxFTUVOVF9IQU5ETElORy50YWdOYW1lQ2hlY2sodGFnTmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qIEtlZXAgY29udGVudCBleGNlcHQgZm9yIGJhZC1saXN0ZWQgZWxlbWVudHMgKi9cbiAgICAgIGlmIChLRUVQX0NPTlRFTlQgJiYgIUZPUkJJRF9DT05URU5UU1t0YWdOYW1lXSkge1xuICAgICAgICBjb25zdCBwYXJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShjdXJyZW50Tm9kZSkgfHwgY3VycmVudE5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgY2hpbGROb2RlcyA9IGdldENoaWxkTm9kZXMoY3VycmVudE5vZGUpIHx8IGN1cnJlbnROb2RlLmNoaWxkTm9kZXM7XG4gICAgICAgIGlmIChjaGlsZE5vZGVzICYmIHBhcmVudE5vZGUpIHtcbiAgICAgICAgICBjb25zdCBjaGlsZENvdW50ID0gY2hpbGROb2Rlcy5sZW5ndGg7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IGNoaWxkQ291bnQgLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRDbG9uZSA9IGNsb25lTm9kZShjaGlsZE5vZGVzW2ldLCB0cnVlKTtcbiAgICAgICAgICAgIGNoaWxkQ2xvbmUuX19yZW1vdmFsQ291bnQgPSAoY3VycmVudE5vZGUuX19yZW1vdmFsQ291bnQgfHwgMCkgKyAxO1xuICAgICAgICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY2hpbGRDbG9uZSwgZ2V0TmV4dFNpYmxpbmcoY3VycmVudE5vZGUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIF9mb3JjZVJlbW92ZShjdXJyZW50Tm9kZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyogQ2hlY2sgd2hldGhlciBlbGVtZW50IGhhcyBhIHZhbGlkIG5hbWVzcGFjZSAqL1xuICAgIGlmIChjdXJyZW50Tm9kZSBpbnN0YW5jZW9mIEVsZW1lbnQgJiYgIV9jaGVja1ZhbGlkTmFtZXNwYWNlKGN1cnJlbnROb2RlKSkge1xuICAgICAgX2ZvcmNlUmVtb3ZlKGN1cnJlbnROb2RlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKiBNYWtlIHN1cmUgdGhhdCBvbGRlciBicm93c2VycyBkb24ndCBnZXQgZmFsbGJhY2stdGFnIG1YU1MgKi9cbiAgICBpZiAoKHRhZ05hbWUgPT09ICdub3NjcmlwdCcgfHwgdGFnTmFtZSA9PT0gJ25vZW1iZWQnIHx8IHRhZ05hbWUgPT09ICdub2ZyYW1lcycpICYmIHJlZ0V4cFRlc3QoLzxcXC9ubyhzY3JpcHR8ZW1iZWR8ZnJhbWVzKS9pLCBjdXJyZW50Tm9kZS5pbm5lckhUTUwpKSB7XG4gICAgICBfZm9yY2VSZW1vdmUoY3VycmVudE5vZGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qIFNhbml0aXplIGVsZW1lbnQgY29udGVudCB0byBiZSB0ZW1wbGF0ZS1zYWZlICovXG4gICAgaWYgKFNBRkVfRk9SX1RFTVBMQVRFUyAmJiBjdXJyZW50Tm9kZS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFLnRleHQpIHtcbiAgICAgIC8qIEdldCB0aGUgZWxlbWVudCdzIHRleHQgY29udGVudCAqL1xuICAgICAgY29udGVudCA9IGN1cnJlbnROb2RlLnRleHRDb250ZW50O1xuICAgICAgYXJyYXlGb3JFYWNoKFtNVVNUQUNIRV9FWFBSLCBFUkJfRVhQUiwgVE1QTElUX0VYUFJdLCBleHByID0+IHtcbiAgICAgICAgY29udGVudCA9IHN0cmluZ1JlcGxhY2UoY29udGVudCwgZXhwciwgJyAnKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGN1cnJlbnROb2RlLnRleHRDb250ZW50ICE9PSBjb250ZW50KSB7XG4gICAgICAgIGFycmF5UHVzaChET01QdXJpZnkucmVtb3ZlZCwge1xuICAgICAgICAgIGVsZW1lbnQ6IGN1cnJlbnROb2RlLmNsb25lTm9kZSgpXG4gICAgICAgIH0pO1xuICAgICAgICBjdXJyZW50Tm9kZS50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIC8qIEV4ZWN1dGUgYSBob29rIGlmIHByZXNlbnQgKi9cbiAgICBfZXhlY3V0ZUhvb2tzKGhvb2tzLmFmdGVyU2FuaXRpemVFbGVtZW50cywgY3VycmVudE5vZGUsIG51bGwpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgLyoqXG4gICAqIF9pc1ZhbGlkQXR0cmlidXRlXG4gICAqXG4gICAqIEBwYXJhbSBsY1RhZyBMb3dlcmNhc2UgdGFnIG5hbWUgb2YgY29udGFpbmluZyBlbGVtZW50LlxuICAgKiBAcGFyYW0gbGNOYW1lIExvd2VyY2FzZSBhdHRyaWJ1dGUgbmFtZS5cbiAgICogQHBhcmFtIHZhbHVlIEF0dHJpYnV0ZSB2YWx1ZS5cbiAgICogQHJldHVybiBSZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyB2YWxpZCwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbiAgY29uc3QgX2lzVmFsaWRBdHRyaWJ1dGUgPSBmdW5jdGlvbiBfaXNWYWxpZEF0dHJpYnV0ZShsY1RhZywgbGNOYW1lLCB2YWx1ZSkge1xuICAgIC8qIE1ha2Ugc3VyZSBhdHRyaWJ1dGUgY2Fubm90IGNsb2JiZXIgKi9cbiAgICBpZiAoU0FOSVRJWkVfRE9NICYmIChsY05hbWUgPT09ICdpZCcgfHwgbGNOYW1lID09PSAnbmFtZScpICYmICh2YWx1ZSBpbiBkb2N1bWVudCB8fCB2YWx1ZSBpbiBmb3JtRWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyogQWxsb3cgdmFsaWQgZGF0YS0qIGF0dHJpYnV0ZXM6IEF0IGxlYXN0IG9uZSBjaGFyYWN0ZXIgYWZ0ZXIgXCItXCJcbiAgICAgICAgKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2RvbS5odG1sI2VtYmVkZGluZy1jdXN0b20tbm9uLXZpc2libGUtZGF0YS13aXRoLXRoZS1kYXRhLSotYXR0cmlidXRlcylcbiAgICAgICAgWE1MLWNvbXBhdGlibGUgKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2luZnJhc3RydWN0dXJlLmh0bWwjeG1sLWNvbXBhdGlibGUgYW5kIGh0dHA6Ly93d3cudzMub3JnL1RSL3htbC8jZDBlODA0KVxuICAgICAgICBXZSBkb24ndCBuZWVkIHRvIGNoZWNrIHRoZSB2YWx1ZTsgaXQncyBhbHdheXMgVVJJIHNhZmUuICovXG4gICAgaWYgKEFMTE9XX0RBVEFfQVRUUiAmJiAhRk9SQklEX0FUVFJbbGNOYW1lXSAmJiByZWdFeHBUZXN0KERBVEFfQVRUUiwgbGNOYW1lKSkgOyBlbHNlIGlmIChBTExPV19BUklBX0FUVFIgJiYgcmVnRXhwVGVzdChBUklBX0FUVFIsIGxjTmFtZSkpIDsgZWxzZSBpZiAoRVhUUkFfRUxFTUVOVF9IQU5ETElORy5hdHRyaWJ1dGVDaGVjayBpbnN0YW5jZW9mIEZ1bmN0aW9uICYmIEVYVFJBX0VMRU1FTlRfSEFORExJTkcuYXR0cmlidXRlQ2hlY2sobGNOYW1lLCBsY1RhZykpIDsgZWxzZSBpZiAoIUFMTE9XRURfQVRUUltsY05hbWVdIHx8IEZPUkJJRF9BVFRSW2xjTmFtZV0pIHtcbiAgICAgIGlmIChcbiAgICAgIC8vIEZpcnN0IGNvbmRpdGlvbiBkb2VzIGEgdmVyeSBiYXNpYyBjaGVjayBpZiBhKSBpdCdzIGJhc2ljYWxseSBhIHZhbGlkIGN1c3RvbSBlbGVtZW50IHRhZ25hbWUgQU5EXG4gICAgICAvLyBiKSBpZiB0aGUgdGFnTmFtZSBwYXNzZXMgd2hhdGV2ZXIgdGhlIHVzZXIgaGFzIGNvbmZpZ3VyZWQgZm9yIENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLnRhZ05hbWVDaGVja1xuICAgICAgLy8gYW5kIGMpIGlmIHRoZSBhdHRyaWJ1dGUgbmFtZSBwYXNzZXMgd2hhdGV2ZXIgdGhlIHVzZXIgaGFzIGNvbmZpZ3VyZWQgZm9yIENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLmF0dHJpYnV0ZU5hbWVDaGVja1xuICAgICAgX2lzQmFzaWNDdXN0b21FbGVtZW50KGxjVGFnKSAmJiAoQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrIGluc3RhbmNlb2YgUmVnRXhwICYmIHJlZ0V4cFRlc3QoQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrLCBsY1RhZykgfHwgQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrIGluc3RhbmNlb2YgRnVuY3Rpb24gJiYgQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrKGxjVGFnKSkgJiYgKENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLmF0dHJpYnV0ZU5hbWVDaGVjayBpbnN0YW5jZW9mIFJlZ0V4cCAmJiByZWdFeHBUZXN0KENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLmF0dHJpYnV0ZU5hbWVDaGVjaywgbGNOYW1lKSB8fCBDVVNUT01fRUxFTUVOVF9IQU5ETElORy5hdHRyaWJ1dGVOYW1lQ2hlY2sgaW5zdGFuY2VvZiBGdW5jdGlvbiAmJiBDVVNUT01fRUxFTUVOVF9IQU5ETElORy5hdHRyaWJ1dGVOYW1lQ2hlY2sobGNOYW1lLCBsY1RhZykpIHx8XG4gICAgICAvLyBBbHRlcm5hdGl2ZSwgc2Vjb25kIGNvbmRpdGlvbiBjaGVja3MgaWYgaXQncyBhbiBgaXNgLWF0dHJpYnV0ZSwgQU5EXG4gICAgICAvLyB0aGUgdmFsdWUgcGFzc2VzIHdoYXRldmVyIHRoZSB1c2VyIGhhcyBjb25maWd1cmVkIGZvciBDVVNUT01fRUxFTUVOVF9IQU5ETElORy50YWdOYW1lQ2hlY2tcbiAgICAgIGxjTmFtZSA9PT0gJ2lzJyAmJiBDVVNUT01fRUxFTUVOVF9IQU5ETElORy5hbGxvd0N1c3RvbWl6ZWRCdWlsdEluRWxlbWVudHMgJiYgKENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLnRhZ05hbWVDaGVjayBpbnN0YW5jZW9mIFJlZ0V4cCAmJiByZWdFeHBUZXN0KENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLnRhZ05hbWVDaGVjaywgdmFsdWUpIHx8IENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLnRhZ05hbWVDaGVjayBpbnN0YW5jZW9mIEZ1bmN0aW9uICYmIENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLnRhZ05hbWVDaGVjayh2YWx1ZSkpKSA7IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvKiBDaGVjayB2YWx1ZSBpcyBzYWZlLiBGaXJzdCwgaXMgYXR0ciBpbmVydD8gSWYgc28sIGlzIHNhZmUgKi9cbiAgICB9IGVsc2UgaWYgKFVSSV9TQUZFX0FUVFJJQlVURVNbbGNOYW1lXSkgOyBlbHNlIGlmIChyZWdFeHBUZXN0KElTX0FMTE9XRURfVVJJJDEsIHN0cmluZ1JlcGxhY2UodmFsdWUsIEFUVFJfV0hJVEVTUEFDRSwgJycpKSkgOyBlbHNlIGlmICgobGNOYW1lID09PSAnc3JjJyB8fCBsY05hbWUgPT09ICd4bGluazpocmVmJyB8fCBsY05hbWUgPT09ICdocmVmJykgJiYgbGNUYWcgIT09ICdzY3JpcHQnICYmIHN0cmluZ0luZGV4T2YodmFsdWUsICdkYXRhOicpID09PSAwICYmIERBVEFfVVJJX1RBR1NbbGNUYWddKSA7IGVsc2UgaWYgKEFMTE9XX1VOS05PV05fUFJPVE9DT0xTICYmICFyZWdFeHBUZXN0KElTX1NDUklQVF9PUl9EQVRBLCBzdHJpbmdSZXBsYWNlKHZhbHVlLCBBVFRSX1dISVRFU1BBQ0UsICcnKSkpIDsgZWxzZSBpZiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICAvKipcbiAgICogX2lzQmFzaWNDdXN0b21FbGVtZW50XG4gICAqIGNoZWNrcyBpZiBhdCBsZWFzdCBvbmUgZGFzaCBpcyBpbmNsdWRlZCBpbiB0YWdOYW1lLCBhbmQgaXQncyBub3QgdGhlIGZpcnN0IGNoYXJcbiAgICogZm9yIG1vcmUgc29waGlzdGljYXRlZCBjaGVja2luZyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy92YWxpZGF0ZS1lbGVtZW50LW5hbWVcbiAgICpcbiAgICogQHBhcmFtIHRhZ05hbWUgbmFtZSBvZiB0aGUgdGFnIG9mIHRoZSBub2RlIHRvIHNhbml0aXplXG4gICAqIEByZXR1cm5zIFJldHVybnMgdHJ1ZSBpZiB0aGUgdGFnIG5hbWUgbWVldHMgdGhlIGJhc2ljIGNyaXRlcmlhIGZvciBhIGN1c3RvbSBlbGVtZW50LCBvdGhlcndpc2UgZmFsc2UuXG4gICAqL1xuICBjb25zdCBfaXNCYXNpY0N1c3RvbUVsZW1lbnQgPSBmdW5jdGlvbiBfaXNCYXNpY0N1c3RvbUVsZW1lbnQodGFnTmFtZSkge1xuICAgIHJldHVybiB0YWdOYW1lICE9PSAnYW5ub3RhdGlvbi14bWwnICYmIHN0cmluZ01hdGNoKHRhZ05hbWUsIENVU1RPTV9FTEVNRU5UKTtcbiAgfTtcbiAgLyoqXG4gICAqIF9zYW5pdGl6ZUF0dHJpYnV0ZXNcbiAgICpcbiAgICogQHByb3RlY3QgYXR0cmlidXRlc1xuICAgKiBAcHJvdGVjdCBub2RlTmFtZVxuICAgKiBAcHJvdGVjdCByZW1vdmVBdHRyaWJ1dGVcbiAgICogQHByb3RlY3Qgc2V0QXR0cmlidXRlXG4gICAqXG4gICAqIEBwYXJhbSBjdXJyZW50Tm9kZSB0byBzYW5pdGl6ZVxuICAgKi9cbiAgY29uc3QgX3Nhbml0aXplQXR0cmlidXRlcyA9IGZ1bmN0aW9uIF9zYW5pdGl6ZUF0dHJpYnV0ZXMoY3VycmVudE5vZGUpIHtcbiAgICAvKiBFeGVjdXRlIGEgaG9vayBpZiBwcmVzZW50ICovXG4gICAgX2V4ZWN1dGVIb29rcyhob29rcy5iZWZvcmVTYW5pdGl6ZUF0dHJpYnV0ZXMsIGN1cnJlbnROb2RlLCBudWxsKTtcbiAgICBjb25zdCB7XG4gICAgICBhdHRyaWJ1dGVzXG4gICAgfSA9IGN1cnJlbnROb2RlO1xuICAgIC8qIENoZWNrIGlmIHdlIGhhdmUgYXR0cmlidXRlczsgaWYgbm90IHdlIG1pZ2h0IGhhdmUgYSB0ZXh0IG5vZGUgKi9cbiAgICBpZiAoIWF0dHJpYnV0ZXMgfHwgX2lzQ2xvYmJlcmVkKGN1cnJlbnROb2RlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBob29rRXZlbnQgPSB7XG4gICAgICBhdHRyTmFtZTogJycsXG4gICAgICBhdHRyVmFsdWU6ICcnLFxuICAgICAga2VlcEF0dHI6IHRydWUsXG4gICAgICBhbGxvd2VkQXR0cmlidXRlczogQUxMT1dFRF9BVFRSLFxuICAgICAgZm9yY2VLZWVwQXR0cjogdW5kZWZpbmVkXG4gICAgfTtcbiAgICBsZXQgbCA9IGF0dHJpYnV0ZXMubGVuZ3RoO1xuICAgIC8qIEdvIGJhY2t3YXJkcyBvdmVyIGFsbCBhdHRyaWJ1dGVzOyBzYWZlbHkgcmVtb3ZlIGJhZCBvbmVzICovXG4gICAgd2hpbGUgKGwtLSkge1xuICAgICAgY29uc3QgYXR0ciA9IGF0dHJpYnV0ZXNbbF07XG4gICAgICBjb25zdCB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIG5hbWVzcGFjZVVSSSxcbiAgICAgICAgdmFsdWU6IGF0dHJWYWx1ZVxuICAgICAgfSA9IGF0dHI7XG4gICAgICBjb25zdCBsY05hbWUgPSB0cmFuc2Zvcm1DYXNlRnVuYyhuYW1lKTtcbiAgICAgIGNvbnN0IGluaXRWYWx1ZSA9IGF0dHJWYWx1ZTtcbiAgICAgIGxldCB2YWx1ZSA9IG5hbWUgPT09ICd2YWx1ZScgPyBpbml0VmFsdWUgOiBzdHJpbmdUcmltKGluaXRWYWx1ZSk7XG4gICAgICAvKiBFeGVjdXRlIGEgaG9vayBpZiBwcmVzZW50ICovXG4gICAgICBob29rRXZlbnQuYXR0ck5hbWUgPSBsY05hbWU7XG4gICAgICBob29rRXZlbnQuYXR0clZhbHVlID0gdmFsdWU7XG4gICAgICBob29rRXZlbnQua2VlcEF0dHIgPSB0cnVlO1xuICAgICAgaG9va0V2ZW50LmZvcmNlS2VlcEF0dHIgPSB1bmRlZmluZWQ7IC8vIEFsbG93cyBkZXZlbG9wZXJzIHRvIHNlZSB0aGlzIGlzIGEgcHJvcGVydHkgdGhleSBjYW4gc2V0XG4gICAgICBfZXhlY3V0ZUhvb2tzKGhvb2tzLnVwb25TYW5pdGl6ZUF0dHJpYnV0ZSwgY3VycmVudE5vZGUsIGhvb2tFdmVudCk7XG4gICAgICB2YWx1ZSA9IGhvb2tFdmVudC5hdHRyVmFsdWU7XG4gICAgICAvKiBGdWxsIERPTSBDbG9iYmVyaW5nIHByb3RlY3Rpb24gdmlhIG5hbWVzcGFjZSBpc29sYXRpb24sXG4gICAgICAgKiBQcmVmaXggaWQgYW5kIG5hbWUgYXR0cmlidXRlcyB3aXRoIGB1c2VyLWNvbnRlbnQtYFxuICAgICAgICovXG4gICAgICBpZiAoU0FOSVRJWkVfTkFNRURfUFJPUFMgJiYgKGxjTmFtZSA9PT0gJ2lkJyB8fCBsY05hbWUgPT09ICduYW1lJykpIHtcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBhdHRyaWJ1dGUgd2l0aCB0aGlzIHZhbHVlXG4gICAgICAgIF9yZW1vdmVBdHRyaWJ1dGUobmFtZSwgY3VycmVudE5vZGUpO1xuICAgICAgICAvLyBQcmVmaXggdGhlIHZhbHVlIGFuZCBsYXRlciByZS1jcmVhdGUgdGhlIGF0dHJpYnV0ZSB3aXRoIHRoZSBzYW5pdGl6ZWQgdmFsdWVcbiAgICAgICAgdmFsdWUgPSBTQU5JVElaRV9OQU1FRF9QUk9QU19QUkVGSVggKyB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIC8qIFdvcmsgYXJvdW5kIGEgc2VjdXJpdHkgaXNzdWUgd2l0aCBjb21tZW50cyBpbnNpZGUgYXR0cmlidXRlcyAqL1xuICAgICAgaWYgKFNBRkVfRk9SX1hNTCAmJiByZWdFeHBUZXN0KC8oKC0tIT98XSk+KXw8XFwvKHN0eWxlfHRpdGxlfHRleHRhcmVhKS9pLCB2YWx1ZSkpIHtcbiAgICAgICAgX3JlbW92ZUF0dHJpYnV0ZShuYW1lLCBjdXJyZW50Tm9kZSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgLyogTWFrZSBzdXJlIHdlIGNhbm5vdCBlYXNpbHkgdXNlIGFuaW1hdGVkIGhyZWZzLCBldmVuIGlmIGFuaW1hdGlvbnMgYXJlIGFsbG93ZWQgKi9cbiAgICAgIGlmIChsY05hbWUgPT09ICdhdHRyaWJ1dGVuYW1lJyAmJiBzdHJpbmdNYXRjaCh2YWx1ZSwgJ2hyZWYnKSkge1xuICAgICAgICBfcmVtb3ZlQXR0cmlidXRlKG5hbWUsIGN1cnJlbnROb2RlKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvKiBEaWQgdGhlIGhvb2tzIGFwcHJvdmUgb2YgdGhlIGF0dHJpYnV0ZT8gKi9cbiAgICAgIGlmIChob29rRXZlbnQuZm9yY2VLZWVwQXR0cikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIC8qIERpZCB0aGUgaG9va3MgYXBwcm92ZSBvZiB0aGUgYXR0cmlidXRlPyAqL1xuICAgICAgaWYgKCFob29rRXZlbnQua2VlcEF0dHIpIHtcbiAgICAgICAgX3JlbW92ZUF0dHJpYnV0ZShuYW1lLCBjdXJyZW50Tm9kZSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgLyogV29yayBhcm91bmQgYSBzZWN1cml0eSBpc3N1ZSBpbiBqUXVlcnkgMy4wICovXG4gICAgICBpZiAoIUFMTE9XX1NFTEZfQ0xPU0VfSU5fQVRUUiAmJiByZWdFeHBUZXN0KC9cXC8+L2ksIHZhbHVlKSkge1xuICAgICAgICBfcmVtb3ZlQXR0cmlidXRlKG5hbWUsIGN1cnJlbnROb2RlKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvKiBTYW5pdGl6ZSBhdHRyaWJ1dGUgY29udGVudCB0byBiZSB0ZW1wbGF0ZS1zYWZlICovXG4gICAgICBpZiAoU0FGRV9GT1JfVEVNUExBVEVTKSB7XG4gICAgICAgIGFycmF5Rm9yRWFjaChbTVVTVEFDSEVfRVhQUiwgRVJCX0VYUFIsIFRNUExJVF9FWFBSXSwgZXhwciA9PiB7XG4gICAgICAgICAgdmFsdWUgPSBzdHJpbmdSZXBsYWNlKHZhbHVlLCBleHByLCAnICcpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8qIElzIGB2YWx1ZWAgdmFsaWQgZm9yIHRoaXMgYXR0cmlidXRlPyAqL1xuICAgICAgY29uc3QgbGNUYWcgPSB0cmFuc2Zvcm1DYXNlRnVuYyhjdXJyZW50Tm9kZS5ub2RlTmFtZSk7XG4gICAgICBpZiAoIV9pc1ZhbGlkQXR0cmlidXRlKGxjVGFnLCBsY05hbWUsIHZhbHVlKSkge1xuICAgICAgICBfcmVtb3ZlQXR0cmlidXRlKG5hbWUsIGN1cnJlbnROb2RlKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvKiBIYW5kbGUgYXR0cmlidXRlcyB0aGF0IHJlcXVpcmUgVHJ1c3RlZCBUeXBlcyAqL1xuICAgICAgaWYgKHRydXN0ZWRUeXBlc1BvbGljeSAmJiB0eXBlb2YgdHJ1c3RlZFR5cGVzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdHJ1c3RlZFR5cGVzLmdldEF0dHJpYnV0ZVR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWYgKG5hbWVzcGFjZVVSSSkgOyBlbHNlIHtcbiAgICAgICAgICBzd2l0Y2ggKHRydXN0ZWRUeXBlcy5nZXRBdHRyaWJ1dGVUeXBlKGxjVGFnLCBsY05hbWUpKSB7XG4gICAgICAgICAgICBjYXNlICdUcnVzdGVkSFRNTCc6XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRydXN0ZWRUeXBlc1BvbGljeS5jcmVhdGVIVE1MKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnVHJ1c3RlZFNjcmlwdFVSTCc6XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRydXN0ZWRUeXBlc1BvbGljeS5jcmVhdGVTY3JpcHRVUkwodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKiBIYW5kbGUgaW52YWxpZCBkYXRhLSogYXR0cmlidXRlIHNldCBieSB0cnktY2F0Y2hpbmcgaXQgKi9cbiAgICAgIGlmICh2YWx1ZSAhPT0gaW5pdFZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKG5hbWVzcGFjZVVSSSkge1xuICAgICAgICAgICAgY3VycmVudE5vZGUuc2V0QXR0cmlidXRlTlMobmFtZXNwYWNlVVJJLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8qIEZhbGxiYWNrIHRvIHNldEF0dHJpYnV0ZSgpIGZvciBicm93c2VyLXVucmVjb2duaXplZCBuYW1lc3BhY2VzIGUuZy4gXCJ4LXNjaGVtYVwiLiAqL1xuICAgICAgICAgICAgY3VycmVudE5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKF9pc0Nsb2JiZXJlZChjdXJyZW50Tm9kZSkpIHtcbiAgICAgICAgICAgIF9mb3JjZVJlbW92ZShjdXJyZW50Tm9kZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5UG9wKERPTVB1cmlmeS5yZW1vdmVkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICBfcmVtb3ZlQXR0cmlidXRlKG5hbWUsIGN1cnJlbnROb2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKiBFeGVjdXRlIGEgaG9vayBpZiBwcmVzZW50ICovXG4gICAgX2V4ZWN1dGVIb29rcyhob29rcy5hZnRlclNhbml0aXplQXR0cmlidXRlcywgY3VycmVudE5vZGUsIG51bGwpO1xuICB9O1xuICAvKipcbiAgICogX3Nhbml0aXplU2hhZG93RE9NXG4gICAqXG4gICAqIEBwYXJhbSBmcmFnbWVudCB0byBpdGVyYXRlIG92ZXIgcmVjdXJzaXZlbHlcbiAgICovXG4gIGNvbnN0IF9zYW5pdGl6ZVNoYWRvd0RPTSA9IGZ1bmN0aW9uIF9zYW5pdGl6ZVNoYWRvd0RPTShmcmFnbWVudCkge1xuICAgIGxldCBzaGFkb3dOb2RlID0gbnVsbDtcbiAgICBjb25zdCBzaGFkb3dJdGVyYXRvciA9IF9jcmVhdGVOb2RlSXRlcmF0b3IoZnJhZ21lbnQpO1xuICAgIC8qIEV4ZWN1dGUgYSBob29rIGlmIHByZXNlbnQgKi9cbiAgICBfZXhlY3V0ZUhvb2tzKGhvb2tzLmJlZm9yZVNhbml0aXplU2hhZG93RE9NLCBmcmFnbWVudCwgbnVsbCk7XG4gICAgd2hpbGUgKHNoYWRvd05vZGUgPSBzaGFkb3dJdGVyYXRvci5uZXh0Tm9kZSgpKSB7XG4gICAgICAvKiBFeGVjdXRlIGEgaG9vayBpZiBwcmVzZW50ICovXG4gICAgICBfZXhlY3V0ZUhvb2tzKGhvb2tzLnVwb25TYW5pdGl6ZVNoYWRvd05vZGUsIHNoYWRvd05vZGUsIG51bGwpO1xuICAgICAgLyogU2FuaXRpemUgdGFncyBhbmQgZWxlbWVudHMgKi9cbiAgICAgIF9zYW5pdGl6ZUVsZW1lbnRzKHNoYWRvd05vZGUpO1xuICAgICAgLyogQ2hlY2sgYXR0cmlidXRlcyBuZXh0ICovXG4gICAgICBfc2FuaXRpemVBdHRyaWJ1dGVzKHNoYWRvd05vZGUpO1xuICAgICAgLyogRGVlcCBzaGFkb3cgRE9NIGRldGVjdGVkICovXG4gICAgICBpZiAoc2hhZG93Tm9kZS5jb250ZW50IGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCkge1xuICAgICAgICBfc2FuaXRpemVTaGFkb3dET00oc2hhZG93Tm9kZS5jb250ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyogRXhlY3V0ZSBhIGhvb2sgaWYgcHJlc2VudCAqL1xuICAgIF9leGVjdXRlSG9va3MoaG9va3MuYWZ0ZXJTYW5pdGl6ZVNoYWRvd0RPTSwgZnJhZ21lbnQsIG51bGwpO1xuICB9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuICBET01QdXJpZnkuc2FuaXRpemUgPSBmdW5jdGlvbiAoZGlydHkpIHtcbiAgICBsZXQgY2ZnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBsZXQgYm9keSA9IG51bGw7XG4gICAgbGV0IGltcG9ydGVkTm9kZSA9IG51bGw7XG4gICAgbGV0IGN1cnJlbnROb2RlID0gbnVsbDtcbiAgICBsZXQgcmV0dXJuTm9kZSA9IG51bGw7XG4gICAgLyogTWFrZSBzdXJlIHdlIGhhdmUgYSBzdHJpbmcgdG8gc2FuaXRpemUuXG4gICAgICBETyBOT1QgcmV0dXJuIGVhcmx5LCBhcyB0aGlzIHdpbGwgcmV0dXJuIHRoZSB3cm9uZyB0eXBlIGlmXG4gICAgICB0aGUgdXNlciBoYXMgcmVxdWVzdGVkIGEgRE9NIG9iamVjdCByYXRoZXIgdGhhbiBhIHN0cmluZyAqL1xuICAgIElTX0VNUFRZX0lOUFVUID0gIWRpcnR5O1xuICAgIGlmIChJU19FTVBUWV9JTlBVVCkge1xuICAgICAgZGlydHkgPSAnPCEtLT4nO1xuICAgIH1cbiAgICAvKiBTdHJpbmdpZnksIGluIGNhc2UgZGlydHkgaXMgYW4gb2JqZWN0ICovXG4gICAgaWYgKHR5cGVvZiBkaXJ0eSAhPT0gJ3N0cmluZycgJiYgIV9pc05vZGUoZGlydHkpKSB7XG4gICAgICBpZiAodHlwZW9mIGRpcnR5LnRvU3RyaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGRpcnR5ID0gZGlydHkudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKHR5cGVvZiBkaXJ0eSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aHJvdyB0eXBlRXJyb3JDcmVhdGUoJ2RpcnR5IGlzIG5vdCBhIHN0cmluZywgYWJvcnRpbmcnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgdHlwZUVycm9yQ3JlYXRlKCd0b1N0cmluZyBpcyBub3QgYSBmdW5jdGlvbicpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiBSZXR1cm4gZGlydHkgSFRNTCBpZiBET01QdXJpZnkgY2Fubm90IHJ1biAqL1xuICAgIGlmICghRE9NUHVyaWZ5LmlzU3VwcG9ydGVkKSB7XG4gICAgICByZXR1cm4gZGlydHk7XG4gICAgfVxuICAgIC8qIEFzc2lnbiBjb25maWcgdmFycyAqL1xuICAgIGlmICghU0VUX0NPTkZJRykge1xuICAgICAgX3BhcnNlQ29uZmlnKGNmZyk7XG4gICAgfVxuICAgIC8qIENsZWFuIHVwIHJlbW92ZWQgZWxlbWVudHMgKi9cbiAgICBET01QdXJpZnkucmVtb3ZlZCA9IFtdO1xuICAgIC8qIENoZWNrIGlmIGRpcnR5IGlzIGNvcnJlY3RseSB0eXBlZCBmb3IgSU5fUExBQ0UgKi9cbiAgICBpZiAodHlwZW9mIGRpcnR5ID09PSAnc3RyaW5nJykge1xuICAgICAgSU5fUExBQ0UgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElOX1BMQUNFKSB7XG4gICAgICAvKiBEbyBzb21lIGVhcmx5IHByZS1zYW5pdGl6YXRpb24gdG8gYXZvaWQgdW5zYWZlIHJvb3Qgbm9kZXMgKi9cbiAgICAgIGlmIChkaXJ0eS5ub2RlTmFtZSkge1xuICAgICAgICBjb25zdCB0YWdOYW1lID0gdHJhbnNmb3JtQ2FzZUZ1bmMoZGlydHkubm9kZU5hbWUpO1xuICAgICAgICBpZiAoIUFMTE9XRURfVEFHU1t0YWdOYW1lXSB8fCBGT1JCSURfVEFHU1t0YWdOYW1lXSkge1xuICAgICAgICAgIHRocm93IHR5cGVFcnJvckNyZWF0ZSgncm9vdCBub2RlIGlzIGZvcmJpZGRlbiBhbmQgY2Fubm90IGJlIHNhbml0aXplZCBpbi1wbGFjZScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkaXJ0eSBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgIC8qIElmIGRpcnR5IGlzIGEgRE9NIGVsZW1lbnQsIGFwcGVuZCB0byBhbiBlbXB0eSBkb2N1bWVudCB0byBhdm9pZFxuICAgICAgICAgZWxlbWVudHMgYmVpbmcgc3RyaXBwZWQgYnkgdGhlIHBhcnNlciAqL1xuICAgICAgYm9keSA9IF9pbml0RG9jdW1lbnQoJzwhLS0tLT4nKTtcbiAgICAgIGltcG9ydGVkTm9kZSA9IGJvZHkub3duZXJEb2N1bWVudC5pbXBvcnROb2RlKGRpcnR5LCB0cnVlKTtcbiAgICAgIGlmIChpbXBvcnRlZE5vZGUubm9kZVR5cGUgPT09IE5PREVfVFlQRS5lbGVtZW50ICYmIGltcG9ydGVkTm9kZS5ub2RlTmFtZSA9PT0gJ0JPRFknKSB7XG4gICAgICAgIC8qIE5vZGUgaXMgYWxyZWFkeSBhIGJvZHksIHVzZSBhcyBpcyAqL1xuICAgICAgICBib2R5ID0gaW1wb3J0ZWROb2RlO1xuICAgICAgfSBlbHNlIGlmIChpbXBvcnRlZE5vZGUubm9kZU5hbWUgPT09ICdIVE1MJykge1xuICAgICAgICBib2R5ID0gaW1wb3J0ZWROb2RlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vcHJlZmVyLWRvbS1ub2RlLWFwcGVuZFxuICAgICAgICBib2R5LmFwcGVuZENoaWxkKGltcG9ydGVkTm9kZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIEV4aXQgZGlyZWN0bHkgaWYgd2UgaGF2ZSBub3RoaW5nIHRvIGRvICovXG4gICAgICBpZiAoIVJFVFVSTl9ET00gJiYgIVNBRkVfRk9SX1RFTVBMQVRFUyAmJiAhV0hPTEVfRE9DVU1FTlQgJiZcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB1bmljb3JuL3ByZWZlci1pbmNsdWRlc1xuICAgICAgZGlydHkuaW5kZXhPZignPCcpID09PSAtMSkge1xuICAgICAgICByZXR1cm4gdHJ1c3RlZFR5cGVzUG9saWN5ICYmIFJFVFVSTl9UUlVTVEVEX1RZUEUgPyB0cnVzdGVkVHlwZXNQb2xpY3kuY3JlYXRlSFRNTChkaXJ0eSkgOiBkaXJ0eTtcbiAgICAgIH1cbiAgICAgIC8qIEluaXRpYWxpemUgdGhlIGRvY3VtZW50IHRvIHdvcmsgb24gKi9cbiAgICAgIGJvZHkgPSBfaW5pdERvY3VtZW50KGRpcnR5KTtcbiAgICAgIC8qIENoZWNrIHdlIGhhdmUgYSBET00gbm9kZSBmcm9tIHRoZSBkYXRhICovXG4gICAgICBpZiAoIWJvZHkpIHtcbiAgICAgICAgcmV0dXJuIFJFVFVSTl9ET00gPyBudWxsIDogUkVUVVJOX1RSVVNURURfVFlQRSA/IGVtcHR5SFRNTCA6ICcnO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiBSZW1vdmUgZmlyc3QgZWxlbWVudCBub2RlIChvdXJzKSBpZiBGT1JDRV9CT0RZIGlzIHNldCAqL1xuICAgIGlmIChib2R5ICYmIEZPUkNFX0JPRFkpIHtcbiAgICAgIF9mb3JjZVJlbW92ZShib2R5LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICAvKiBHZXQgbm9kZSBpdGVyYXRvciAqL1xuICAgIGNvbnN0IG5vZGVJdGVyYXRvciA9IF9jcmVhdGVOb2RlSXRlcmF0b3IoSU5fUExBQ0UgPyBkaXJ0eSA6IGJvZHkpO1xuICAgIC8qIE5vdyBzdGFydCBpdGVyYXRpbmcgb3ZlciB0aGUgY3JlYXRlZCBkb2N1bWVudCAqL1xuICAgIHdoaWxlIChjdXJyZW50Tm9kZSA9IG5vZGVJdGVyYXRvci5uZXh0Tm9kZSgpKSB7XG4gICAgICAvKiBTYW5pdGl6ZSB0YWdzIGFuZCBlbGVtZW50cyAqL1xuICAgICAgX3Nhbml0aXplRWxlbWVudHMoY3VycmVudE5vZGUpO1xuICAgICAgLyogQ2hlY2sgYXR0cmlidXRlcyBuZXh0ICovXG4gICAgICBfc2FuaXRpemVBdHRyaWJ1dGVzKGN1cnJlbnROb2RlKTtcbiAgICAgIC8qIFNoYWRvdyBET00gZGV0ZWN0ZWQsIHNhbml0aXplIGl0ICovXG4gICAgICBpZiAoY3VycmVudE5vZGUuY29udGVudCBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpIHtcbiAgICAgICAgX3Nhbml0aXplU2hhZG93RE9NKGN1cnJlbnROb2RlLmNvbnRlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiBJZiB3ZSBzYW5pdGl6ZWQgYGRpcnR5YCBpbi1wbGFjZSwgcmV0dXJuIGl0LiAqL1xuICAgIGlmIChJTl9QTEFDRSkge1xuICAgICAgcmV0dXJuIGRpcnR5O1xuICAgIH1cbiAgICAvKiBSZXR1cm4gc2FuaXRpemVkIHN0cmluZyBvciBET00gKi9cbiAgICBpZiAoUkVUVVJOX0RPTSkge1xuICAgICAgaWYgKFJFVFVSTl9ET01fRlJBR01FTlQpIHtcbiAgICAgICAgcmV0dXJuTm9kZSA9IGNyZWF0ZURvY3VtZW50RnJhZ21lbnQuY2FsbChib2R5Lm93bmVyRG9jdW1lbnQpO1xuICAgICAgICB3aGlsZSAoYm9keS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vcHJlZmVyLWRvbS1ub2RlLWFwcGVuZFxuICAgICAgICAgIHJldHVybk5vZGUuYXBwZW5kQ2hpbGQoYm9keS5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuTm9kZSA9IGJvZHk7XG4gICAgICB9XG4gICAgICBpZiAoQUxMT1dFRF9BVFRSLnNoYWRvd3Jvb3QgfHwgQUxMT1dFRF9BVFRSLnNoYWRvd3Jvb3Rtb2RlKSB7XG4gICAgICAgIC8qXG4gICAgICAgICAgQWRvcHROb2RlKCkgaXMgbm90IHVzZWQgYmVjYXVzZSBpbnRlcm5hbCBzdGF0ZSBpcyBub3QgcmVzZXRcbiAgICAgICAgICAoZS5nLiB0aGUgcGFzdCBuYW1lcyBtYXAgb2YgYSBIVE1MRm9ybUVsZW1lbnQpLCB0aGlzIGlzIHNhZmVcbiAgICAgICAgICBpbiB0aGVvcnkgYnV0IHdlIHdvdWxkIHJhdGhlciBub3QgcmlzayBhbm90aGVyIGF0dGFjayB2ZWN0b3IuXG4gICAgICAgICAgVGhlIHN0YXRlIHRoYXQgaXMgY2xvbmVkIGJ5IGltcG9ydE5vZGUoKSBpcyBleHBsaWNpdGx5IGRlZmluZWRcbiAgICAgICAgICBieSB0aGUgc3BlY3MuXG4gICAgICAgICovXG4gICAgICAgIHJldHVybk5vZGUgPSBpbXBvcnROb2RlLmNhbGwob3JpZ2luYWxEb2N1bWVudCwgcmV0dXJuTm9kZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV0dXJuTm9kZTtcbiAgICB9XG4gICAgbGV0IHNlcmlhbGl6ZWRIVE1MID0gV0hPTEVfRE9DVU1FTlQgPyBib2R5Lm91dGVySFRNTCA6IGJvZHkuaW5uZXJIVE1MO1xuICAgIC8qIFNlcmlhbGl6ZSBkb2N0eXBlIGlmIGFsbG93ZWQgKi9cbiAgICBpZiAoV0hPTEVfRE9DVU1FTlQgJiYgQUxMT1dFRF9UQUdTWychZG9jdHlwZSddICYmIGJvZHkub3duZXJEb2N1bWVudCAmJiBib2R5Lm93bmVyRG9jdW1lbnQuZG9jdHlwZSAmJiBib2R5Lm93bmVyRG9jdW1lbnQuZG9jdHlwZS5uYW1lICYmIHJlZ0V4cFRlc3QoRE9DVFlQRV9OQU1FLCBib2R5Lm93bmVyRG9jdW1lbnQuZG9jdHlwZS5uYW1lKSkge1xuICAgICAgc2VyaWFsaXplZEhUTUwgPSAnPCFET0NUWVBFICcgKyBib2R5Lm93bmVyRG9jdW1lbnQuZG9jdHlwZS5uYW1lICsgJz5cXG4nICsgc2VyaWFsaXplZEhUTUw7XG4gICAgfVxuICAgIC8qIFNhbml0aXplIGZpbmFsIHN0cmluZyB0ZW1wbGF0ZS1zYWZlICovXG4gICAgaWYgKFNBRkVfRk9SX1RFTVBMQVRFUykge1xuICAgICAgYXJyYXlGb3JFYWNoKFtNVVNUQUNIRV9FWFBSLCBFUkJfRVhQUiwgVE1QTElUX0VYUFJdLCBleHByID0+IHtcbiAgICAgICAgc2VyaWFsaXplZEhUTUwgPSBzdHJpbmdSZXBsYWNlKHNlcmlhbGl6ZWRIVE1MLCBleHByLCAnICcpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVzdGVkVHlwZXNQb2xpY3kgJiYgUkVUVVJOX1RSVVNURURfVFlQRSA/IHRydXN0ZWRUeXBlc1BvbGljeS5jcmVhdGVIVE1MKHNlcmlhbGl6ZWRIVE1MKSA6IHNlcmlhbGl6ZWRIVE1MO1xuICB9O1xuICBET01QdXJpZnkuc2V0Q29uZmlnID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBjZmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIF9wYXJzZUNvbmZpZyhjZmcpO1xuICAgIFNFVF9DT05GSUcgPSB0cnVlO1xuICB9O1xuICBET01QdXJpZnkuY2xlYXJDb25maWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgQ09ORklHID0gbnVsbDtcbiAgICBTRVRfQ09ORklHID0gZmFsc2U7XG4gIH07XG4gIERPTVB1cmlmeS5pc1ZhbGlkQXR0cmlidXRlID0gZnVuY3Rpb24gKHRhZywgYXR0ciwgdmFsdWUpIHtcbiAgICAvKiBJbml0aWFsaXplIHNoYXJlZCBjb25maWcgdmFycyBpZiBuZWNlc3NhcnkuICovXG4gICAgaWYgKCFDT05GSUcpIHtcbiAgICAgIF9wYXJzZUNvbmZpZyh7fSk7XG4gICAgfVxuICAgIGNvbnN0IGxjVGFnID0gdHJhbnNmb3JtQ2FzZUZ1bmModGFnKTtcbiAgICBjb25zdCBsY05hbWUgPSB0cmFuc2Zvcm1DYXNlRnVuYyhhdHRyKTtcbiAgICByZXR1cm4gX2lzVmFsaWRBdHRyaWJ1dGUobGNUYWcsIGxjTmFtZSwgdmFsdWUpO1xuICB9O1xuICBET01QdXJpZnkuYWRkSG9vayA9IGZ1bmN0aW9uIChlbnRyeVBvaW50LCBob29rRnVuY3Rpb24pIHtcbiAgICBpZiAodHlwZW9mIGhvb2tGdW5jdGlvbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhcnJheVB1c2goaG9va3NbZW50cnlQb2ludF0sIGhvb2tGdW5jdGlvbik7XG4gIH07XG4gIERPTVB1cmlmeS5yZW1vdmVIb29rID0gZnVuY3Rpb24gKGVudHJ5UG9pbnQsIGhvb2tGdW5jdGlvbikge1xuICAgIGlmIChob29rRnVuY3Rpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgaW5kZXggPSBhcnJheUxhc3RJbmRleE9mKGhvb2tzW2VudHJ5UG9pbnRdLCBob29rRnVuY3Rpb24pO1xuICAgICAgcmV0dXJuIGluZGV4ID09PSAtMSA/IHVuZGVmaW5lZCA6IGFycmF5U3BsaWNlKGhvb2tzW2VudHJ5UG9pbnRdLCBpbmRleCwgMSlbMF07XG4gICAgfVxuICAgIHJldHVybiBhcnJheVBvcChob29rc1tlbnRyeVBvaW50XSk7XG4gIH07XG4gIERPTVB1cmlmeS5yZW1vdmVIb29rcyA9IGZ1bmN0aW9uIChlbnRyeVBvaW50KSB7XG4gICAgaG9va3NbZW50cnlQb2ludF0gPSBbXTtcbiAgfTtcbiAgRE9NUHVyaWZ5LnJlbW92ZUFsbEhvb2tzID0gZnVuY3Rpb24gKCkge1xuICAgIGhvb2tzID0gX2NyZWF0ZUhvb2tzTWFwKCk7XG4gIH07XG4gIHJldHVybiBET01QdXJpZnk7XG59XG52YXIgcHVyaWZ5ID0gY3JlYXRlRE9NUHVyaWZ5KCk7XG5cbmV4cG9ydCB7IHB1cmlmeSBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wdXJpZnkuZXMubWpzLm1hcFxuIiwiLyoqXG4gKiBDb250ZW50IFNjcmlwdCAtIElTT0xBVEVEIHdvcmxkXG4gKiBBY3RzIGFzIGEgcmVsYXkgYmV0d2VlbiBwYWdlIGNvbnRleHQgKGluamVjdC5qcykgYW5kIGJhY2tncm91bmQgc2NyaXB0XG4gKlxuICogQXJjaGl0ZWN0dXJlOlxuICogaW5qZWN0LmpzIChwYWdlKSDihpIgd2luZG93LnBvc3RNZXNzYWdlIOKGkiBjb250ZW50LnRzIOKGkiBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSDihpIgYmFja2dyb3VuZC50c1xuICovXG5cbmltcG9ydCB7IGluaXRPYnNlcnZlcnMgfSBmcm9tICcuL29ic2VydmVycyc7XG5pbXBvcnQgeyBzYW5pdGl6ZUh0bWwsIGVzY2FwZUh0bWwgfSBmcm9tICcuLi9saWIvc2FuaXRpemVyJztcblxuLy8gR3VhcmQgYWdhaW5zdCBtdWx0aXBsZSBpbmplY3Rpb25zIChoYXBwZW5zIHdoZW4gZXh0ZW5zaW9uIGlzIHJlbG9hZGVkKVxuaWYgKCh3aW5kb3cgYXMgYW55KS5fX0FJX1BJSV9DT05URU5UX0lOSkVDVEVEX18pIHtcbiAgY29uc29sZS53YXJuKCfimqDvuI8gQUkgUElJIFNhbml0aXplciBjb250ZW50IHNjcmlwdCBhbHJlYWR5IGluamVjdGVkIC0gc2tpcHBpbmcgZHVwbGljYXRlIGluamVjdGlvbicpO1xufSBlbHNlIHtcbiAgKHdpbmRvdyBhcyBhbnkpLl9fQUlfUElJX0NPTlRFTlRfSU5KRUNURURfXyA9IHRydWU7XG5cbiAgLy8gSW5qZWN0IHRoZSBmZXRjaCBpbnRlcmNlcHRvciBzY3JpcHQgaW50byBwYWdlIGNvbnRleHRcbiAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIHNjcmlwdC5zcmMgPSBjaHJvbWUucnVudGltZS5nZXRVUkwoJ2luamVjdC5qcycpO1xuICBzY3JpcHQub25sb2FkID0gKCkgPT4ge1xuICAgIHNjcmlwdC5yZW1vdmUoKTtcbiAgICBjb25zb2xlLmxvZygn8J+boe+4jyBBSSBQSUkgU2FuaXRpemVyOiBJbmplY3RvciBsb2FkZWQnKTtcbiAgfTtcbiAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuXG4gIC8vIEluaXRpYWxpemUgRE9NIG9ic2VydmVycyBhZnRlciBwYWdlIGxvYWRcbiAgY29uc29sZS5sb2coJ/CfjJAgW0NvbnRlbnRdIEhvc3RuYW1lOicsIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk7XG4gIGNvbnNvbGUubG9nKCfwn4yQIFtDb250ZW50XSBVUkw6Jywgd2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7XG4gICAgY29uc29sZS5sb2coJ/Cfk4QgW0NvbnRlbnRdIFdhaXRpbmcgZm9yIERPTUNvbnRlbnRMb2FkZWQuLi4nKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ/Cfk4QgW0NvbnRlbnRdIERPTUNvbnRlbnRMb2FkZWQgZmlyZWQnKTtcbiAgICAgIGluaXRPYnNlcnZlcnMoKTtcblxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKCfwn5OEIFtDb250ZW50XSBET00gYWxyZWFkeSByZWFkeScpO1xuICAgIGluaXRPYnNlcnZlcnMoKTtcblxuICB9XG59XG5cbi8qKlxuICogU2hvdyBhdXRvLWFjdGl2YXRpb24gdG9hc3Qgd2hlbiB2aXNpdGluZyBwcm90ZWN0ZWQgcGFnZXNcbiAqIEluY2x1ZGVzIHJldHJ5IGxvZ2ljIHRvIHdhaXQgZm9yIHNlcnZpY2Ugd29ya2VyIGluaXRpYWxpemF0aW9uXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNob3dBY3RpdmF0aW9uVG9hc3QoKSB7XG4gIHRyeSB7XG4gICAgLy8gV2FpdCBhIGJpdCBmb3Igc2VydmljZSB3b3JrZXIgdG8gaW5pdGlhbGl6ZSBGaXJlYmFzZSBhdXRoXG4gICAgLy8gVGhpcyBwcmV2ZW50cyBzaG93aW5nIHRvYXN0IGJlZm9yZSBwcm9maWxlcyBhcmUgYWN0dWFsbHkgbG9hZGVkXG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xuXG4gICAgLy8gQ2hlY2sgaWYgZXh0ZW5zaW9uIGlzIGFjdGl2ZSAoaGFzIGNvbmZpZylcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHsgdHlwZTogJ0dFVF9DT05GSUcnIH0pO1xuXG4gICAgaWYgKCFyZXNwb25zZT8uc3VjY2VzcyB8fCAhcmVzcG9uc2UuZGF0YT8uc2V0dGluZ3M/LmVuYWJsZWQpIHtcbiAgICAgIHJldHVybjsgLy8gRXh0ZW5zaW9uIGlzIGRpc2FibGVkXG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgY3VycmVudCBkb21haW4gaXMgaW4gcHJvdGVjdGVkRG9tYWluc1xuICAgIGNvbnN0IHByb3RlY3RlZERvbWFpbnMgPSByZXNwb25zZS5kYXRhPy5zZXR0aW5ncz8ucHJvdGVjdGVkRG9tYWlucyB8fCBbXTtcbiAgICBjb25zdCBjdXJyZW50RG9tYWluID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO1xuICAgIGNvbnN0IGlzRG9tYWluUHJvdGVjdGVkID0gcHJvdGVjdGVkRG9tYWlucy5zb21lKChkb21haW46IHN0cmluZykgPT5cbiAgICAgIGN1cnJlbnREb21haW4uaW5jbHVkZXMoZG9tYWluKSB8fCBkb21haW4uaW5jbHVkZXMoY3VycmVudERvbWFpbilcbiAgICApO1xuXG4gICAgaWYgKCFpc0RvbWFpblByb3RlY3RlZCkge1xuICAgICAgcmV0dXJuOyAvLyBDdXJyZW50IGRvbWFpbiBpcyBub3QgcHJvdGVjdGVkXG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgYWN0aXZlIHByb2ZpbGVzIGFyZSBsb2FkZWQgaW4gc2VydmljZSB3b3JrZXJcbiAgICAvLyBSZXRyeSBsb2dpYzogV2FpdCBmb3IgcHJvZmlsZXMgdG8gbG9hZCAoRmlyZWJhc2UgYXV0aCBtYXkgc3RpbGwgYmUgaW5pdGlhbGl6aW5nKVxuICAgIGxldCBoYXNBY3RpdmVQcm9maWxlcyA9IGZhbHNlO1xuICAgIGxldCBhdHRlbXB0cyA9IDA7XG4gICAgY29uc3QgbWF4QXR0ZW1wdHMgPSAzO1xuICAgIGNvbnN0IHJldHJ5RGVsYXkgPSAzMDA7IC8vIG1zXG5cbiAgICB3aGlsZSAoIWhhc0FjdGl2ZVByb2ZpbGVzICYmIGF0dGVtcHRzIDwgbWF4QXR0ZW1wdHMpIHtcbiAgICAgIGNvbnN0IHByb2ZpbGVzUmVzcG9uc2UgPSBhd2FpdCBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7IHR5cGU6ICdHRVRfUFJPRklMRVMnIH0pO1xuICAgICAgaGFzQWN0aXZlUHJvZmlsZXMgPSBwcm9maWxlc1Jlc3BvbnNlPy5zdWNjZXNzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGVzUmVzcG9uc2UuZGF0YT8ubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlc1Jlc3BvbnNlLmRhdGEuc29tZSgocDogYW55KSA9PiBwLmVuYWJsZWQpO1xuXG4gICAgICBpZiAoIWhhc0FjdGl2ZVByb2ZpbGVzICYmIGF0dGVtcHRzIDwgbWF4QXR0ZW1wdHMgLSAxKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbQ29udGVudF0gTm8gYWN0aXZlIHByb2ZpbGVzIHlldCwgcmV0cnlpbmcgaW4gJHtyZXRyeURlbGF5fW1zIChhdHRlbXB0ICR7YXR0ZW1wdHMgKyAxfS8ke21heEF0dGVtcHRzfSlgKTtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHJldHJ5RGVsYXkpKTtcbiAgICAgIH1cbiAgICAgIGF0dGVtcHRzKys7XG4gICAgfVxuXG4gICAgaWYgKCFoYXNBY3RpdmVQcm9maWxlcykge1xuICAgICAgY29uc29sZS5sb2coJ1tDb250ZW50XSBTa2lwcGluZyBwcm90ZWN0aW9uIHRvYXN0IC0gbm8gYWN0aXZlIHByb2ZpbGVzIGxvYWRlZCBhZnRlciByZXRyaWVzJyk7XG4gICAgICByZXR1cm47IC8vIE5vIGFjdGl2ZSBwcm9maWxlcyA9IG5vdCBhY3R1YWxseSBwcm90ZWN0ZWRcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgdG9hc3QgY29udGFpbmVyIHdpdGggZ2xhc3Ntb3JwaGlzbVxuICAgIGNvbnN0IHRvYXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdG9hc3QuaWQgPSAnYWktcGlpLXNhbml0aXplci10b2FzdCc7XG4gICAgdG9hc3Quc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgIHRvcDogMjBweDtcbiAgICAgIHJpZ2h0OiAyMHB4O1xuICAgICAgYmFja2dyb3VuZDogcmdiYSgxNiwgMTg1LCAxMjksIDAuMTUpO1xuICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEycHgpO1xuICAgICAgLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTJweCk7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE2LCAxODUsIDEyOSwgMC4zKTtcbiAgICAgIGNvbG9yOiAjMTBiOTgxO1xuICAgICAgcGFkZGluZzogMTZweCAyNHB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICAgIGJveC1zaGFkb3c6IDAgOHB4IDI0cHggcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDAgMCAxcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpIGluc2V0O1xuICAgICAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgJ1NlZ29lIFVJJywgUm9ib3RvLCBzYW5zLXNlcmlmO1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgIHotaW5kZXg6IDk5OTk5OTtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgZ2FwOiAxMnB4O1xuICAgICAgb3BhY2l0eTogMDtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgxMDAlKTtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjRzIGN1YmljLWJlemllcigwLjY4LCAtMC41NSwgMC4yNjUsIDEuNTUpO1xuICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgYDtcblxuICAgIHRvYXN0LmlubmVySFRNTCA9IGBcbiAgICAgIDxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiPlxuICAgICAgICA8cGF0aCBkPVwiTTEyIDIyczgtNCA4LTEwVjVsLTgtMy04IDN2N2MwIDYgOCAxMCA4IDEwelwiPjwvcGF0aD5cbiAgICAgICAgPHBhdGggZD1cIk05IDEybDIgMiA0LTRcIj48L3BhdGg+XG4gICAgICA8L3N2Zz5cbiAgICAgIDxzcGFuPllvdSBhcmUgcHJvdGVjdGVkPC9zcGFuPlxuICAgIGA7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRvYXN0KTtcblxuICAgIC8vIFNsaWRlIGluIGFuaW1hdGlvblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdG9hc3Quc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICAgIHRvYXN0LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKDApJztcbiAgICB9LCAxMDApO1xuXG4gICAgLy8gU2xpZGUgb3V0IGFmdGVyIDMgc2Vjb25kc1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdG9hc3Quc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICAgIHRvYXN0LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKDEwMCUpJztcblxuICAgICAgLy8gUmVtb3ZlIGZyb20gRE9NIGFmdGVyIGFuaW1hdGlvblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRvYXN0LnJlbW92ZSgpO1xuICAgICAgfSwgNDAwKTtcbiAgICB9LCAzMDAwKTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzaG93IGFjdGl2YXRpb24gdG9hc3Q6JywgZXJyb3IpO1xuICB9XG59XG5cbi8vIFNob3cgdG9hc3Qgd2hlbiBwYWdlIGxvYWRzICh3YWl0IGZvciBET00gdG8gYmUgcmVhZHkpXG5pZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBzaG93QWN0aXZhdGlvblRvYXN0KTtcbn0gZWxzZSB7XG4gIHNob3dBY3RpdmF0aW9uVG9hc3QoKTtcbn1cblxuLy8gTGlzdGVuIGZvciBtZXNzYWdlcyBmcm9tIGJhY2tncm91bmQgKFBJTkcsIFdBUk5fQVBJX0tFWSwgSU5KRUNUX1RFTVBMQVRFKVxuY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKChyZXF1ZXN0LCBfc2VuZGVyLCBzZW5kUmVzcG9uc2UpID0+IHtcbiAgaWYgKHJlcXVlc3QudHlwZSA9PT0gJ1BJTkcnKSB7XG4gICAgLy8gVmVyaWZ5IHdlIGNhbiBhY3R1YWxseSBjb21tdW5pY2F0ZSB3aXRoIGJhY2tncm91bmQgc2NyaXB0XG4gICAgLy8gSWYgZXh0ZW5zaW9uIHdhcyByZWxvYWRlZCwgdGhpcyB3aWxsIGZhaWxcbiAgICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7IHR5cGU6ICdIRUFMVEhfQ0hFQ0snIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHNlbmRSZXNwb25zZSgnUE9ORycpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgIC8vIEV4dGVuc2lvbiBjb250ZXh0IGludmFsaWRhdGVkIC0gZG9uJ3QgcmVzcG9uZFxuICAgICAgICBzZW5kUmVzcG9uc2UobnVsbCk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTsgLy8gV2lsbCByZXNwb25kIGFzeW5jaHJvbm91c2x5XG4gIH1cblxuICBpZiAocmVxdWVzdC50eXBlID09PSAnSU5KRUNUX1RFTVBMQVRFJykge1xuICAgIC8vIEluamVjdCBwcm9tcHQgdGVtcGxhdGUgaW50byB0aGUgY2hhdCdzIHRleHQgYXJlYVxuICAgIGluamVjdFRlbXBsYXRlSW50b0NoYXQocmVxdWVzdC5wYXlsb2FkLmNvbnRlbnQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHNlbmRSZXNwb25zZSh7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcjogRXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW0NvbnRlbnRdIEZhaWxlZCB0byBpbmplY3QgdGVtcGxhdGU6JywgZXJyb3IpO1xuICAgICAgICBzZW5kUmVzcG9uc2UoeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTsgLy8gV2lsbCByZXNwb25kIGFzeW5jaHJvbm91c2x5XG4gIH1cblxuICBpZiAocmVxdWVzdC50eXBlID09PSAnV0FSTl9BUElfS0VZJykge1xuICAgIC8vIFNob3cgd2FybmluZyBtb2RhbCB0byB1c2VyXG4gICAgc2hvd0FQSUtleVdhcm5pbmcocmVxdWVzdC5wYXlsb2FkKVxuICAgICAgLnRoZW4oKHVzZXJDaG9pY2UpID0+IHtcbiAgICAgICAgc2VuZFJlc3BvbnNlKHsgYWxsb3c6IHVzZXJDaG9pY2UgfSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgc2VuZFJlc3BvbnNlKHsgYWxsb3c6ICdibG9jaycgfSk7IC8vIEJsb2NrIGJ5IGRlZmF1bHQgb24gZXJyb3JcbiAgICAgIH0pO1xuICAgIHJldHVybiB0cnVlOyAvLyBXaWxsIHJlc3BvbmQgYXN5bmNocm9ub3VzbHlcbiAgfVxuXG4gIHJldHVybiBmYWxzZTsgLy8gTm90IGhhbmRsaW5nIHRoaXMgbWVzc2FnZVxufSk7XG5cbi8qKlxuICogSW5qZWN0IHRlbXBsYXRlIGNvbnRlbnQgaW50byB0aGUgYWN0aXZlIGNoYXQncyB0ZXh0IGFyZWFcbiAqL1xuYXN5bmMgZnVuY3Rpb24gaW5qZWN0VGVtcGxhdGVJbnRvQ2hhdChjb250ZW50OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gRmluZCB0aGUgdGV4dGFyZWEgYmFzZWQgb24gdGhlIGN1cnJlbnQgcGxhdGZvcm1cbiAgY29uc3QgaG9zdG5hbWUgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG4gIGxldCB0ZXh0YXJlYTogSFRNTFRleHRBcmVhRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG4gIC8vIFBsYXRmb3JtLXNwZWNpZmljIHNlbGVjdG9yc1xuICBpZiAoaG9zdG5hbWUuaW5jbHVkZXMoJ2NoYXRncHQuY29tJykgfHwgaG9zdG5hbWUuaW5jbHVkZXMoJ2NoYXQub3BlbmFpLmNvbScpKSB7XG4gICAgLy8gQ2hhdEdQVDogbWFpbiBwcm9tcHQgdGV4dGFyZWEgKGNvbnRlbnRlZGl0YWJsZSBkaXYpXG4gICAgdGV4dGFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvbXB0LXRleHRhcmVhJykgYXMgSFRNTFRleHRBcmVhRWxlbWVudDtcbiAgICBjb25zb2xlLmxvZygnW0NvbnRlbnRdIPCflI0gQ2hhdEdQVCB0ZXh0YXJlYSBmb3VuZDonLCB0ZXh0YXJlYSk7XG4gICAgY29uc29sZS5sb2coJ1tDb250ZW50XSDwn5SNIElzIGNvbnRlbnRlZGl0YWJsZT8nLCB0ZXh0YXJlYT8uY29udGVudEVkaXRhYmxlKTtcbiAgICBjb25zb2xlLmxvZygnW0NvbnRlbnRdIPCflI0gVGFnIG5hbWU6JywgdGV4dGFyZWE/LnRhZ05hbWUpO1xuICB9IGVsc2UgaWYgKGhvc3RuYW1lLmluY2x1ZGVzKCdjbGF1ZGUuYWknKSkge1xuICAgIC8vIENsYXVkZTogbWFpbiBwcm9tcHQgdGV4dGFyZWFcbiAgICB0ZXh0YXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdltjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCJdJykgYXMgYW55O1xuICB9IGVsc2UgaWYgKGhvc3RuYW1lLmluY2x1ZGVzKCdnZW1pbmkuZ29vZ2xlLmNvbScpKSB7XG4gICAgLy8gR2VtaW5pOiByaWNoIHRleHQgZWRpdG9yXG4gICAgdGV4dGFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucWwtZWRpdG9yW2NvbnRlbnRlZGl0YWJsZT1cInRydWVcIl0nKSBhcyBhbnk7XG4gIH0gZWxzZSBpZiAoaG9zdG5hbWUuaW5jbHVkZXMoJ3BlcnBsZXhpdHkuYWknKSkge1xuICAgIC8vIFBlcnBsZXhpdHk6IHRleHRhcmVhXG4gICAgdGV4dGFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYVtwbGFjZWhvbGRlcio9XCJBc2tcIl0nKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICB9IGVsc2UgaWYgKGhvc3RuYW1lLmluY2x1ZGVzKCdjb3BpbG90Lm1pY3Jvc29mdC5jb20nKSkge1xuICAgIC8vIENvcGlsb3Q6IHRleHRhcmVhXG4gICAgdGV4dGFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYS50ZXh0YXJlYScpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gIH1cblxuICBpZiAoIXRleHRhcmVhKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZmluZCBjaGF0IGlucHV0IGZpZWxkIG9uIHRoaXMgcGFnZScpO1xuICB9XG5cbiAgY29uc29sZS5sb2coJ1tDb250ZW50XSDwn5OdIENvbnRlbnQgdG8gaW5qZWN0IChsZW5ndGg6JywgY29udGVudC5sZW5ndGgsICcpJyk7XG4gIGNvbnNvbGUubG9nKCdbQ29udGVudF0g8J+TnSBGaXJzdCAyMDAgY2hhcnM6JywgSlNPTi5zdHJpbmdpZnkoY29udGVudC5zdWJzdHJpbmcoMCwgMjAwKSkpO1xuICBjb25zb2xlLmxvZygnW0NvbnRlbnRdIPCfk50gQ29udGFpbnMgXFxcXG4/JywgY29udGVudC5pbmNsdWRlcygnXFxuJykpO1xuICBjb25zb2xlLmxvZygnW0NvbnRlbnRdIPCfk50gQ29udGFpbnMgXFxcXG5cXFxcbj8nLCBjb250ZW50LmluY2x1ZGVzKCdcXG5cXG4nKSk7XG5cbiAgLy8gRm9yIGNvbnRlbnRlZGl0YWJsZSBkaXZzIChDbGF1ZGUsIEdlbWluaSwgQ2hhdEdQVClcbiAgaWYgKHRleHRhcmVhLmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnKSB7XG4gICAgY29uc29sZS5sb2coJ1tDb250ZW50XSDwn46oIFVzaW5nIGNvbnRlbnRlZGl0YWJsZSBwYXRoJyk7XG4gICAgY29uc3QgZGl2ID0gdGV4dGFyZWEgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciBDaGF0R1BUJ3MgUHJvc2VNaXJyb3IgZWRpdG9yXG4gICAgaWYgKGhvc3RuYW1lLmluY2x1ZGVzKCdjaGF0Z3B0LmNvbScpIHx8IGhvc3RuYW1lLmluY2x1ZGVzKCdjaGF0Lm9wZW5haS5jb20nKSkge1xuICAgICAgY29uc29sZS5sb2coJ1tDb250ZW50XSDwn46oIENoYXRHUFQgUHJvc2VNaXJyb3IgLSB1c2luZyA8cD4gdGFncycpO1xuXG4gICAgICAvLyBQcm9zZU1pcnJvciBleHBlY3RzIHN0cnVjdHVyZWQgY29udGVudCB3aXRoIDxwPiB0YWdzIGZvciBwYXJhZ3JhcGhzXG4gICAgICAvLyBTcGxpdCBjb250ZW50IGJ5IGRvdWJsZSBuZXdsaW5lcyAocGFyYWdyYXBocykgYW5kIGNyZWF0ZSA8cD4gZWxlbWVudHNcbiAgICAgIGNvbnN0IHBhcmFncmFwaHMgPSBjb250ZW50LnNwbGl0KCdcXG5cXG4nKS5maWx0ZXIocCA9PiBwLnRyaW0oKSk7XG5cbiAgICAgIC8vIENsZWFyIGV4aXN0aW5nIGNvbnRlbnRcbiAgICAgIGRpdi5pbm5lckhUTUwgPSAnJztcblxuICAgICAgLy8gQ3JlYXRlIGEgPHA+IGVsZW1lbnQgZm9yIGVhY2ggcGFyYWdyYXBoXG4gICAgICAvLyBXaXRoaW4gZWFjaCBwYXJhZ3JhcGgsIHNpbmdsZSBuZXdsaW5lcyBiZWNvbWUgPGJyPiB0YWdzXG4gICAgICBwYXJhZ3JhcGhzLmZvckVhY2goKHBhcmFncmFwaCkgPT4ge1xuICAgICAgICBjb25zdCBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuXG4gICAgICAgIC8vIFJlcGxhY2Ugc2luZ2xlIG5ld2xpbmVzIHdpdGggPGJyPiB3aXRoaW4gdGhlIHBhcmFncmFwaFxuICAgICAgICBjb25zdCBsaW5lcyA9IHBhcmFncmFwaC5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGxpbmVzLmZvckVhY2goKGxpbmUsIGxpbmVJbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChsaW5lSW5kZXggPiAwKSB7XG4gICAgICAgICAgICBwLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGxpbmUpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKHApO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdbQ29udGVudF0g8J+OqCBDcmVhdGVkJywgcGFyYWdyYXBocy5sZW5ndGgsICdwYXJhZ3JhcGhzJyk7XG4gICAgICBjb25zb2xlLmxvZygnW0NvbnRlbnRdIPCfjqggRGl2IGlubmVySFRNTCAoZmlyc3QgMzAwKTonLCBkaXYuaW5uZXJIVE1MLnN1YnN0cmluZygwLCAzMDApKTtcblxuICAgICAgLy8gVHJpZ2dlciBpbnB1dCBldmVudCB0byBub3RpZnkgUHJvc2VNaXJyb3JcbiAgICAgIGRpdi5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnLCB7IGJ1YmJsZXM6IHRydWUsIGNvbXBvc2VkOiB0cnVlIH0pKTtcbiAgICAgIGRpdi5kaXNwYXRjaEV2ZW50KG5ldyBJbnB1dEV2ZW50KCdpbnB1dCcsIHsgYnViYmxlczogdHJ1ZSwgaW5wdXRUeXBlOiAnaW5zZXJ0VGV4dCcgfSkpO1xuXG4gICAgICAvLyBGb2N1cyB0aGUgZWxlbWVudFxuICAgICAgZGl2LmZvY3VzKCk7XG5cbiAgICAgIC8vIE1vdmUgY3Vyc29yIHRvIGVuZFxuICAgICAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgY29uc3Qgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGRpdik7XG4gICAgICByYW5nZS5jb2xsYXBzZShmYWxzZSk7XG4gICAgICBzZWw/LnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgc2VsPy5hZGRSYW5nZShyYW5nZSk7XG5cbiAgICAgIC8vIExvZyB3aGF0IGFjdHVhbGx5IGVuZGVkIHVwIGluIHRoZSBkaXYgYWZ0ZXIgUHJvc2VNaXJyb3IgcHJvY2Vzc2VkIGl0XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tDb250ZW50XSDwn5SNIEFmdGVyIFByb3NlTWlycm9yIHByb2Nlc3Npbmc6Jyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbQ29udGVudF0g8J+UjSBEaXYgaW5uZXJIVE1MIChmaXJzdCAzMDApOicsIGRpdi5pbm5lckhUTUwuc3Vic3RyaW5nKDAsIDMwMCkpO1xuICAgICAgICBjb25zb2xlLmxvZygnW0NvbnRlbnRdIPCflI0gRGl2IHRleHRDb250ZW50IChmaXJzdCAyMDApOicsIGRpdi50ZXh0Q29udGVudD8uc3Vic3RyaW5nKDAsIDIwMCkpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRm9yIENsYXVkZS9HZW1pbmkgLSB1c2UgSFRNTCB3aXRoIDxicj4gdGFnc1xuICAgICAgY29uc29sZS5sb2coJ1tDb250ZW50XSDwn46oIENsYXVkZS9HZW1pbmkgLSB1c2luZyBpbm5lckhUTUwgd2l0aCA8YnI+IHRhZ3MnKTtcblxuICAgICAgY29uc3QgaHRtbENvbnRlbnQgPSBjb250ZW50XG4gICAgICAgIC5zcGxpdCgnXFxuXFxuJykgIC8vIFNwbGl0IG9uIGRvdWJsZSBuZXdsaW5lcyAocGFyYWdyYXBocylcbiAgICAgICAgLm1hcChwYXJhZ3JhcGggPT4ge1xuICAgICAgICAgIC8vIFdpdGhpbiBlYWNoIHBhcmFncmFwaCwgcmVwbGFjZSBzaW5nbGUgbmV3bGluZXMgd2l0aCA8YnI+XG4gICAgICAgICAgcmV0dXJuIHBhcmFncmFwaC5zcGxpdCgnXFxuJykuam9pbignPGJyPicpO1xuICAgICAgICB9KVxuICAgICAgICAuam9pbignPGJyPjxicj4nKTsgIC8vIEpvaW4gcGFyYWdyYXBocyB3aXRoIGRvdWJsZSA8YnI+XG5cbiAgICAgIGNvbnNvbGUubG9nKCdbQ29udGVudF0g8J+OqCBIVE1MIGNvbnRlbnQgKGZpcnN0IDIwMCBjaGFycyk6JywgaHRtbENvbnRlbnQuc3Vic3RyaW5nKDAsIDIwMCkpO1xuXG4gICAgICAvLyBTRUNVUklUWTogU2FuaXRpemUgSFRNTCB0byBwcmV2ZW50IFhTUyBhdHRhY2tzIGZyb20gQUktZ2VuZXJhdGVkIGNvbnRlbnRcbiAgICAgIGRpdi5pbm5lckhUTUwgPSBzYW5pdGl6ZUh0bWwoaHRtbENvbnRlbnQsIHtcbiAgICAgICAgQUxMT1dFRF9UQUdTOiBbJ2JyJywgJ3AnLCAnYicsICdpJywgJ2VtJywgJ3N0cm9uZycsICdjb2RlJywgJ3ByZSddLFxuICAgICAgICBBTExPV0VEX0FUVFI6IFtdLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFRyaWdnZXIgaW5wdXQgZXZlbnQgdG8gbm90aWZ5IHRoZSBwYWdlXG4gICAgICBkaXYuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JywgeyBidWJibGVzOiB0cnVlIH0pKTtcbiAgICAgIGRpdi5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJywgeyBidWJibGVzOiB0cnVlIH0pKTtcblxuICAgICAgLy8gRm9jdXMgdGhlIGVsZW1lbnRcbiAgICAgIGRpdi5mb2N1cygpO1xuXG4gICAgICAvLyBNb3ZlIGN1cnNvciB0byBlbmRcbiAgICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgIGNvbnN0IHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhkaXYpO1xuICAgICAgcmFuZ2UuY29sbGFwc2UoZmFsc2UpO1xuICAgICAgc2VsPy5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgIHNlbD8uYWRkUmFuZ2UocmFuZ2UpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBGb3IgcmVndWxhciB0ZXh0YXJlYXMgKFBlcnBsZXhpdHksIENvcGlsb3QsIGxlZ2FjeSBDaGF0R1BUKVxuICAgIGNvbnNvbGUubG9nKCdbQ29udGVudF0g8J+TnSBVc2luZyB0ZXh0YXJlYSBwYXRoICh2YWx1ZSBwcm9wZXJ0eSknKTtcbiAgICBjb25zdCB0YSA9IHRleHRhcmVhIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gICAgdGEudmFsdWUgPSBjb250ZW50O1xuICAgIGNvbnNvbGUubG9nKCdbQ29udGVudF0g8J+TnSBUZXh0YXJlYSB2YWx1ZSBzZXQsIGxlbmd0aDonLCB0YS52YWx1ZS5sZW5ndGgpO1xuICAgIGNvbnNvbGUubG9nKCdbQ29udGVudF0g8J+TnSBUZXh0YXJlYSB2YWx1ZSAoZmlyc3QgMjAwKTonLCB0YS52YWx1ZS5zdWJzdHJpbmcoMCwgMjAwKSk7XG5cbiAgICAvLyBUcmlnZ2VyIGlucHV0IGV2ZW50c1xuICAgIHRhLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG4gICAgdGEuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG5cbiAgICAvLyBGb2N1cyBhbmQgc2V0IGN1cnNvciB0byBlbmRcbiAgICB0YS5mb2N1cygpO1xuICAgIHRhLnNldFNlbGVjdGlvblJhbmdlKGNvbnRlbnQubGVuZ3RoLCBjb250ZW50Lmxlbmd0aCk7XG4gIH1cblxuICBjb25zb2xlLmxvZygnW0NvbnRlbnRdIOKchSBUZW1wbGF0ZSBpbmplY3RlZCBzdWNjZXNzZnVsbHknKTtcbn1cblxuLy8gTGlzdGVuIGZvciBtZXNzYWdlcyBmcm9tIGluamVjdC5qcyAocGFnZSBjb250ZXh0KVxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgLy8gT25seSBhY2NlcHQgbWVzc2FnZXMgZnJvbSBvdXIgb3duIHBhZ2VcbiAgaWYgKGV2ZW50LnNvdXJjZSAhPT0gd2luZG93KSByZXR1cm47XG5cbiAgLy8gSGFuZGxlIGhlYWx0aCBjaGVjayByZXF1ZXN0cyBmcm9tIGluamVjdC5qc1xuICBpZiAoZXZlbnQuZGF0YT8uc291cmNlID09PSAnYWktcGlpLWluamVjdC1oZWFsdGgnKSB7XG4gICAgY29uc3QgeyBtZXNzYWdlSWQgfSA9IGV2ZW50LmRhdGE7XG5cbiAgICAvLyBWZXJpZnkgZnVsbCBjaGFpbjogaW5qZWN0IC0+IGNvbnRlbnQgLT4gYmFja2dyb3VuZCAtPiBjb250ZW50IC0+IGluamVjdFxuICAgIHRyeSB7XG4gICAgICAvLyBDaGVjayBpZiBleHRlbnNpb24gaXMgZW5hYmxlZCBBTkQgY3VycmVudCBkb21haW4gaXMgcHJvdGVjdGVkXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHsgdHlwZTogJ0dFVF9DT05GSUcnIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlPy5zdWNjZXNzIHx8ICFyZXNwb25zZS5kYXRhPy5zZXR0aW5ncz8uZW5hYmxlZCkge1xuICAgICAgICAvLyBFeHRlbnNpb24gaXMgZGlzYWJsZWQgZ2xvYmFsbHlcbiAgICAgICAgd2luZG93LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICBzb3VyY2U6ICdhaS1waWktY29udGVudC1oZWFsdGgnLFxuICAgICAgICAgIG1lc3NhZ2VJZCxcbiAgICAgICAgICBpc0FsaXZlOiBmYWxzZVxuICAgICAgICB9LCAnKicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGlmIGN1cnJlbnQgZG9tYWluIGlzIGluIHByb3RlY3RlZERvbWFpbnNcbiAgICAgIGNvbnN0IHByb3RlY3RlZERvbWFpbnMgPSByZXNwb25zZS5kYXRhPy5zZXR0aW5ncz8ucHJvdGVjdGVkRG9tYWlucyB8fCBbXTtcbiAgICAgIGNvbnN0IGN1cnJlbnREb21haW4gPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG4gICAgICBjb25zdCBpc0RvbWFpblByb3RlY3RlZCA9IHByb3RlY3RlZERvbWFpbnMuc29tZSgoZG9tYWluOiBzdHJpbmcpID0+XG4gICAgICAgIGN1cnJlbnREb21haW4uaW5jbHVkZXMoZG9tYWluKSB8fCBkb21haW4uaW5jbHVkZXMoY3VycmVudERvbWFpbilcbiAgICAgICk7XG5cbiAgICAgIGlmICghaXNEb21haW5Qcm90ZWN0ZWQpIHtcbiAgICAgICAgLy8gRG9tYWluIGlzIG5vdCBwcm90ZWN0ZWQgKHNlcnZpY2UgdG9nZ2xlIGlzIE9GRilcbiAgICAgICAgd2luZG93LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICBzb3VyY2U6ICdhaS1waWktY29udGVudC1oZWFsdGgnLFxuICAgICAgICAgIG1lc3NhZ2VJZCxcbiAgICAgICAgICBpc0FsaXZlOiBmYWxzZVxuICAgICAgICB9LCAnKicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFZlcmlmeSBiYWNrZ3JvdW5kIGNvbm5lY3Rpb25cbiAgICAgIGF3YWl0IGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHsgdHlwZTogJ0hFQUxUSF9DSEVDSycgfSk7XG5cbiAgICAgIC8vIElmIHdlIGdvdCBoZXJlLCB0aGUgZnVsbCBjaGFpbiBpcyB3b3JraW5nIEFORCBkb21haW4gaXMgcHJvdGVjdGVkXG4gICAgICB3aW5kb3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgICBzb3VyY2U6ICdhaS1waWktY29udGVudC1oZWFsdGgnLFxuICAgICAgICBtZXNzYWdlSWQsXG4gICAgICAgIGlzQWxpdmU6IHRydWVcbiAgICAgIH0sICcqJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIEV4dGVuc2lvbiBjb250ZXh0IGludmFsaWRhdGVkIC0gcGFnZSB3aWxsIGJlIGF1dG8tcmVsb2FkZWQgYnkgYmFja2dyb3VuZFxuICAgICAgLy8gU3VwcHJlc3MgZXJyb3IgbG9nZ2luZyBkdXJpbmcgcmVsb2FkIHRvIGF2b2lkIGNvbnNvbGUgc3BhbVxuICAgICAgY29uc3QgZXJyb3JNc2cgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG5cbiAgICAgIC8vIE9ubHkgbG9nIGlmIHRoaXMgaXMgTk9UIGEgY29udGV4dCBpbnZhbGlkYXRpb24gKHdoaWNoIGlzIGV4cGVjdGVkIGR1cmluZyByZWxvYWQpXG4gICAgICBpZiAoIWVycm9yTXNnLmluY2x1ZGVzKCdFeHRlbnNpb24gY29udGV4dCBpbnZhbGlkYXRlZCcpKSB7XG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEhlYWx0aCBjaGVjayBmYWlsZWQ6JywgZXJyb3JNc2cpO1xuICAgICAgfVxuXG4gICAgICAvLyBUcnkgdG8gbm90aWZ5IGJhY2tncm91bmQgKG1pZ2h0IGZhaWwgaWYgY29udGV4dCBsb3N0KVxuICAgICAgLy8gTm90ZTogQmFja2dyb3VuZCB3aWxsIGdldCB0YWJJZCBmcm9tIG1lc3NhZ2Ugc2VuZGVyXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgdHlwZTogJ1BST1RFQ1RJT05fTE9TVCdcbiAgICAgICAgICAvLyBObyB0YWJJZCAtIGJhY2tncm91bmQgd2lsbCBleHRyYWN0IGZyb20gc2VuZGVyLnRhYi5pZFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gU2lsZW50bHkgZmFpbCAtIHBhZ2Ugd2lsbCBhdXRvLXJlbG9hZCBhbnl3YXlcbiAgICAgIH1cblxuICAgICAgLy8gRXh0ZW5zaW9uIGNvbnRleHQgaW52YWxpZGF0ZWQgb3IgYmFja2dyb3VuZCBub3QgcmVzcG9uZGluZ1xuICAgICAgd2luZG93LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgc291cmNlOiAnYWktcGlpLWNvbnRlbnQtaGVhbHRoJyxcbiAgICAgICAgbWVzc2FnZUlkLFxuICAgICAgICBpc0FsaXZlOiBmYWxzZVxuICAgICAgfSwgJyonKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBIYW5kbGUgXCJub3QgcHJvdGVjdGVkXCIgbW9kYWwgcmVxdWVzdCBmcm9tIGluamVjdC5qc1xuICBpZiAoZXZlbnQuZGF0YT8uc291cmNlID09PSAnYWktcGlpLWluamVjdC1ub3QtcHJvdGVjdGVkJykge1xuICAgIGNvbnN0IHsgbWVzc2FnZUlkIH0gPSBldmVudC5kYXRhO1xuXG4gICAgY29uc29sZS5sb2coJ/Cfm5EgU2hvd2luZyBOT1QgUFJPVEVDVEVEIG1vZGFsJyk7XG5cbiAgICBjb25zdCB1c2VyQWN0aW9uID0gYXdhaXQgc2hvd05vdFByb3RlY3RlZE1vZGFsKCk7XG5cbiAgICAvLyBTZW5kIHJlc3BvbnNlIGJhY2sgdG8gaW5qZWN0LmpzXG4gICAgd2luZG93LnBvc3RNZXNzYWdlKHtcbiAgICAgIHNvdXJjZTogJ2FpLXBpaS1jb250ZW50LW5vdC1wcm90ZWN0ZWQnLFxuICAgICAgbWVzc2FnZUlkLFxuICAgICAgYWN0aW9uOiB1c2VyQWN0aW9uIC8vICdyZWxvYWQnIHwgJ2Rpc2FibGUnXG4gICAgfSwgJyonKTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEhhbmRsZSBBUEkga2V5IHdhcm5pbmcgcmVxdWVzdHMgZnJvbSBpbmplY3QuanNcbiAgaWYgKGV2ZW50LmRhdGE/LnNvdXJjZSA9PT0gJ2FpLXBpaS1pbmplY3Qtd2FybmluZycpIHtcbiAgICBjb25zdCB7IG1lc3NhZ2VJZCwga2V5c0RldGVjdGVkLCBrZXlUeXBlcyB9ID0gZXZlbnQuZGF0YTtcblxuICAgIGNvbnNvbGUubG9nKCfimqDvuI8gU2hvd2luZyBBUEkga2V5IHdhcm5pbmcgbW9kYWwnKTtcblxuICAgIGNvbnN0IGFsbG93ID0gYXdhaXQgc2hvd0FQSUtleVdhcm5pbmcoeyBrZXlzRGV0ZWN0ZWQsIGtleVR5cGVzIH0pO1xuXG4gICAgLy8gU2VuZCByZXNwb25zZSBiYWNrIHRvIGluamVjdC5qc1xuICAgIHdpbmRvdy5wb3N0TWVzc2FnZSh7XG4gICAgICBzb3VyY2U6ICdhaS1waWktY29udGVudC13YXJuaW5nJyxcbiAgICAgIG1lc3NhZ2VJZCxcbiAgICAgIGFsbG93XG4gICAgfSwgJyonKTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIG1lc3NhZ2UgaXMgZnJvbSBvdXIgaW5qZWN0IHNjcmlwdFxuICBpZiAoZXZlbnQuZGF0YT8uc291cmNlICE9PSAnYWktcGlpLWluamVjdCcpIHJldHVybjtcblxuICBjb25zdCB7IG1lc3NhZ2VJZCwgdHlwZSwgcGF5bG9hZCB9ID0gZXZlbnQuZGF0YTtcblxuICBjb25zb2xlLmxvZygn8J+UhCBDb250ZW50IHNjcmlwdCByZWxheWluZzonLCB0eXBlKTtcblxuICB0cnkge1xuICAgIC8vIEZvcndhcmQgdG8gYmFja2dyb3VuZCBzY3JpcHRcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGUsXG4gICAgICBwYXlsb2FkXG4gICAgfSk7XG5cbiAgICAvLyBTZW5kIHJlc3BvbnNlIGJhY2sgdG8gaW5qZWN0LmpzXG4gICAgd2luZG93LnBvc3RNZXNzYWdlKHtcbiAgICAgIHNvdXJjZTogJ2FpLXBpaS1jb250ZW50JyxcbiAgICAgIG1lc3NhZ2VJZCxcbiAgICAgIHJlc3BvbnNlXG4gICAgfSwgJyonKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgQ29udGVudCBzY3JpcHQgcmVsYXkgZXJyb3I6JywgZXJyb3IpO1xuXG4gICAgLy8gQ2hlY2sgaWYgZXh0ZW5zaW9uIHdhcyBpbnZhbGlkYXRlZCAoY29tbW9uIGR1cmluZyBkZXZlbG9wbWVudClcbiAgICBjb25zdCBlcnJvck1zZyA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICBpZiAoZXJyb3JNc2cuaW5jbHVkZXMoJ0V4dGVuc2lvbiBjb250ZXh0IGludmFsaWRhdGVkJykpIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEV4dGVuc2lvbiByZWxvYWRlZCAtIHBsZWFzZSByZWZyZXNoIHRoaXMgcGFnZSAoQ3RybCtTaGlmdCtSKScpO1xuICAgIH1cblxuICAgIC8vIFNlbmQgZXJyb3IgcmVzcG9uc2UgYmFja1xuICAgIHdpbmRvdy5wb3N0TWVzc2FnZSh7XG4gICAgICBzb3VyY2U6ICdhaS1waWktY29udGVudCcsXG4gICAgICBtZXNzYWdlSWQsXG4gICAgICByZXNwb25zZToge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yTXNnXG4gICAgICB9XG4gICAgfSwgJyonKTtcbiAgfVxufSk7XG5cbi8qKlxuICogU2hvdyBBUEkgS2V5IFdhcm5pbmcgTW9kYWxcbiAqIFJldHVybnMgUHJvbWlzZTxzdHJpbmc+IC0gJ2Jsb2NrJywgJ2FsbG93LWtleS1vbmx5Jywgb3IgJ2FsbG93LWFsbCdcbiAqL1xuZnVuY3Rpb24gc2hvd0FQSUtleVdhcm5pbmcocGF5bG9hZDogeyBrZXlzRGV0ZWN0ZWQ6IG51bWJlcjsga2V5VHlwZXM6IHN0cmluZ1tdIH0pOiBQcm9taXNlPCdibG9jaycgfCAnYWxsb3cta2V5LW9ubHknIHwgJ2FsbG93LWFsbCc+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgLy8gUmVtb3ZlIGV4aXN0aW5nIG1vZGFsIGlmIGFueVxuICAgIGNvbnN0IGV4aXN0aW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwaS1rZXktd2FybmluZy1tb2RhbCcpO1xuICAgIGlmIChleGlzdGluZykgZXhpc3RpbmcucmVtb3ZlKCk7XG5cbiAgICAvLyBDcmVhdGUgbW9kYWwgb3ZlcmxheVxuICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbW9kYWwuaWQgPSAnYXBpLWtleS13YXJuaW5nLW1vZGFsJztcbiAgICBtb2RhbC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgdG9wOiAwO1xuICAgICAgbGVmdDogMDtcbiAgICAgIHJpZ2h0OiAwO1xuICAgICAgYm90dG9tOiAwO1xuICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjcpO1xuICAgICAgei1pbmRleDogOTk5OTk5O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICdTZWdvZSBVSScsIFJvYm90bywgc2Fucy1zZXJpZjtcbiAgICAgIGFuaW1hdGlvbjogZmFkZUluIDAuMnMgZWFzZS1vdXQ7XG4gICAgYDtcblxuICAgIC8vIENyZWF0ZSBtb2RhbCBjb250ZW50IHdpdGggZ2xhc3Ntb3JwaGlzbVxuICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb250ZW50LnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOTUpO1xuICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDIwcHgpO1xuICAgICAgLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6IGJsdXIoMjBweCk7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyk7XG4gICAgICBib3JkZXItcmFkaXVzOiAxNnB4O1xuICAgICAgcGFkZGluZzogMDtcbiAgICAgIG1heC13aWR0aDogNDgwcHg7XG4gICAgICB3aWR0aDogOTAlO1xuICAgICAgYm94LXNoYWRvdzogMCAyMHB4IDYwcHggcmdiYSgwLCAwLCAwLCAwLjMpLCAwIDAgMCAxcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpIGluc2V0O1xuICAgICAgYW5pbWF0aW9uOiBzbGlkZVVwIDAuM3MgZWFzZS1vdXQ7XG4gICAgYDtcblxuICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gYFxuICAgICAgPHN0eWxlPlxuICAgICAgICBAa2V5ZnJhbWVzIGZhZGVJbiB7XG4gICAgICAgICAgZnJvbSB7IG9wYWNpdHk6IDA7IH1cbiAgICAgICAgICB0byB7IG9wYWNpdHk6IDE7IH1cbiAgICAgICAgfVxuICAgICAgICBAa2V5ZnJhbWVzIHNsaWRlVXAge1xuICAgICAgICAgIGZyb20geyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMjBweCk7IG9wYWNpdHk6IDA7IH1cbiAgICAgICAgICB0byB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgb3BhY2l0eTogMTsgfVxuICAgICAgICB9XG4gICAgICA8L3N0eWxlPlxuICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNmNTllMGIgMCUsICNkOTc3MDYgMTAwJSk7IHBhZGRpbmc6IDI0cHg7IGJvcmRlci1yYWRpdXM6IDE2cHggMTZweCAwIDA7IGNvbG9yOiB3aGl0ZTtcIj5cbiAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogMTJweDtcIj5cbiAgICAgICAgICA8c3ZnIHdpZHRoPVwiMzJcIiBoZWlnaHQ9XCIzMlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIj5cbiAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTAuMjkgMy44NkwxLjgyIDE4YTIgMiAwIDAgMCAxLjcxIDNoMTYuOTRhMiAyIDAgMCAwIDEuNzEtM0wxMy43MSAzLjg2YTIgMiAwIDAgMC0zLjQyIDB6XCI+PC9wYXRoPlxuICAgICAgICAgICAgPGxpbmUgeDE9XCIxMlwiIHkxPVwiOVwiIHgyPVwiMTJcIiB5Mj1cIjEzXCI+PC9saW5lPlxuICAgICAgICAgICAgPGxpbmUgeDE9XCIxMlwiIHkxPVwiMTdcIiB4Mj1cIjEyLjAxXCIgeTI9XCIxN1wiPjwvbGluZT5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8aDMgc3R5bGU9XCJtYXJnaW46IDA7IGZvbnQtc2l6ZTogMjBweDsgZm9udC13ZWlnaHQ6IDYwMDtcIj5BUEkgS2V5IERldGVjdGVkITwvaDM+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogMjRweDsgY29sb3I6ICMxZjI5Mzc7IGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KTsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpO1wiPlxuICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbjogMCAwIDE2cHggMDsgZm9udC1zaXplOiAxNXB4OyBsaW5lLWhlaWdodDogMS42OyBjb2xvcjogIzExMTgyNztcIj5cbiAgICAgICAgICA8c3Ryb25nPllvdSdyZSBhYm91dCB0byBzZW5kICR7cGF5bG9hZC5rZXlzRGV0ZWN0ZWR9IEFQSSBrZXkke3BheWxvYWQua2V5c0RldGVjdGVkID4gMSA/ICdzJyA6ICcnfSB0byBhbiBBSSBzZXJ2aWNlOjwvc3Ryb25nPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxkaXYgc3R5bGU9XCJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NCwgMjQzLCAxOTksIDAuOCk7XG4gICAgICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpO1xuICAgICAgICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgI2Y1OWUwYjtcbiAgICAgICAgICBwYWRkaW5nOiAxMnB4IDE2cHg7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMjQ1LCAxNTgsIDExLCAwLjEpO1xuICAgICAgICBcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAxM3B4OyBjb2xvcjogIzkyNDAwZTsgZm9udC13ZWlnaHQ6IDYwMDtcIj5cbiAgICAgICAgICAgICR7cGF5bG9hZC5rZXlUeXBlcy5tYXAodHlwZSA9PiBg4oCiICR7ZXNjYXBlSHRtbCh0eXBlLnRvVXBwZXJDYXNlKCkpfSBBUEkgS2V5YCkuam9pbignPGJyPicpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW46IDAgMCAxMnB4IDA7IGZvbnQtc2l6ZTogMTRweDsgY29sb3I6ICMzNzQxNTE7IGxpbmUtaGVpZ2h0OiAxLjU7XCI+XG4gICAgICAgICAgU2VuZGluZyBBUEkga2V5cyB0byBBSSBzZXJ2aWNlcyBpcyA8c3Ryb25nIHN0eWxlPVwiY29sb3I6ICNkYzI2MjY7XCI+bm90IHJlY29tbWVuZGVkPC9zdHJvbmc+IGFzIHRoZXkgY291bGQgYmUgbG9nZ2VkIG9yIG1pc3VzZWQuXG4gICAgICAgIDwvcD5cbiAgICAgICAgPGRpdiBzdHlsZT1cIlxuICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjM5LCA2OCwgNjgsIDAuMSk7XG4gICAgICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpO1xuICAgICAgICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgI2VmNDQ0NDtcbiAgICAgICAgICBwYWRkaW5nOiAxMnB4IDE2cHg7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICAgIG1hcmdpbi10b3A6IDEycHg7XG4gICAgICAgIFwiPlxuICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luOiAwOyBmb250LXNpemU6IDEzcHg7IGNvbG9yOiAjN2YxZDFkOyBmb250LXdlaWdodDogNjAwOyBsaW5lLWhlaWdodDogMS41O1wiPlxuICAgICAgICAgICAg4pqg77iPIDxzdHJvbmc+SW1wb3J0YW50Ojwvc3Ryb25nPiBJZiB5b3UgY2hvb3NlIFwiU2VuZCBFdmVyeXRoaW5nIFVucHJvdGVjdGVkXCIsIDxzdHJvbmc+QUxMIHByb3RlY3Rpb24gd2lsbCBiZSBkaXNhYmxlZDwvc3Ryb25nPiBmb3IgdGhpcyBtZXNzYWdlIChpbmNsdWRpbmcgUElJIGFsaWFzZXMpLlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgc3R5bGU9XCJwYWRkaW5nOiAwIDI0cHggMjRweCAyNHB4OyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBnYXA6IDEwcHg7XCI+XG4gICAgICAgIDxidXR0b24gaWQ9XCJhcGkta2V5LWJsb2NrXCIgc3R5bGU9XCJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZWY0NDQ0IDAlLCAjZGMyNjI2IDEwMCUpO1xuICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgcGFkZGluZzogMTRweCAyNHB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgICBmb250LXNpemU6IDE1cHg7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG4gICAgICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMjM5LCA2OCwgNjgsIDAuMyk7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgIGdhcDogOHB4O1xuICAgICAgICBcIj5cbiAgICAgICAgICA8c3BhbiBzdHlsZT1cImZvbnQtc2l6ZTogMThweDtcIj7wn5uh77iPPC9zcGFuPlxuICAgICAgICAgIDxzcGFuPkJsb2NrIEV2ZXJ5dGhpbmc8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGlkPVwiYXBpLWtleS1hbGxvdy1waWktcHJvdGVjdGVkXCIgc3R5bGU9XCJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZjU5ZTBiIDAlLCAjZDk3NzA2IDEwMCUpO1xuICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgcGFkZGluZzogMTRweCAyNHB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgICBmb250LXNpemU6IDE1cHg7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG4gICAgICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMjQ1LCAxNTgsIDExLCAwLjMpO1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgXCI+XG4gICAgICAgICAgPHNwYW4gc3R5bGU9XCJmb250LXNpemU6IDE4cHg7XCI+8J+UkTwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj5TZW5kIEFQSSBLZXkgT25seSAoUElJIFByb3RlY3RlZCk8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGlkPVwiYXBpLWtleS1hbGxvdy1hbGxcIiBzdHlsZT1cIlxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2YjcyODAgMCUsICM0YjU1NjMgMTAwJSk7XG4gICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICBwYWRkaW5nOiAxNHB4IDI0cHg7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIFwiPlxuICAgICAgICAgIDxzcGFuIHN0eWxlPVwiZm9udC1zaXplOiAxOHB4O1wiPuKaoO+4jzwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj5TZW5kIEV2ZXJ5dGhpbmcgVW5wcm90ZWN0ZWQ8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgYDtcblxuICAgIG1vZGFsLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpO1xuXG4gICAgLy8gQWRkIGhvdmVyIGVmZmVjdHNcbiAgICBjb25zdCBibG9ja0J0biA9IGNvbnRlbnQucXVlcnlTZWxlY3RvcignI2FwaS1rZXktYmxvY2snKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICBjb25zdCBhbGxvd1BpaVByb3RlY3RlZEJ0biA9IGNvbnRlbnQucXVlcnlTZWxlY3RvcignI2FwaS1rZXktYWxsb3ctcGlpLXByb3RlY3RlZCcpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgIGNvbnN0IGFsbG93QWxsQnRuID0gY29udGVudC5xdWVyeVNlbGVjdG9yKCcjYXBpLWtleS1hbGxvdy1hbGwnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcblxuICAgIC8vIEhvdmVyIGVmZmVjdCBmb3IgYmxvY2sgYnV0dG9uXG4gICAgYmxvY2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcbiAgICAgIGJsb2NrQnRuLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKC0ycHgpJztcbiAgICAgIGJsb2NrQnRuLnN0eWxlLmJveFNoYWRvdyA9ICcwIDRweCAxNnB4IHJnYmEoMjM5LCA2OCwgNjgsIDAuNCknO1xuICAgIH0pO1xuICAgIGJsb2NrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgICBibG9ja0J0bi5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgwKSc7XG4gICAgICBibG9ja0J0bi5zdHlsZS5ib3hTaGFkb3cgPSAnMCAycHggOHB4IHJnYmEoMjM5LCA2OCwgNjgsIDAuMyknO1xuICAgIH0pO1xuXG4gICAgLy8gSG92ZXIgZWZmZWN0IGZvciBhbGxvdyBQSUkgcHJvdGVjdGVkIGJ1dHRvblxuICAgIGFsbG93UGlpUHJvdGVjdGVkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKSA9PiB7XG4gICAgICBhbGxvd1BpaVByb3RlY3RlZEJ0bi5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtMnB4KSc7XG4gICAgICBhbGxvd1BpaVByb3RlY3RlZEJ0bi5zdHlsZS5ib3hTaGFkb3cgPSAnMCA0cHggMTZweCByZ2JhKDI0NSwgMTU4LCAxMSwgMC40KSc7XG4gICAgfSk7XG4gICAgYWxsb3dQaWlQcm90ZWN0ZWRCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcbiAgICAgIGFsbG93UGlpUHJvdGVjdGVkQnRuLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDApJztcbiAgICAgIGFsbG93UGlpUHJvdGVjdGVkQnRuLnN0eWxlLmJveFNoYWRvdyA9ICcwIDJweCA4cHggcmdiYSgyNDUsIDE1OCwgMTEsIDAuMyknO1xuICAgIH0pO1xuXG4gICAgLy8gSG92ZXIgZWZmZWN0IGZvciBhbGxvdyBhbGwgYnV0dG9uXG4gICAgYWxsb3dBbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcbiAgICAgIGFsbG93QWxsQnRuLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKC0ycHgpJztcbiAgICAgIGFsbG93QWxsQnRuLnN0eWxlLmJveFNoYWRvdyA9ICcwIDRweCAxMnB4IHJnYmEoMTA3LCAxMTQsIDEyOCwgMC40KSc7XG4gICAgfSk7XG4gICAgYWxsb3dBbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcbiAgICAgIGFsbG93QWxsQnRuLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDApJztcbiAgICAgIGFsbG93QWxsQnRuLnN0eWxlLmJveFNoYWRvdyA9ICdub25lJztcbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSBidXR0b24gY2xpY2tzXG4gICAgYmxvY2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBtb2RhbC5yZW1vdmUoKTtcbiAgICAgIHJlc29sdmUoJ2Jsb2NrJyk7IC8vIEJsb2NrIGV2ZXJ5dGhpbmdcbiAgICB9KTtcblxuICAgIGFsbG93UGlpUHJvdGVjdGVkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgICByZXNvbHZlKCdhbGxvdy1rZXktb25seScpOyAvLyBBbGxvdyBBUEkga2V5LCBwcm90ZWN0IFBJSVxuICAgIH0pO1xuXG4gICAgYWxsb3dBbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBtb2RhbC5yZW1vdmUoKTtcbiAgICAgIHJlc29sdmUoJ2FsbG93LWFsbCcpOyAvLyBBbGxvdyBldmVyeXRoaW5nIHVucHJvdGVjdGVkXG4gICAgfSk7XG5cbiAgICAvLyBCbG9jayBvbiBlc2NhcGUga2V5XG4gICAgY29uc3QgaGFuZGxlRXNjYXBlID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVFc2NhcGUpO1xuICAgICAgICByZXNvbHZlKCdibG9jaycpOyAvLyBCbG9jayBieSBkZWZhdWx0XG4gICAgICB9XG4gICAgfTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlRXNjYXBlKTtcbiAgfSk7XG59XG5cbi8qKlxuICogU2hvdyBFeHRlbnNpb24gTm90IFByb3RlY3RlZCBNb2RhbFxuICogUmV0dXJucyBQcm9taXNlPHN0cmluZz4gLSAncmVsb2FkJyBvciAnZGlzYWJsZSdcbiAqL1xuZnVuY3Rpb24gc2hvd05vdFByb3RlY3RlZE1vZGFsKCk6IFByb21pc2U8J3JlbG9hZCcgfCAnZGlzYWJsZSc+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgLy8gUmVtb3ZlIGV4aXN0aW5nIG1vZGFsIGlmIGFueVxuICAgIGNvbnN0IGV4aXN0aW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vdC1wcm90ZWN0ZWQtbW9kYWwnKTtcbiAgICBpZiAoZXhpc3RpbmcpIGV4aXN0aW5nLnJlbW92ZSgpO1xuXG4gICAgLy8gQ3JlYXRlIG1vZGFsIG92ZXJsYXlcbiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1vZGFsLmlkID0gJ25vdC1wcm90ZWN0ZWQtbW9kYWwnO1xuICAgIG1vZGFsLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICB0b3A6IDA7XG4gICAgICBsZWZ0OiAwO1xuICAgICAgcmlnaHQ6IDA7XG4gICAgICBib3R0b206IDA7XG4gICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuODUpO1xuICAgICAgei1pbmRleDogMjE0NzQ4MzY0NztcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAnU2Vnb2UgVUknLCBSb2JvdG8sIHNhbnMtc2VyaWY7XG4gICAgICBhbmltYXRpb246IGZhZGVJbiAwLjJzIGVhc2Utb3V0O1xuICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG87XG4gICAgYDtcblxuICAgIC8vIENyZWF0ZSBtb2RhbCBjb250ZW50IC0gc21hbGxlciwgYnJhbmRlZCBkZXNpZ25cbiAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29udGVudC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgYmFja2dyb3VuZDogIzFhMjAyYztcbiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgICBwYWRkaW5nOiAwO1xuICAgICAgbWF4LXdpZHRoOiAzNjBweDtcbiAgICAgIGJveC1zaGFkb3c6IDAgMjBweCA2MHB4IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTAyLCAxMjYsIDIzNCwgMC4zKTtcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgei1pbmRleDogMTtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgYDtcblxuICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBzdHlsZT1cIlxuICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpO1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBcIj5cbiAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMzZweDsgbWFyZ2luLWJvdHRvbTogOHB4O1wiPvCfm6HvuI88L2Rpdj5cbiAgICAgICAgPGgyIHN0eWxlPVwibWFyZ2luOiAwOyBjb2xvcjogd2hpdGU7IGZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IDYwMDtcIj5cbiAgICAgICAgICBQcm90ZWN0aW9uIFVwZGF0ZSBSZXF1aXJlZFxuICAgICAgICA8L2gyPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgc3R5bGU9XCJwYWRkaW5nOiAyMHB4OyBjb2xvcjogI2UyZThmMDtcIj5cbiAgICAgICAgPGRpdiBzdHlsZT1cIlxuICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjM5LCA2OCwgNjgsIDAuMTUpO1xuICAgICAgICAgIGJvcmRlci1sZWZ0OiAzcHggc29saWQgI2VmNDQ0NDtcbiAgICAgICAgICBwYWRkaW5nOiAxMnB4IDE0cHg7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgIFwiPlxuICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luOiAwOyBjb2xvcjogI2ZjYTVhNTsgZm9udC1zaXplOiAxM3B4OyBmb250LXdlaWdodDogNjAwOyBsaW5lLWhlaWdodDogMS41O1wiPlxuICAgICAgICAgICAg4pqg77iPIDxzdHJvbmcgc3R5bGU9XCJjb2xvcjogI2VmNDQ0NDtcIj5Db25uZWN0aW9uIExvc3Q6PC9zdHJvbmc+IFlvdXIgZGF0YSBjYW5ub3QgYmUgcHJvdGVjdGVkIHVudGlsIHRoZSBwYWdlIGlzIHJlZnJlc2hlZC5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxwIHN0eWxlPVwibWFyZ2luOiAwIDAgMTZweCAwOyBjb2xvcjogI2NiZDVlMDsgZm9udC1zaXplOiAxNHB4OyBsaW5lLWhlaWdodDogMS41OyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG4gICAgICAgICAgQ2hvb3NlIGFuIG9wdGlvbiB0byBjb250aW51ZTpcbiAgICAgICAgPC9wPlxuXG4gICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBnYXA6IDEwcHg7XCI+XG4gICAgICAgICAgPGJ1dHRvbiBpZD1cIm5vdC1wcm90ZWN0ZWQtcmVsb2FkXCIgc3R5bGU9XCJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7XG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDIwcHg7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgxMDIsIDEyNiwgMjM0LCAwLjQpO1xuICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG87XG4gICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgXCI+XG4gICAgICAgICAgICDwn5SEIFJlbG9hZCBQYWdlXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBpZD1cIm5vdC1wcm90ZWN0ZWQtZGlzYWJsZVwiIHN0eWxlPVwiXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDUpO1xuICAgICAgICAgICAgY29sb3I6ICNhMGFlYzA7XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDIwcHg7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcbiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xuICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgIFwiPlxuICAgICAgICAgICAg4pqg77iPIERpc2FibGUgRXh0ZW5zaW9uXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgc3R5bGU9XCJcbiAgICAgICAgICBtYXJnaW46IDE0cHggMCAwIDA7XG4gICAgICAgICAgcGFkZGluZzogMTBweCAxMnB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC4xKTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxMDIsIDEyNiwgMjM0LCAwLjIpO1xuICAgICAgICBcIj5cbiAgICAgICAgICA8cCBzdHlsZT1cIlxuICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgY29sb3I6ICNhNWI0ZmM7XG4gICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNDtcbiAgICAgICAgICBcIj5cbiAgICAgICAgICAgIPCfkqEgUHJlc3MgPGtiZCBzdHlsZT1cIlxuICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC4yKTtcbiAgICAgICAgICAgICAgcGFkZGluZzogMnB4IDZweDtcbiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICAgICAgICBmb250LWZhbWlseTogJ0NvdXJpZXIgTmV3JywgbW9ub3NwYWNlO1xuICAgICAgICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG4gICAgICAgICAgICAgIGNvbG9yOiAjYzdkMmZlO1xuICAgICAgICAgICAgXCI+Q3RybCtTaGlmdCtSPC9rYmQ+IGZvciBoYXJkIHJlZnJlc2hcbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcblxuICAgIG1vZGFsLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpO1xuXG4gICAgY29uc29sZS5sb2coJ/Cfm5EgTk9UIFBST1RFQ1RFRCBtb2RhbCBkaXNwbGF5ZWQnKTtcblxuICAgIC8vIEJ1dHRvbiBoYW5kbGVyc1xuICAgIGNvbnN0IHJlbG9hZEJ0biA9IGNvbnRlbnQucXVlcnlTZWxlY3RvcignI25vdC1wcm90ZWN0ZWQtcmVsb2FkJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgY29uc3QgZGlzYWJsZUJ0biA9IGNvbnRlbnQucXVlcnlTZWxlY3RvcignI25vdC1wcm90ZWN0ZWQtZGlzYWJsZScpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuXG4gICAgaWYgKCFyZWxvYWRCdG4gfHwgIWRpc2FibGVCdG4pIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBNb2RhbCBidXR0b25zIG5vdCBmb3VuZCEnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygn4pyFIE1vZGFsIGJ1dHRvbnMgYXR0YWNoZWQ6JywgcmVsb2FkQnRuLCBkaXNhYmxlQnRuKTtcblxuICAgIC8vIFVzZSBib3RoIGFkZEV2ZW50TGlzdGVuZXIgQU5EIG9uY2xpY2sgZm9yIG1heGltdW0gY29tcGF0aWJpbGl0eVxuICAgIGNvbnN0IGhhbmRsZVJlbG9hZCA9IChlPzogRXZlbnQpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFVzZXIgY2xpY2tlZCBSZWxvYWQgLSByZWxvYWRpbmcgcGFnZScsIGUpO1xuICAgICAgaWYgKGUpIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBtb2RhbC5yZW1vdmUoKTtcbiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgcmVzb2x2ZSgncmVsb2FkJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZURpc2FibGUgPSBhc3luYyAoZT86IEV2ZW50KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygn4pqg77iPIFVzZXIgY2xpY2tlZCBEaXNhYmxlIEV4dGVuc2lvbicsIGUpO1xuICAgICAgaWYgKGUpIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgIC8vIFNlbmQgbWVzc2FnZSB0byBiYWNrZ3JvdW5kIHRvIGRpc2FibGUgZXh0ZW5zaW9uXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgdHlwZTogJ0RJU0FCTEVfRVhURU5TSU9OJ1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBFeHRlbnNpb24gZGlzYWJsZWQnKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gZGlzYWJsZSBleHRlbnNpb246JywgZXJyb3IpO1xuICAgICAgfVxuXG4gICAgICBtb2RhbC5yZW1vdmUoKTtcbiAgICAgIHJlc29sdmUoJ2Rpc2FibGUnKTtcbiAgICB9O1xuXG4gICAgLy8gVHJ5IG11bHRpcGxlIGV2ZW50IGJpbmRpbmcgbWV0aG9kc1xuICAgIHJlbG9hZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVJlbG9hZCwgdHJ1ZSk7IC8vIFVzZSBjYXB0dXJlIHBoYXNlXG4gICAgcmVsb2FkQnRuLm9uY2xpY2sgPSBoYW5kbGVSZWxvYWQ7XG5cbiAgICBkaXNhYmxlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlRGlzYWJsZSwgdHJ1ZSk7IC8vIFVzZSBjYXB0dXJlIHBoYXNlXG4gICAgZGlzYWJsZUJ0bi5vbmNsaWNrID0gaGFuZGxlRGlzYWJsZTtcblxuICAgIC8vIEhvdmVyIGVmZmVjdHNcbiAgICByZWxvYWRCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcbiAgICAgIHJlbG9hZEJ0bi5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtMnB4KSc7XG4gICAgICByZWxvYWRCdG4uc3R5bGUuYm94U2hhZG93ID0gJzAgNnB4IDIwcHggcmdiYSgxMDIsIDEyNiwgMjM0LCAwLjUpJztcbiAgICB9KTtcbiAgICByZWxvYWRCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcbiAgICAgIHJlbG9hZEJ0bi5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgwKSc7XG4gICAgICByZWxvYWRCdG4uc3R5bGUuYm94U2hhZG93ID0gJzAgNHB4IDEycHggcmdiYSgxMDIsIDEyNiwgMjM0LCAwLjQpJztcbiAgICB9KTtcblxuICAgIGRpc2FibGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcbiAgICAgIGRpc2FibGVCdG4uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTJweCknO1xuICAgICAgZGlzYWJsZUJ0bi5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JnYmEoMCwgMCwgMCwgMC4wOCknO1xuICAgIH0pO1xuICAgIGRpc2FibGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcbiAgICAgIGRpc2FibGVCdG4uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoMCknO1xuICAgICAgZGlzYWJsZUJ0bi5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JnYmEoMCwgMCwgMCwgMC4wNSknO1xuICAgIH0pO1xuXG4gICAgLy8gRVNDIGtleSB0byBkZWZhdWx0IHRvIHJlbG9hZCAoc2FmZXIgZGVmYXVsdClcbiAgICBjb25zdCBoYW5kbGVFc2NhcGUgPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIGhhbmRsZVJlbG9hZCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBDdHJsK1NoaWZ0K1IgZm9yIGhhcmQgcmVmcmVzaCAoYXMgbWVudGlvbmVkIGluIHRoZSBoaW50KVxuICAgIGNvbnN0IGhhbmRsZUN0cmxTaGlmdFIgPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgaWYgKGUuY3RybEtleSAmJiBlLnNoaWZ0S2V5ICYmIChlLmtleSA9PT0gJ1InIHx8IGUua2V5ID09PSAncicpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfijKjvuI8gVXNlciBwcmVzc2VkIEN0cmwrU2hpZnQrUiAtIHRyaWdnZXJpbmcgaGFyZCByZWxvYWQnKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBQcmV2ZW50IGRlZmF1bHQgYnJvd3NlciBoYXJkIHJlZnJlc2hcbiAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAvLyBVc2UgbG9jYXRpb24ucmVsb2FkKHRydWUpIGZvciBoYXJkIHJlZnJlc2ggKGJ5cGFzc2VzIGNhY2hlKVxuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIENsZWFudXAgZnVuY3Rpb24gdG8gcmVtb3ZlIGV2ZW50IGxpc3RlbmVyc1xuICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlRXNjYXBlKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVDdHJsU2hpZnRSKTtcbiAgICB9O1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUVzY2FwZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUN0cmxTaGlmdFIpO1xuICB9KTtcbn1cbiIsIi8qKlxuICogSFRNTCBTYW5pdGl6ZXIgVXRpbGl0eVxuICogVXNlcyBET01QdXJpZnkgdG8gcHJldmVudCBYU1MgYXR0YWNrc1xuICpcbiAqIFVzZSB0aGlzIEVWRVJZV0hFUkUgeW91IHNldCBpbm5lckhUTUwgb3IgaW5zZXJ0IHVzZXIvQUktZ2VuZXJhdGVkIGNvbnRlbnRcbiAqL1xuXG5pbXBvcnQgRE9NUHVyaWZ5IGZyb20gJ2RvbXB1cmlmeSc7XG5cbi8qKlxuICogU2FuaXRpemUgSFRNTCB0byBwcmV2ZW50IFhTUyBhdHRhY2tzXG4gKlxuICogQHBhcmFtIGRpcnR5IC0gVW50cnVzdGVkIEhUTUwgc3RyaW5nICh1c2VyIGlucHV0LCBBSSByZXNwb25zZXMsIGV0Yy4pXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbmFsIERPTVB1cmlmeSBjb25maWd1cmF0aW9uXG4gKiBAcmV0dXJucyBTYWZlIEhUTUwgc3RyaW5nIHdpdGggbWFsaWNpb3VzIGNvZGUgcmVtb3ZlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBCYXNpYyB1c2FnZVxuICogZWxlbWVudC5pbm5lckhUTUwgPSBzYW5pdGl6ZUh0bWwodXNlcklucHV0KTtcbiAqXG4gKiAvLyBXaXRoIGN1c3RvbSBvcHRpb25zXG4gKiBlbGVtZW50LmlubmVySFRNTCA9IHNhbml0aXplSHRtbChjb250ZW50LCB7XG4gKiAgIEFMTE9XRURfVEFHUzogWydiJywgJ2knLCAnZW0nLCAnc3Ryb25nJywgJ3AnXSxcbiAqICAgQUxMT1dFRF9BVFRSOiBbJ2NsYXNzJ11cbiAqIH0pO1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVIdG1sKFxuICBkaXJ0eTogc3RyaW5nLFxuICBvcHRpb25zPzogRE9NUHVyaWZ5LkNvbmZpZ1xuKTogc3RyaW5nIHtcbiAgLy8gRGVmYXVsdCBjb25maWd1cmF0aW9uOiBBbGxvdyBjb21tb24gZm9ybWF0dGluZyB0YWdzLCBubyBzY3JpcHRzL2V2ZW50c1xuICBjb25zdCBkZWZhdWx0Q29uZmlnOiBET01QdXJpZnkuQ29uZmlnID0ge1xuICAgIEFMTE9XRURfVEFHUzogW1xuICAgICAgLy8gVGV4dCBmb3JtYXR0aW5nXG4gICAgICAnYicsICdpJywgJ2VtJywgJ3N0cm9uZycsICd1JywgJ3MnLCAnbWFyaycsXG4gICAgICAvLyBTdHJ1Y3R1cmVcbiAgICAgICdwJywgJ2JyJywgJ2RpdicsICdzcGFuJywgJ3ByZScsICdjb2RlJyxcbiAgICAgIC8vIExpc3RzXG4gICAgICAndWwnLCAnb2wnLCAnbGknLFxuICAgICAgLy8gSGVhZGluZ3NcbiAgICAgICdoMScsICdoMicsICdoMycsICdoNCcsICdoNScsICdoNicsXG4gICAgICAvLyBMaW5rcyAoaHJlZiBpcyBzYW5pdGl6ZWQgYnkgRE9NUHVyaWZ5KVxuICAgICAgJ2EnLFxuICAgICAgLy8gVGFibGVzXG4gICAgICAndGFibGUnLCAndGhlYWQnLCAndGJvZHknLCAndHInLCAndGgnLCAndGQnLFxuICAgIF0sXG4gICAgQUxMT1dFRF9BVFRSOiBbXG4gICAgICAnY2xhc3MnLFxuICAgICAgJ3N0eWxlJywgLy8gRE9NUHVyaWZ5IHNhbml0aXplcyBpbmxpbmUgc3R5bGVzXG4gICAgICAnaHJlZicsICAvLyBET01QdXJpZnkgc2FuaXRpemVzIFVSTHMgKGJsb2NrcyBqYXZhc2NyaXB0OilcbiAgICAgICd0YXJnZXQnLFxuICAgICAgJ3JlbCcsXG4gICAgICAndGl0bGUnLFxuICAgICAgJ2lkJyxcbiAgICBdLFxuICAgIC8vIEJsb2NrIGFsbCBzY3JpcHQtbGlrZSBjb250ZW50XG4gICAgRk9SQklEX1RBR1M6IFsnc2NyaXB0JywgJ3N0eWxlJywgJ2lmcmFtZScsICdvYmplY3QnLCAnZW1iZWQnLCAnbGluayddLFxuICAgIEZPUkJJRF9BVFRSOiBbJ29uZXJyb3InLCAnb25sb2FkJywgJ29uY2xpY2snLCAnb25tb3VzZW92ZXInXSxcbiAgICAvLyBSZXR1cm4gY2xlYW4gSFRNTCBvciBlbXB0eSBzdHJpbmcgKG5ldmVyIHJldHVybiBkaXJ0eSBIVE1MKVxuICAgIFJFVFVSTl9ET006IGZhbHNlLFxuICAgIFJFVFVSTl9ET01fRlJBR01FTlQ6IGZhbHNlLFxuICAgIFNBRkVfRk9SX1RFTVBMQVRFUzogdHJ1ZSxcbiAgfTtcblxuICAvLyBNZXJnZSBjdXN0b20gb3B0aW9ucyB3aXRoIGRlZmF1bHRzXG4gIGNvbnN0IGNvbmZpZyA9IHsgLi4uZGVmYXVsdENvbmZpZywgLi4ub3B0aW9ucyB9O1xuXG4gIC8vIFNhbml0aXplIGFuZCByZXR1cm5cbiAgcmV0dXJuIERPTVB1cmlmeS5zYW5pdGl6ZShkaXJ0eSwgY29uZmlnKTtcbn1cblxuLyoqXG4gKiBTYW5pdGl6ZSB0ZXh0IGNvbnRlbnQgKHN0cmlwcyBBTEwgSFRNTCB0YWdzKVxuICogVXNlIGZvciBwbGFpbiB0ZXh0IGNvbnRleHRzIHdoZXJlIG5vIEhUTUwgaXMgYWxsb3dlZFxuICpcbiAqIEBwYXJhbSBkaXJ0eSAtIFVudHJ1c3RlZCBzdHJpbmdcbiAqIEByZXR1cm5zIFBsYWluIHRleHQgd2l0aCBhbGwgSFRNTCByZW1vdmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIGVsZW1lbnQudGV4dENvbnRlbnQgPSBzYW5pdGl6ZVRleHQodXNlcklucHV0KTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplVGV4dChkaXJ0eTogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIERPTVB1cmlmeS5zYW5pdGl6ZShkaXJ0eSwge1xuICAgIEFMTE9XRURfVEFHUzogW10sICAgICAvLyBObyBIVE1MIHRhZ3MgYWxsb3dlZFxuICAgIEFMTE9XRURfQVRUUjogW10sICAgICAvLyBObyBhdHRyaWJ1dGVzIGFsbG93ZWRcbiAgICBLRUVQX0NPTlRFTlQ6IHRydWUsICAgLy8gS2VlcCB0ZXh0IGNvbnRlbnQsIHN0cmlwIHRhZ3NcbiAgfSk7XG59XG5cbi8qKlxuICogU2FuaXRpemUgVVJMcyB0byBwcmV2ZW50IGphdmFzY3JpcHQ6IGFuZCBkYXRhOiBVUklzXG4gKlxuICogQHBhcmFtIHVybCAtIFVudHJ1c3RlZCBVUkwgc3RyaW5nXG4gKiBAcmV0dXJucyBTYWZlIFVSTCBvciBlbXB0eSBzdHJpbmcgaWYgbWFsaWNpb3VzXG4gKlxuICogQGV4YW1wbGVcbiAqIGFuY2hvci5ocmVmID0gc2FuaXRpemVVcmwodXNlclByb3ZpZGVkVXJsKTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplVXJsKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3Qgc2FuaXRpemVkID0gRE9NUHVyaWZ5LnNhbml0aXplKHVybCwge1xuICAgIEFMTE9XRURfVEFHUzogW10sXG4gICAgQUxMT1dFRF9BVFRSOiBbXSxcbiAgfSk7XG5cbiAgLy8gQWRkaXRpb25hbCBjaGVjayBmb3IgZGFuZ2Vyb3VzIHByb3RvY29sc1xuICBjb25zdCBsb3dlclVybCA9IHNhbml0aXplZC50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgaWYgKFxuICAgIGxvd2VyVXJsLnN0YXJ0c1dpdGgoJ2phdmFzY3JpcHQ6JykgfHxcbiAgICBsb3dlclVybC5zdGFydHNXaXRoKCdkYXRhOicpIHx8XG4gICAgbG93ZXJVcmwuc3RhcnRzV2l0aCgndmJzY3JpcHQ6JylcbiAgKSB7XG4gICAgY29uc29sZS53YXJuKCdbU2FuaXRpemVyXSBCbG9ja2VkIGRhbmdlcm91cyBVUkw6JywgdXJsKTtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICByZXR1cm4gc2FuaXRpemVkO1xufVxuXG4vKipcbiAqIEVzY2FwZSBIVE1MIHNwZWNpYWwgY2hhcmFjdGVyc1xuICogQWx0ZXJuYXRpdmUgdG8gc2FuaXRpemVIdG1sIHdoZW4geW91IHdhbnQgdG8gc2hvdyBIVE1MIGFzIHRleHRcbiAqXG4gKiBAcGFyYW0gdGV4dCAtIFRleHQgY29udGFpbmluZyBIVE1MIGNoYXJhY3RlcnNcbiAqIEByZXR1cm5zIEhUTUwtZXNjYXBlZCBzdHJpbmdcbiAqXG4gKiBAZXhhbXBsZVxuICogZWxlbWVudC50ZXh0Q29udGVudCA9IGVzY2FwZUh0bWwoJzxzY3JpcHQ+YWxlcnQoXCJ4c3NcIik8L3NjcmlwdD4nKTtcbiAqIC8vIERpc3BsYXlzOiAmbHQ7c2NyaXB0Jmd0O2FsZXJ0KFwieHNzXCIpJmx0Oy9zY3JpcHQmZ3Q7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVIdG1sKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaXYudGV4dENvbnRlbnQgPSB0ZXh0O1xuICByZXR1cm4gZGl2LmlubmVySFRNTDtcbn1cblxuLyoqXG4gKiBTYW5pdGl6ZSBIVE1MIGZvciBBSSBjaGF0IG1lc3NhZ2VzXG4gKiBTdHJpY3RlciBjb25maWcgZm9yIHVzZXIvQUktZ2VuZXJhdGVkIGNvbnRlbnRcbiAqXG4gKiBAcGFyYW0gZGlydHkgLSBBSSByZXNwb25zZSBvciB1c2VyIG1lc3NhZ2VcbiAqIEByZXR1cm5zIFNhZmUgSFRNTCBzdWl0YWJsZSBmb3IgY2hhdCBkaXNwbGF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZUNoYXRNZXNzYWdlKGRpcnR5OiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gc2FuaXRpemVIdG1sKGRpcnR5LCB7XG4gICAgQUxMT1dFRF9UQUdTOiBbJ3AnLCAnYnInLCAnYicsICdpJywgJ2VtJywgJ3N0cm9uZycsICdjb2RlJywgJ3ByZScsICdhJ10sXG4gICAgQUxMT1dFRF9BVFRSOiBbJ2hyZWYnLCAnY2xhc3MnXSxcbiAgICAvLyBFeHRyYSBzdHJpY3QgZm9yIGNoYXRcbiAgICBGT1JCSURfVEFHUzogWydzY3JpcHQnLCAnc3R5bGUnLCAnaWZyYW1lJywgJ29iamVjdCcsICdlbWJlZCcsICdsaW5rJywgJ2ltZycsICd2aWRlbyddLFxuICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJHZW1pbmlPYnNlcnZlciIsImNvbnN0cnVjdG9yIiwib2JzZXJ2ZXIiLCJhbGlhc2VzIiwiTWFwIiwiZGVib3VuY2VUaW1lciIsImlzQWN0aXZlIiwiREVCT1VOQ0VfTVMiLCJNQVhfTVVUQVRJT05TX1BFUl9CQVRDSCIsIlJFU1BPTlNFX1NFTEVDVE9SUyIsIkVYQ0xVREVfU0VMRUNUT1JTIiwiY29uc29sZSIsImxvZyIsInN0YXJ0Iiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwidGhpcyIsIndhcm4iLCJmZXRjaEFsaWFzZXMiLCJNdXRhdGlvbk9ic2VydmVyIiwibXV0YXRpb25zIiwiaGFuZGxlTXV0YXRpb25zIiwib2JzZXJ2ZSIsImRvY3VtZW50IiwiYm9keSIsImNoaWxkTGlzdCIsInN1YnRyZWUiLCJjaGFyYWN0ZXJEYXRhIiwiY2hhcmFjdGVyRGF0YU9sZFZhbHVlIiwic3RvcCIsImRpc2Nvbm5lY3QiLCJjbGVhclRpbWVvdXQiLCJpc1J1bm5pbmciLCJ1cGRhdGVBbGlhc2VzIiwiY2xlYXIiLCJmb3JFYWNoIiwicmVhbCIsImFsaWFzIiwic2V0IiwidG9Mb3dlckNhc2UiLCJ0b1VwcGVyQ2FzZSIsInRvVGl0bGVDYXNlIiwic2l6ZSIsImxlbmd0aCIsInNsaWNlIiwic2V0VGltZW91dCIsInByb2Nlc3NNdXRhdGlvbnMiLCJzdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInJlcGxhY2VtZW50cyIsInRleHROb2RlcyIsIm11dGF0aW9uIiwidHlwZSIsImFkZGVkTm9kZXMiLCJub2RlIiwiaXNSZXNwb25zZU5vZGUiLCJwdXNoIiwiZ2V0VGV4dE5vZGVzIiwidGFyZ2V0IiwicGFyZW50RWxlbWVudCIsInRleHROb2RlIiwicmVwbGFjZUFsaWFzZXNJblRleHQiLCJkdXJhdGlvbiIsInRvRml4ZWQiLCJub2RlVHlwZSIsIk5vZGUiLCJFTEVNRU5UX05PREUiLCJlbGVtZW50Iiwic2VsZWN0b3IiLCJtYXRjaGVzIiwiY2xvc2VzdCIsIndhbGtlciIsImNyZWF0ZVRyZWVXYWxrZXIiLCJOb2RlRmlsdGVyIiwiU0hPV19URVhUIiwiYWNjZXB0Tm9kZSIsInRleHRDb250ZW50IiwidHJpbSIsIkZJTFRFUl9BQ0NFUFQiLCJGSUxURVJfUkVKRUNUIiwiY3VycmVudE5vZGUiLCJuZXh0Tm9kZSIsInRleHQiLCJtb2RpZmllZCIsInJlZ2V4IiwiUmVnRXhwIiwiZXNjYXBlUmVnZXgiLCJ0ZXN0IiwicmVwbGFjZSIsIm1lc3NhZ2VJZCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImhhbmRsZU1lc3NhZ2UiLCJldmVudCIsImRhdGEiLCJzb3VyY2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVzcG9uc2UiLCJzdWNjZXNzIiwiYWxsQWxpYXNlcyIsInByb2ZpbGUiLCJpbmRleCIsImVuYWJsZWQiLCJuYW1lIiwiZW1haWwiLCJwaG9uZSIsImNlbGxQaG9uZSIsImFkZHJlc3MiLCJjb21wYW55IiwiY3VzdG9tIiwiT2JqZWN0Iiwia2V5cyIsImtleSIsImFkZEV2ZW50TGlzdGVuZXIiLCJwb3N0TWVzc2FnZSIsInBheWxvYWQiLCJlcnJvciIsInN0ciIsInR4dCIsImNoYXJBdCIsImFjdGl2ZU9ic2VydmVyIiwiaW5pdE9ic2VydmVycyIsImhvc3RuYW1lIiwiaW5jbHVkZXMiLCJlbnRyaWVzIiwic2V0UHJvdG90eXBlT2YiLCJpc0Zyb3plbiIsImdldFByb3RvdHlwZU9mIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZnJlZXplIiwic2VhbCIsImNyZWF0ZSIsImFwcGx5IiwiY29uc3RydWN0IiwiUmVmbGVjdCIsIngiLCJmdW5jIiwidGhpc0FyZyIsIl9sZW4iLCJhcmd1bWVudHMiLCJhcmdzIiwiQXJyYXkiLCJfa2V5IiwiRnVuYyIsIl9sZW4yIiwiX2tleTIiLCJhcnJheUZvckVhY2giLCJ1bmFwcGx5IiwicHJvdG90eXBlIiwiYXJyYXlMYXN0SW5kZXhPZiIsImxhc3RJbmRleE9mIiwiYXJyYXlQb3AiLCJwb3AiLCJhcnJheVB1c2giLCJhcnJheVNwbGljZSIsInNwbGljZSIsInN0cmluZ1RvTG93ZXJDYXNlIiwiU3RyaW5nIiwic3RyaW5nVG9TdHJpbmciLCJzdHJpbmdNYXRjaCIsIm1hdGNoIiwic3RyaW5nUmVwbGFjZSIsInN0cmluZ0luZGV4T2YiLCJpbmRleE9mIiwic3RyaW5nVHJpbSIsIm9iamVjdEhhc093blByb3BlcnR5IiwiaGFzT3duUHJvcGVydHkiLCJyZWdFeHBUZXN0IiwidHlwZUVycm9yQ3JlYXRlIiwiVHlwZUVycm9yIiwiX2xlbjQiLCJfa2V5NCIsImxhc3RJbmRleCIsIl9sZW4zIiwiX2tleTMiLCJhZGRUb1NldCIsImFycmF5IiwidHJhbnNmb3JtQ2FzZUZ1bmMiLCJ1bmRlZmluZWQiLCJsIiwibGNFbGVtZW50IiwiY2xlYW5BcnJheSIsImNsb25lIiwib2JqZWN0IiwibmV3T2JqZWN0IiwicHJvcGVydHkiLCJ2YWx1ZSIsImlzQXJyYXkiLCJsb29rdXBHZXR0ZXIiLCJwcm9wIiwiZGVzYyIsImdldCIsImh0bWwkMSIsInN2ZyQxIiwic3ZnRmlsdGVycyIsInN2Z0Rpc2FsbG93ZWQiLCJtYXRoTWwkMSIsIm1hdGhNbERpc2FsbG93ZWQiLCJodG1sIiwic3ZnIiwibWF0aE1sIiwieG1sIiwiTVVTVEFDSEVfRVhQUiIsIkVSQl9FWFBSIiwiVE1QTElUX0VYUFIiLCJEQVRBX0FUVFIiLCJBUklBX0FUVFIiLCJJU19BTExPV0VEX1VSSSIsIklTX1NDUklQVF9PUl9EQVRBIiwiQVRUUl9XSElURVNQQUNFIiwiRE9DVFlQRV9OQU1FIiwiQ1VTVE9NX0VMRU1FTlQiLCJFWFBSRVNTSU9OUyIsIl9fcHJvdG9fXyIsImdldEdsb2JhbCIsInB1cmlmeSIsImNyZWF0ZURPTVB1cmlmeSIsIkRPTVB1cmlmeSIsInJvb3QiLCJ2ZXJzaW9uIiwicmVtb3ZlZCIsIkVsZW1lbnQiLCJpc1N1cHBvcnRlZCIsIm9yaWdpbmFsRG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0IiwiRG9jdW1lbnRGcmFnbWVudCIsIkhUTUxUZW1wbGF0ZUVsZW1lbnQiLCJOYW1lZE5vZGVNYXAiLCJNb3pOYW1lZEF0dHJNYXAiLCJIVE1MRm9ybUVsZW1lbnQiLCJET01QYXJzZXIiLCJ0cnVzdGVkVHlwZXMiLCJFbGVtZW50UHJvdG90eXBlIiwiY2xvbmVOb2RlIiwicmVtb3ZlIiwiZ2V0TmV4dFNpYmxpbmciLCJnZXRDaGlsZE5vZGVzIiwiZ2V0UGFyZW50Tm9kZSIsInRlbXBsYXRlIiwiY3JlYXRlRWxlbWVudCIsImNvbnRlbnQiLCJvd25lckRvY3VtZW50IiwidHJ1c3RlZFR5cGVzUG9saWN5IiwiZW1wdHlIVE1MIiwiaW1wbGVtZW50YXRpb24iLCJjcmVhdGVOb2RlSXRlcmF0b3IiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpbXBvcnROb2RlIiwiaG9va3MiLCJhZnRlclNhbml0aXplQXR0cmlidXRlcyIsImFmdGVyU2FuaXRpemVFbGVtZW50cyIsImFmdGVyU2FuaXRpemVTaGFkb3dET00iLCJiZWZvcmVTYW5pdGl6ZUF0dHJpYnV0ZXMiLCJiZWZvcmVTYW5pdGl6ZUVsZW1lbnRzIiwiYmVmb3JlU2FuaXRpemVTaGFkb3dET00iLCJ1cG9uU2FuaXRpemVBdHRyaWJ1dGUiLCJ1cG9uU2FuaXRpemVFbGVtZW50IiwidXBvblNhbml0aXplU2hhZG93Tm9kZSIsImNyZWF0ZUhUTUxEb2N1bWVudCIsIklTX0FMTE9XRURfVVJJJDEiLCJBTExPV0VEX1RBR1MiLCJERUZBVUxUX0FMTE9XRURfVEFHUyIsIkFMTE9XRURfQVRUUiIsIkRFRkFVTFRfQUxMT1dFRF9BVFRSIiwiQ1VTVE9NX0VMRU1FTlRfSEFORExJTkciLCJ0YWdOYW1lQ2hlY2siLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJhdHRyaWJ1dGVOYW1lQ2hlY2siLCJhbGxvd0N1c3RvbWl6ZWRCdWlsdEluRWxlbWVudHMiLCJGT1JCSURfVEFHUyIsIkZPUkJJRF9BVFRSIiwiRVhUUkFfRUxFTUVOVF9IQU5ETElORyIsInRhZ0NoZWNrIiwiYXR0cmlidXRlQ2hlY2siLCJBTExPV19BUklBX0FUVFIiLCJBTExPV19EQVRBX0FUVFIiLCJBTExPV19VTktOT1dOX1BST1RPQ09MUyIsIkFMTE9XX1NFTEZfQ0xPU0VfSU5fQVRUUiIsIlNBRkVfRk9SX1RFTVBMQVRFUyIsIlNBRkVfRk9SX1hNTCIsIldIT0xFX0RPQ1VNRU5UIiwiU0VUX0NPTkZJRyIsIkZPUkNFX0JPRFkiLCJSRVRVUk5fRE9NIiwiUkVUVVJOX0RPTV9GUkFHTUVOVCIsIlJFVFVSTl9UUlVTVEVEX1RZUEUiLCJTQU5JVElaRV9ET00iLCJTQU5JVElaRV9OQU1FRF9QUk9QUyIsIktFRVBfQ09OVEVOVCIsIklOX1BMQUNFIiwiVVNFX1BST0ZJTEVTIiwiRk9SQklEX0NPTlRFTlRTIiwiREVGQVVMVF9GT1JCSURfQ09OVEVOVFMiLCJEQVRBX1VSSV9UQUdTIiwiREVGQVVMVF9EQVRBX1VSSV9UQUdTIiwiVVJJX1NBRkVfQVRUUklCVVRFUyIsIkRFRkFVTFRfVVJJX1NBRkVfQVRUUklCVVRFUyIsIk1BVEhNTF9OQU1FU1BBQ0UiLCJTVkdfTkFNRVNQQUNFIiwiSFRNTF9OQU1FU1BBQ0UiLCJOQU1FU1BBQ0UiLCJJU19FTVBUWV9JTlBVVCIsIkFMTE9XRURfTkFNRVNQQUNFUyIsIkRFRkFVTFRfQUxMT1dFRF9OQU1FU1BBQ0VTIiwiTUFUSE1MX1RFWFRfSU5URUdSQVRJT05fUE9JTlRTIiwiSFRNTF9JTlRFR1JBVElPTl9QT0lOVFMiLCJDT01NT05fU1ZHX0FORF9IVE1MX0VMRU1FTlRTIiwiUEFSU0VSX01FRElBX1RZUEUiLCJTVVBQT1JURURfUEFSU0VSX01FRElBX1RZUEVTIiwiQ09ORklHIiwiZm9ybUVsZW1lbnQiLCJpc1JlZ2V4T3JGdW5jdGlvbiIsInRlc3RWYWx1ZSIsIkZ1bmN0aW9uIiwiX3BhcnNlQ29uZmlnIiwiY2ZnIiwiQUREX1VSSV9TQUZFX0FUVFIiLCJBRERfREFUQV9VUklfVEFHUyIsIkFMTE9XRURfVVJJX1JFR0VYUCIsIkFERF9UQUdTIiwiQUREX0FUVFIiLCJ0YWJsZSIsInRib2R5IiwiVFJVU1RFRF9UWVBFU19QT0xJQ1kiLCJjcmVhdGVIVE1MIiwiY3JlYXRlU2NyaXB0VVJMIiwicHVyaWZ5SG9zdEVsZW1lbnQiLCJjcmVhdGVQb2xpY3kiLCJzdWZmaXgiLCJBVFRSX05BTUUiLCJoYXNBdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJwb2xpY3lOYW1lIiwic2NyaXB0VXJsIiwiXyIsIl9jcmVhdGVUcnVzdGVkVHlwZXNQb2xpY3kiLCJBTExfU1ZHX1RBR1MiLCJBTExfTUFUSE1MX1RBR1MiLCJfZm9yY2VSZW1vdmUiLCJyZW1vdmVDaGlsZCIsIl9yZW1vdmVBdHRyaWJ1dGUiLCJhdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGVOb2RlIiwiZnJvbSIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsIl9pbml0RG9jdW1lbnQiLCJkaXJ0eSIsImRvYyIsImxlYWRpbmdXaGl0ZXNwYWNlIiwiZGlydHlQYXlsb2FkIiwicGFyc2VGcm9tU3RyaW5nIiwiZG9jdW1lbnRFbGVtZW50IiwiY3JlYXRlRG9jdW1lbnQiLCJpbm5lckhUTUwiLCJpbnNlcnRCZWZvcmUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJjYWxsIiwiX2NyZWF0ZU5vZGVJdGVyYXRvciIsIlNIT1dfRUxFTUVOVCIsIlNIT1dfQ09NTUVOVCIsIlNIT1dfUFJPQ0VTU0lOR19JTlNUUlVDVElPTiIsIlNIT1dfQ0RBVEFfU0VDVElPTiIsIl9pc0Nsb2JiZXJlZCIsIm5vZGVOYW1lIiwiYXR0cmlidXRlcyIsIm5hbWVzcGFjZVVSSSIsImhhc0NoaWxkTm9kZXMiLCJfaXNOb2RlIiwiX2V4ZWN1dGVIb29rcyIsImhvb2siLCJfc2FuaXRpemVFbGVtZW50cyIsInRhZ05hbWUiLCJhbGxvd2VkVGFncyIsImZpcnN0RWxlbWVudENoaWxkIiwiX2lzQmFzaWNDdXN0b21FbGVtZW50IiwicGFyZW50Tm9kZSIsImkiLCJjaGlsZENsb25lIiwiX19yZW1vdmFsQ291bnQiLCJwYXJlbnQiLCJwYXJlbnRUYWdOYW1lIiwiQm9vbGVhbiIsIl9jaGVja1ZhbGlkTmFtZXNwYWNlIiwiZXhwciIsIl9pc1ZhbGlkQXR0cmlidXRlIiwibGNUYWciLCJsY05hbWUiLCJfc2FuaXRpemVBdHRyaWJ1dGVzIiwiaG9va0V2ZW50IiwiYXR0ck5hbWUiLCJhdHRyVmFsdWUiLCJrZWVwQXR0ciIsImFsbG93ZWRBdHRyaWJ1dGVzIiwiZm9yY2VLZWVwQXR0ciIsImF0dHIiLCJpbml0VmFsdWUiLCJnZXRBdHRyaWJ1dGVUeXBlIiwic2V0QXR0cmlidXRlTlMiLCJfc2FuaXRpemVTaGFkb3dET00iLCJmcmFnbWVudCIsInNoYWRvd05vZGUiLCJzaGFkb3dJdGVyYXRvciIsInNhbml0aXplIiwiaW1wb3J0ZWROb2RlIiwicmV0dXJuTm9kZSIsImFwcGVuZENoaWxkIiwiZmlyc3RDaGlsZCIsIm5vZGVJdGVyYXRvciIsInNoYWRvd3Jvb3QiLCJzaGFkb3dyb290bW9kZSIsInNlcmlhbGl6ZWRIVE1MIiwib3V0ZXJIVE1MIiwiZG9jdHlwZSIsInNldENvbmZpZyIsImNsZWFyQ29uZmlnIiwiaXNWYWxpZEF0dHJpYnV0ZSIsInRhZyIsImFkZEhvb2siLCJlbnRyeVBvaW50IiwiaG9va0Z1bmN0aW9uIiwicmVtb3ZlSG9vayIsInJlbW92ZUhvb2tzIiwicmVtb3ZlQWxsSG9va3MiLCJfX0FJX1BJSV9DT05URU5UX0lOSkVDVEVEX18iLCJzY3JpcHQiLCJzcmMiLCJjaHJvbWUiLCJydW50aW1lIiwiZ2V0VVJMIiwib25sb2FkIiwiaGVhZCIsInJlYWR5U3RhdGUiLCJhc3luYyIsInNob3dBY3RpdmF0aW9uVG9hc3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNlbmRNZXNzYWdlIiwic2V0dGluZ3MiLCJwcm90ZWN0ZWREb21haW5zIiwiY3VycmVudERvbWFpbiIsInNvbWUiLCJkb21haW4iLCJoYXNBY3RpdmVQcm9maWxlcyIsImF0dGVtcHRzIiwibWF4QXR0ZW1wdHMiLCJyZXRyeURlbGF5IiwicHJvZmlsZXNSZXNwb25zZSIsInAiLCJ0b2FzdCIsImlkIiwic3R5bGUiLCJjc3NUZXh0Iiwib3BhY2l0eSIsInRyYW5zZm9ybSIsInNob3dBUElLZXlXYXJuaW5nIiwiZXhpc3RpbmciLCJnZXRFbGVtZW50QnlJZCIsIm1vZGFsIiwia2V5c0RldGVjdGVkIiwia2V5VHlwZXMiLCJtYXAiLCJkaXYiLCJlc2NhcGVIdG1sIiwiam9pbiIsImJsb2NrQnRuIiwicXVlcnlTZWxlY3RvciIsImFsbG93UGlpUHJvdGVjdGVkQnRuIiwiYWxsb3dBbGxCdG4iLCJib3hTaGFkb3ciLCJoYW5kbGVFc2NhcGUiLCJlIiwib25NZXNzYWdlIiwiYWRkTGlzdGVuZXIiLCJyZXF1ZXN0IiwiX3NlbmRlciIsInNlbmRSZXNwb25zZSIsInRoZW4iLCJjYXRjaCIsInRleHRhcmVhIiwiY29udGVudEVkaXRhYmxlIiwiRXJyb3IiLCJKU09OIiwic3RyaW5naWZ5Iiwic3Vic3RyaW5nIiwicGFyYWdyYXBocyIsInNwbGl0IiwiZmlsdGVyIiwicGFyYWdyYXBoIiwibGluZSIsImxpbmVJbmRleCIsImRpc3BhdGNoRXZlbnQiLCJFdmVudCIsImJ1YmJsZXMiLCJjb21wb3NlZCIsIklucHV0RXZlbnQiLCJpbnB1dFR5cGUiLCJmb2N1cyIsInJhbmdlIiwiY3JlYXRlUmFuZ2UiLCJzZWwiLCJnZXRTZWxlY3Rpb24iLCJzZWxlY3ROb2RlQ29udGVudHMiLCJjb2xsYXBzZSIsInJlbW92ZUFsbFJhbmdlcyIsImFkZFJhbmdlIiwiaHRtbENvbnRlbnQiLCJvcHRpb25zIiwiY29uZmlnIiwic2FuaXRpemVIdG1sIiwidGEiLCJzZXRTZWxlY3Rpb25SYW5nZSIsImluamVjdFRlbXBsYXRlSW50b0NoYXQiLCJtZXNzYWdlIiwidXNlckNob2ljZSIsImFsbG93IiwiaXNBbGl2ZSIsImVycm9yTXNnIiwidXNlckFjdGlvbiIsInJlbG9hZEJ0biIsImRpc2FibGVCdG4iLCJoYW5kbGVSZWxvYWQiLCJzdG9wUHJvcGFnYXRpb24iLCJyZWxvYWQiLCJoYW5kbGVEaXNhYmxlIiwib25jbGljayIsImJhY2tncm91bmQiLCJjbGVhbnVwIiwiaGFuZGxlQ3RybFNoaWZ0UiIsImN0cmxLZXkiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwiYWN0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==