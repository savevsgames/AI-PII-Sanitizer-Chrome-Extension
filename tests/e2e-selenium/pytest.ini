[pytest]
# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Custom markers for test categorization
markers =
    smoke: Quick smoke tests (2-5 minutes)
    auth: Authentication flow tests
    profiles: Profile management tests
    substitution: PII substitution tests (CORE)
    api_key_vault: API key protection tests
    custom_rules: Custom regex rule tests
    templates: Prompt template tests
    themes: Theme and customization tests
    quick_start: Google Quick Start tests
    advanced: Advanced feature tests
    critical: Critical path tests (P0 - must pass)
    important: Important tests (P1)
    nice_to_have: Nice to have tests (P2)

# Test execution options
addopts =
    # Reporting
    --alluredir=./reports/allure-results
    --html=./reports/report.html
    --self-contained-html

    # Output
    -v
    -s
    --tb=short
    --strict-markers

    # Warnings
    --disable-warnings

    # Coverage (optional - uncomment if needed)
    # --cov=helpers
    # --cov=pages
    # --cov-report=html:reports/coverage

# Logging
log_cli = true
log_cli_level = INFO
log_file = reports/test_execution.log
log_file_level = DEBUG

# Timeout (individual test timeout)
timeout = 300

# Parallel execution (uncomment to enable)
# -n auto
